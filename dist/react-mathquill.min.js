/*! For license information please see react-mathquill.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define("MathquillComponent",["react"],e):"object"==typeof exports?exports.MathquillComponent=e(require("react")):t.MathquillComponent=e(t.react)}(global,(t=>(()=>{var e={991:(t,e,n)=>{"use strict";n.d(e,{Z:()=>m});var r=n(156),o=n.n(r),i=n(697),a=n.n(i),s=n(703);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}var u=["latex","onChange","config","mathquillDidMount"];function c(){return c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c.apply(this,arguments)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===l(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(t){var e=t.latex,n=t.onChange,i=t.config,a=t.mathquillDidMount,l=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(t,u),p=(0,r.useRef)(2),h=(0,r.useRef)(null),d=(0,r.useRef)(null),m=(0,r.useRef)(n);return(0,r.useEffect)((function(){m.current=n}),[n]),(0,r.useEffect)((function(){if(d.current){var t={restrictMismatchedBrackets:!0,handlers:{}};i&&(t=f(f({},t),i));var n=t.handlers.edit;t.handlers.edit=function(t){n&&n(),p.current>0?p.current-=1:m.current&&m.current(t)},h.current=s.Z.MathField(d.current,t),h.current.latex(e||""),a&&a(h.current)}}),[d]),(0,r.useEffect)((function(){h.current&&h.current.latex()!==e&&h.current.latex(e)}),[e]),o().createElement("span",c({},l,{ref:d}))};d.propTypes={latex:a().string,onChange:a().func,config:a().object,mathquillDidMount:a().func};const m=d},717:(t,e,n)=>{"use strict";n.d(e,{Z:()=>p});var r=n(156),o=n.n(r),i=n(697),a=n.n(i),s=n(703),l=["mathquillDidMount","children"];function u(){return u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u.apply(this,arguments)}var c=function(t){var e=t.mathquillDidMount,n=t.children,i=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(t,l),a=(0,r.useRef)(null),c=(0,r.useRef)(null);return(0,r.useLayoutEffect)((function(){a&&(c.current=s.Z.StaticMath(a.current),e&&e(c.current))}),[a,n]),o().createElement("span",u({},i,{ref:a}),n)};c.propTypes={children:a().string,mathquillDidMount:a().func};const p=c},703:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=n(992).getInterface(2)},565:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,"/*\n * MathQuill v0.10.1, by Han, Jeanine, and Mary\n * http://mathquill.com | maintainers@mathquill.com\n *\n * This Source Code Form is subject to the terms of the\n * Mozilla Public License, v. 2.0. If a copy of the MPL\n * was not distributed with this file, You can obtain\n * one at http://mozilla.org/MPL/2.0/.\n */\n.mq-aria-alert {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 0px;\n  height: 0px;\n  text-align: left;\n  overflow: hidden;\n}\n.mq-mathspeak {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 0px;\n  height: 0px;\n  text-align: left;\n  overflow: hidden;\n}\n@font-face {\n  /* Heavy fonts have been removed */\n  font-family: Symbola;\n}\n.mq-editable-field {\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-editable-field .mq-cursor {\n  border-left: 1px solid currentColor;\n  margin-left: -1px;\n  position: relative;\n  z-index: 1;\n  padding: 0;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-editable-field .mq-cursor.mq-blink {\n  visibility: hidden;\n}\n.mq-editable-field,\n.mq-math-mode .mq-editable-field {\n  border: 1px solid gray;\n}\n.mq-editable-field.mq-focused,\n.mq-math-mode .mq-editable-field.mq-focused {\n  -webkit-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  -moz-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;\n  border-color: #709AC0;\n}\n.mq-math-mode .mq-editable-field {\n  margin: 1px;\n}\n.mq-editable-field .mq-latex-command-input {\n  color: inherit;\n  font-family: \"Courier New\", monospace;\n  border: 1px solid gray;\n  padding-right: 1px;\n  margin-right: 1px;\n  margin-left: 2px;\n}\n.mq-editable-field .mq-latex-command-input.mq-empty {\n  background: transparent;\n}\n.mq-editable-field .mq-latex-command-input.mq-hasCursor {\n  border-color: ActiveBorder;\n}\n.mq-editable-field.mq-empty:after,\n.mq-editable-field.mq-text-mode:after,\n.mq-math-mode .mq-empty:after {\n  visibility: hidden;\n  content: 'c';\n}\n.mq-editable-field .mq-cursor:only-child:after,\n.mq-editable-field .mq-textarea + .mq-cursor:last-child:after {\n  visibility: hidden;\n  content: 'c';\n}\n.mq-editable-field .mq-text-mode .mq-cursor:only-child:after {\n  content: '';\n}\n.mq-editable-field.mq-text-mode {\n  overflow-x: auto;\n  overflow-y: hidden;\n}\n.mq-root-block,\n.mq-math-mode .mq-root-block {\n  display: -moz-inline-box;\n  display: inline-block;\n  width: 100%;\n  padding: 2px;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  white-space: nowrap;\n  overflow: hidden;\n  vertical-align: middle;\n}\n.mq-root-block .mq-digit,\n.mq-math-mode .mq-root-block .mq-digit {\n  margin-left: 0.009em;\n  margin-right: 0.009em;\n}\n.mq-root-block .mq-group-start,\n.mq-math-mode .mq-root-block .mq-group-start {\n  margin-left: 0.11em;\n  margin-right: -0.01em;\n}\n.mq-root-block .mq-group-other,\n.mq-math-mode .mq-root-block .mq-group-other {\n  margin-left: -0.01em;\n  margin-right: -0.01em;\n}\n.mq-root-block .mq-group-leading-1,\n.mq-math-mode .mq-root-block .mq-group-leading-1,\n.mq-root-block .mq-group-leading-2,\n.mq-math-mode .mq-root-block .mq-group-leading-2 {\n  margin-left: 0;\n  margin-right: -0.01em;\n}\n.mq-root-block .mq-group-leading-3,\n.mq-math-mode .mq-root-block .mq-group-leading-3 {\n  margin-left: 0.036em;\n  margin-right: -0.01em;\n}\n.mq-root-block.mq-suppress-grouping .mq-group-start,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-start,\n.mq-root-block.mq-suppress-grouping .mq-group-other,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-other,\n.mq-root-block.mq-suppress-grouping .mq-group-leading-1,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-leading-1,\n.mq-root-block.mq-suppress-grouping .mq-group-leading-2,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-leading-2,\n.mq-root-block.mq-suppress-grouping .mq-group-leading-3,\n.mq-math-mode .mq-root-block.mq-suppress-grouping .mq-group-leading-3 {\n  margin-left: 0.009em;\n  margin-right: 0.009em;\n}\n.mq-math-mode {\n  font-variant: normal;\n  font-weight: normal;\n  font-style: normal;\n  font-size: 115%;\n  line-height: 1;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode .mq-non-leaf,\n.mq-math-mode .mq-scaled {\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode var,\n.mq-math-mode .mq-text-mode,\n.mq-math-mode .mq-nonSymbola {\n  font-family: \"Times New Roman\", Symbola, serif;\n  line-height: .9;\n}\n.mq-math-mode svg {\n  fill: currentColor;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.mq-math-mode * {\n  font-size: inherit;\n  line-height: inherit;\n  margin: 0;\n  padding: 0;\n  border-color: black;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  box-sizing: border-box;\n}\n.mq-math-mode .mq-empty {\n  background: rgba(0, 0, 0, 0.2);\n}\n.mq-math-mode .mq-empty.mq-root-block {\n  background: transparent;\n}\n.mq-math-mode .mq-empty.mq-quiet-delimiter {\n  background: transparent;\n}\n.mq-math-mode.mq-empty {\n  background: transparent;\n}\n.mq-math-mode .mq-text-mode {\n  display: inline-block;\n  white-space: pre;\n}\n.mq-math-mode .mq-text-mode.mq-hasCursor {\n  box-shadow: inset darkgray 0 .1em .2em;\n  padding: 0 .1em;\n  margin: 0 -0.1em;\n  min-width: 1ex;\n}\n.mq-math-mode .mq-font {\n  font: 1em \"Times New Roman\", Symbola, serif;\n}\n.mq-math-mode .mq-font * {\n  font-family: inherit;\n  font-style: inherit;\n}\n.mq-math-mode b,\n.mq-math-mode b.mq-font {\n  font-weight: bolder;\n}\n.mq-math-mode var,\n.mq-math-mode i,\n.mq-math-mode i.mq-font {\n  font-style: italic;\n}\n.mq-math-mode var.mq-f {\n  margin-right: 0.2em;\n  margin-left: 0.1em;\n}\n.mq-math-mode .mq-roman var.mq-f {\n  margin: 0;\n}\n.mq-math-mode big {\n  font-size: 200%;\n}\n.mq-math-mode .mq-int > big {\n  display: inline-block;\n  -webkit-transform: scaleX(0.7);\n  -moz-transform: scaleX(0.7);\n  -ms-transform: scaleX(0.7);\n  -o-transform: scaleX(0.7);\n  transform: scaleX(0.7);\n  vertical-align: -0.16em;\n}\n.mq-math-mode .mq-int > .mq-supsub {\n  font-size: 80%;\n  vertical-align: -1.1em;\n  padding-right: .2em;\n}\n.mq-math-mode .mq-int > .mq-supsub > .mq-sup > .mq-sup-inner {\n  vertical-align: 1.3em;\n}\n.mq-math-mode .mq-int > .mq-supsub > .mq-sub {\n  margin-left: -0.35em;\n}\n.mq-math-mode .mq-roman {\n  font-style: normal;\n}\n.mq-math-mode .mq-sans-serif {\n  font-family: sans-serif, Symbola, serif;\n}\n.mq-math-mode .mq-monospace {\n  font-family: monospace, Symbola, serif;\n}\n.mq-math-mode .mq-overline {\n  border-top: 1px solid;\n  margin-top: 1px;\n}\n.mq-math-mode .mq-underline {\n  border-bottom: 1px solid;\n  margin-bottom: 1px;\n}\n.mq-math-mode .mq-binary-operator {\n  padding: 0 0.2em;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n.mq-math-mode .mq-supsub {\n  text-align: left;\n  font-size: 90%;\n  vertical-align: -0.5em;\n}\n.mq-math-mode .mq-supsub.mq-sup-only {\n  vertical-align: .5em;\n}\n.mq-math-mode .mq-supsub.mq-sup-only > .mq-sup {\n  display: inline-block;\n  vertical-align: text-bottom;\n}\n.mq-math-mode .mq-supsub .mq-sup {\n  display: block;\n}\n.mq-math-mode .mq-supsub .mq-sub {\n  display: block;\n  float: left;\n}\n.mq-math-mode .mq-supsub .mq-binary-operator {\n  padding: 0 .1em;\n}\n.mq-math-mode .mq-supsub .mq-fraction {\n  font-size: 70%;\n}\n.mq-math-mode sup.mq-nthroot {\n  font-size: 80%;\n  vertical-align: 0.8em;\n  margin-right: -0.6em;\n  margin-left: .2em;\n  min-width: .5em;\n}\n.mq-math-mode .mq-ghost svg {\n  opacity: 0.2;\n}\n.mq-math-mode .mq-bracket-middle {\n  margin-top: .1em;\n  margin-bottom: .1em;\n}\n.mq-math-mode .mq-bracket-l,\n.mq-math-mode .mq-bracket-r {\n  position: absolute;\n  top: 0;\n  bottom: 2px;\n}\n.mq-math-mode .mq-bracket-l {\n  left: 0;\n}\n.mq-math-mode .mq-bracket-r {\n  right: 0;\n}\n.mq-math-mode .mq-bracket-container {\n  position: relative;\n}\n.mq-math-mode .mq-array {\n  vertical-align: middle;\n  text-align: center;\n}\n.mq-math-mode .mq-array > span {\n  display: block;\n}\n.mq-math-mode .mq-operator-name {\n  font-family: Symbola, \"Times New Roman\", serif;\n  line-height: .9;\n  font-style: normal;\n}\n.mq-math-mode var.mq-operator-name.mq-first {\n  padding-left: .2em;\n}\n.mq-math-mode var.mq-operator-name.mq-last,\n.mq-math-mode .mq-supsub.mq-after-operator-name {\n  padding-right: .2em;\n}\n.mq-math-mode .mq-fraction {\n  font-size: 90%;\n  text-align: center;\n  vertical-align: -0.4em;\n  padding: 0 .2em;\n}\n.mq-math-mode .mq-fraction,\n.mq-math-mode .mq-large-operator,\n.mq-math-mode x:-moz-any-link {\n  display: -moz-groupbox;\n}\n.mq-math-mode .mq-fraction,\n.mq-math-mode .mq-large-operator,\n.mq-math-mode x:-moz-any-link,\n.mq-math-mode x:default {\n  display: inline-block;\n}\n.mq-math-mode .mq-numerator,\n.mq-math-mode .mq-denominator,\n.mq-math-mode .mq-dot-recurring {\n  display: block;\n}\n.mq-math-mode .mq-numerator {\n  padding: 0 0.1em;\n}\n.mq-math-mode .mq-denominator {\n  border-top: 1px solid;\n  float: right;\n  width: 100%;\n  padding: 0.1em;\n}\n.mq-math-mode .mq-dot-recurring {\n  text-align: center;\n  height: 0.3em;\n}\n.mq-math-mode .mq-sqrt-prefix {\n  position: absolute;\n  top: 1px;\n  bottom: 0.15em;\n  width: 0.95em;\n}\n.mq-math-mode .mq-sqrt-container {\n  position: relative;\n}\n.mq-math-mode .mq-sqrt-stem {\n  border-top: 1px solid;\n  margin-top: 1px;\n  margin-left: 0.9em;\n  padding-left: .15em;\n  padding-right: .2em;\n  margin-right: .1em;\n  padding-top: 1px;\n}\n.mq-math-mode .mq-diacritic-above {\n  display: block;\n  text-align: center;\n  line-height: .4em;\n}\n.mq-math-mode .mq-diacritic-stem {\n  display: block;\n  text-align: center;\n}\n.mq-math-mode .mq-hat-prefix {\n  display: block;\n  text-align: center;\n  line-height: .95em;\n  margin-bottom: -0.7em;\n  transform: scaleX(1.5);\n  -moz-transform: scaleX(1.5);\n  -o-transform: scaleX(1.5);\n  -webkit-transform: scaleX(1.5);\n}\n.mq-math-mode .mq-hat-stem {\n  display: block;\n}\n.mq-math-mode .mq-large-operator {\n  vertical-align: -0.2em;\n  padding: .2em;\n  text-align: center;\n}\n.mq-math-mode .mq-large-operator .mq-from,\n.mq-math-mode .mq-large-operator big,\n.mq-math-mode .mq-large-operator .mq-to {\n  display: block;\n}\n.mq-math-mode .mq-large-operator .mq-from,\n.mq-math-mode .mq-large-operator .mq-to {\n  font-size: 80%;\n}\n.mq-math-mode .mq-large-operator .mq-from {\n  float: right;\n  /* take out of normal flow to manipulate baseline */\n  width: 100%;\n}\n.mq-math-mode,\n.mq-math-mode .mq-editable-field {\n  cursor: text;\n  font-family: Symbola, \"Times New Roman\", serif;\n}\n.mq-math-mode .mq-overarc {\n  border-top: 1px solid black;\n  -webkit-border-top-right-radius: 50% .3em;\n  -moz-border-radius-topright: 50% .3em;\n  border-top-right-radius: 50% .3em;\n  -webkit-border-top-left-radius: 50% .3em;\n  -moz-border-radius-topleft: 50% .3em;\n  border-top-left-radius: 50% .3em;\n  margin-top: 1px;\n  padding-top: 0.15em;\n}\n.mq-math-mode .mq-overarrow {\n  min-width: .5em;\n  border-top: 1px solid black;\n  margin-top: 1px;\n  padding-top: 0.2em;\n  text-align: center;\n  position: relative;\n}\n.mq-math-mode .mq-overarrow:after {\n  position: absolute;\n  right: -0.1em;\n  top: -0.48em;\n  font-size: 0.5em;\n  content: '\\27A4';\n}\n.mq-math-mode .mq-overarrow.mq-arrow-left:after {\n  content: '';\n  display: none;\n}\n.mq-math-mode .mq-overarrow.mq-arrow-left:before,\n.mq-math-mode .mq-overarrow.mq-arrow-leftright:before {\n  position: absolute;\n  top: -0.48em;\n  left: -0.1em;\n  font-size: 0.5em;\n  content: '\\27A4';\n  -moz-transform: scaleX(-1);\n  -o-transform: scaleX(-1);\n  -webkit-transform: scaleX(-1);\n  transform: scaleX(-1);\n  filter: FlipH;\n  -ms-filter: \"FlipH\";\n}\n.mq-math-mode .mq-selection,\n.mq-editable-field .mq-selection,\n.mq-math-mode .mq-selection .mq-non-leaf,\n.mq-editable-field .mq-selection .mq-non-leaf,\n.mq-math-mode .mq-selection .mq-scaled,\n.mq-editable-field .mq-selection .mq-scaled {\n  background: #B4D5FE !important;\n}\n.mq-math-mode .mq-selection.mq-blur,\n.mq-editable-field .mq-selection.mq-blur,\n.mq-math-mode .mq-selection.mq-blur .mq-non-leaf,\n.mq-editable-field .mq-selection.mq-blur .mq-non-leaf,\n.mq-math-mode .mq-selection.mq-blur .mq-scaled,\n.mq-editable-field .mq-selection.mq-blur .mq-scaled {\n  background: #D4D4D4 !important;\n  color: black;\n  border-color: black;\n}\nhtml body .mq-math-mode .mq-selection .mq-nthroot-container *,\nhtml body .mq-editable-field .mq-selection .mq-nthroot-container * {\n  background: transparent !important;\n}\n.mq-editable-field .mq-textarea,\n.mq-math-mode .mq-textarea {\n  position: relative;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n}\n.mq-editable-field .mq-textarea *,\n.mq-math-mode .mq-textarea * {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n  position: absolute;\n  clip: rect(1em 1em 1em 1em);\n  -webkit-transform: scale(0);\n  -moz-transform: scale(0);\n  -ms-transform: scale(0);\n  -o-transform: scale(0);\n  transform: scale(0);\n  resize: none;\n  width: 1px;\n  height: 1px;\n  box-sizing: content-box;\n}\n",""]);const s=a},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);r&&a[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),e.push(c))}},e}},81:t=>{"use strict";t.exports=function(t){return t[1]}},992:function(t,e,n){var r=n(755);window.jQuery=r;var o,i=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__assign||function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},a.apply(this,arguments)};!function(){var t=-1,e=Math.min,n=Math.max;function r(){}function o(t,e){if(!e)throw new Error("prayer failed: "+t)}function s(e){o("a direction was passed",e===t||1===e)}function l(t){var e=document.implementation.createHTMLDocument("");if(e.body.innerHTML=t,1===e.body.children.length)return e.body.children[0];for(var n=document.createDocumentFragment();e.body.firstChild;)n.appendChild(e.body.firstChild);return n}new URLSearchParams(window.location.search);var u=function(t,e,n){var r;switch(t){case"svg":case"path":r=document.createElementNS("http://www.w3.org/2000/svg",t);break;default:r=document.createElement(t)}for(var o in e){var i=e[o];void 0!==i&&r.setAttribute(o,"string"==typeof i?i:String(i))}if(n)for(var a=0;a<n.length;a++)r.appendChild(n[a]);return r};function c(t,e){var n,r,o;if("function"==typeof(null===(n=t)||void 0===n?void 0:n.closest))return t.closest(e);if(!(t instanceof HTMLElement))return null;var i=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,a=t;do{if(i.call(a,e))return a;a=null!==(o=null!==(r=null==a?void 0:a.parentElement)&&void 0!==r?r:null==a?void 0:a.parentNode)&&void 0!==o?o:null}while(null!==a&&1===a.nodeType);return null}u.text=function(t){return document.createTextNode(t)},u.block=function(t,e,n){var r=u(t,e,[n.html()]);return n.setDOM(r),q.linkElementByBlockNode(r,n),r},u.entityText=function(t){var e=l(t);return o("entity parses to a single text node",e instanceof DocumentFragment&&1===e.childNodes.length&&e.childNodes[0]instanceof Text),e.childNodes[0]};var p="​";function f(t){return t.getClientRects().length?t.getBoundingClientRect():{top:0,left:0,height:0,width:0,x:0,y:0,bottom:0,right:0}}var h,d,m=("function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(h=requestAnimationFrame,d=cancelAnimationFrame):(h=function(t){return setTimeout(t,13)},d=clearTimeout),function(t,e){var n,r=Date.now(),o=0;function i(){var n=(Date.now()-r)/t;n<=o?s():o=n,e(o,s,a)}function a(){void 0!==n&&d(n),n=void 0}function s(){a(),n=h(i)}e(t<=0?1:0,s,a)}),g=function(){function e(t){this.span=u("span",{class:"mq-aria-alert","aria-live":"assertive","aria-atomic":"true"}),this.msg="",this.items=[],this.controller=t}return e.prototype.attach=function(){var t=this.controller.container;this.span.parentNode!==t&&y(t).prepend(y(this.span))},e.prototype.queue=function(t,e){void 0===e&&(e=!1);var n="";if(t instanceof Z){var r=t.mathspeak({ignoreShorthand:!0});e&&(t.parent&&t.parent.ariaLabel&&"block"===t.ariaLabel?n=t.parent.ariaLabel+" "+r:t.ariaLabel&&(n=t.ariaLabel+" "+r)),""===n&&(n=r)}else n=t||"";return this.items.push(n),this},e.prototype.queueDirOf=function(e){return s(e),this.queue(e===t?"before":"after")},e.prototype.queueDirEndOf=function(e){return s(e),this.queue(e===t?"beginning of":"end of")},e.prototype.alert=function(t){return this.attach(),t&&this.queue(t),this.items.length&&(this.msg=this.items.join(" ").replace(/ +(?= )/g,"").trim(),this.controller.containerHasFocus()&&(this.span.textContent=this.msg)),this.clear()},e.prototype.clear=function(){return this.items.length=0,this},e}(),v=function(){function e(e,n){var r;1===arguments.length&&(n=e),e&&n&&(this.ends=((r={})[t]=e,r[1]=n,r))}return e.create=function(t,n){1===arguments.length&&(n=t),o("No half-empty DOMFragments",!!t==!!n);var r=new e(t,n);return o("last is a forward sibling of first",r.isValid()),r},e.prototype.isEmpty=function(){return void 0===this.ends},e.prototype.isOneNode=function(){return!(!this.ends||this.ends[t]!==this.ends[1])},e.prototype.isValid=function(){return!this.ends||this.ends[t]===this.ends[1]||(this.eachNode((function(t){return e=t})),e===this.ends[1]);var e},e.prototype.firstNode=function(){return o("Fragment is not empty",this.ends),this.ends[t]},e.prototype.lastNode=function(){return o("Fragment is not empty",this.ends),this.ends[1]},e.prototype.children=function(){var t=this.oneNode(),n=t.firstChild,r=t.lastChild;return n&&r?new e(n,r):new e},e.prototype.join=function(n){if(!this.ends)return n;if(!n.ends)return this;for(var r=!1,i=this.ends[1].nextSibling;i;){if(i===n.ends[t]){r=!0;break}i=i.nextSibling}return o("sibling must be a forward DOM sibling of this fragment",r),new e(this.ends[t],n.ends[1])},e.prototype.oneNode=function(){return o("Fragment has a single node",this.ends&&this.ends[t]===this.ends[1]),this.ends[t]},e.prototype.oneElement=function(){var t=this.oneNode();return o("Node is an Element",t.nodeType===Node.ELEMENT_NODE),t},e.prototype.oneText=function(){var t=this.oneNode();return o("Node is Text",t.nodeType===Node.TEXT_NODE),t},e.prototype.eachNode=function(e){if(!this.ends)return this;for(var n=this.ends[1],r=this.ends[t],o=void 0;r&&(o=r.nextSibling,e(r),r!==n);r=o);return this},e.prototype.eachElement=function(t){return this.eachNode((function(e){e.nodeType===Node.ELEMENT_NODE&&t(e)})),this},e.prototype.text=function(){var t="";return this.eachNode((function(e){t+=e.textContent||""})),t},e.prototype.toNodeArray=function(){var t=[];return this.eachNode((function(e){return t.push(e)})),t},e.prototype.toElementArray=function(){var t=[];return this.eachElement((function(e){return t.push(e)})),t},e.prototype.toDocumentFragment=function(){var t=document.createDocumentFragment();return this.eachNode((function(e){return t.appendChild(e)})),t},e.prototype.insertBefore=function(e){return this.insDirOf(t,e)},e.prototype.insertAfter=function(t){return this.insDirOf(1,t)},e.prototype.append=function(t){return t.appendTo(this.oneElement()),this},e.prototype.prepend=function(t){return t.prependTo(this.oneElement()),this},e.prototype.appendTo=function(t){return this.insAtDirEnd(1,t)},e.prototype.prependTo=function(e){return this.insAtDirEnd(t,e)},e.prototype.parent=function(){if(!this.ends)return this;var n=this.ends[t].parentNode;return n?new e(n):new e},e.prototype.wrapAll=function(e){if(e.textContent="",!this.ends)return this;var n=this.ends[t].parentNode,r=this.ends[1].nextSibling;return this.appendTo(e),n&&n.insertBefore(e,r),this},e.prototype.replaceWith=function(t){var e,n=null===(e=this.ends)||void 0===e?void 0:e[1],r=null==n?void 0:n.parentNode,o=null==n?void 0:n.nextSibling;this.detach();var i=t.toDocumentFragment();return n&&r?(r.insertBefore(i,o||null),this):this},e.prototype.nthElement=function(e){if(this.ends&&!(e<0||e!==Math.floor(e)))for(var n=this.ends[t];n;){if(n.nodeType===Node.ELEMENT_NODE){if(e<=0)return n;e-=1}if(n===this.ends[1])return;n=n.nextSibling}},e.prototype.firstElement=function(){return this.nthElement(0)},e.prototype.lastElement=function(){if(this.ends)for(var e=this.ends[1];e;){if(e.nodeType===Node.ELEMENT_NODE)return e;if(e===this.ends[t])return;e=e.previousSibling}},e.prototype.first=function(){return new e(this.firstElement())},e.prototype.last=function(){return new e(this.lastElement())},e.prototype.eq=function(t){return new e(this.nthElement(t))},e.prototype.slice=function(t){if(!this.ends)return this;var n=this.nthElement(t);return n?new e(n,this.ends[1]):new e},e.prototype.next=function(){for(var t=this.oneNode();t;)if((t=t.nextSibling)&&t.nodeType===Node.ELEMENT_NODE)return new e(t);return new e},e.prototype.prev=function(){for(var t=this.oneNode();t;)if((t=t.previousSibling)&&t.nodeType===Node.ELEMENT_NODE)return new e(t);return new e},e.prototype.empty=function(){return this.eachElement((function(t){t.textContent=""})),this},e.prototype.remove=function(){return this.toDocumentFragment(),this},e.prototype.detach=function(){return this.remove()},e.prototype.insDirOf=function(e,n){var r;if(!this.ends)return this;var o=null===(r=n.ends)||void 0===r?void 0:r[e];return o&&o.parentNode?(function(e,n,r,o){n.insertBefore(r,e===t?o:o.nextSibling)}(e,o.parentNode,this.toDocumentFragment(),o),this):this.detach()},e.prototype.insAtDirEnd=function(e,n){return this.ends?(function(e,n,r){e===t?r.insertBefore(n,r.firstChild):r.appendChild(n)}(e,this.toDocumentFragment(),n),this):this},e.prototype.hasClass=function(t){var e=!1;return this.eachElement((function(n){n.classList.contains(t)&&(e=!0)})),e},e.prototype.addClass=function(t){for(var e=function(t){if(!t)return"continue";n.eachElement((function(e){e.classList.add(t)}))},n=this,r=0,o=t.split(/\s+/);r<o.length;r++)e(o[r]);return this},e.prototype.removeClass=function(t){for(var e=function(t){if(!t)return"continue";n.eachElement((function(e){e.classList.remove(t)}))},n=this,r=0,o=t.split(/\s+/);r<o.length;r++)e(o[r]);return this},e.prototype.toggleClass=function(t,e){if(!0===e)return this.addClass(t);if(!1===e)return this.removeClass(t);for(var n=function(t){if(!t)return"continue";r.eachElement((function(e){e.classList.toggle(t)}))},r=this,o=0,i=t.split(/\s+/);o<i.length;o++)n(i[o]);return this},e}(),y=v.create,b=function(){function e(t,e,n){this.init(t,e,n)}return e.prototype.init=function(e,n,r){this.parent=e,this[t]=n,this[1]=r},e.copy=function(n){return new e(n.parent,n[t],n[1])},e}();function x(e,n){var r=e[t];if(r){var o=e[1];if(o)for(o=o[1];r!==o&&!1!==n(r);r=r[1]);}}function w(e,n,r){var o=e[t];if(!o)return n;var i=e[1];if(!i)return n;for(i=i[1];o!==i;o=o[1])n=r(n,o);return n}var q=function(){function e(){var o;this[n]=0,this[r]=0,this.parent=0,this.ends=((o={})[t]=0,o[1]=0,o),this.id=e.uniqueNodeId()}var n,r;return e.uniqueNodeId=function(){return e.idCounter+=1},e.getNodeOfElement=function(t){if(t){if(!t.nodeType)throw new Error("must pass an Element to NodeBase.getNodeOfElement");var e=t;return e.mqBlockNode||e.mqCmdNode}},e.linkElementByBlockNode=function(t,e){t.mqBlockNode=e},e.linkElementByCmdNode=function(t,e){t.mqCmdNode=e},e.prototype.setEnds=function(e){this.ends=e,o("No half-empty node ends",!!this.ends[t]==!!this.ends[1])},e.prototype.getEnd=function(t){return this.ends[t]},e.prototype.toString=function(){return"{{ MathQuill Node #"+this.id+" }}"},e.prototype.setDOM=function(t){return t&&o("DOM is an element or a text node",t.nodeType===Node.ELEMENT_NODE||t.nodeType===Node.TEXT_NODE),this._el=t,this},e.prototype.domFrag=function(){return y(this._el)},e.prototype.createDir=function(e,n){s(e);var r=this;return r.html(),r.domFrag().insDirOf(e,n.domFrag()),n[e]=r.adopt(n.parent,n[t],n[1]),r},e.prototype.createLeftOf=function(e){this.createDir(t,e)},e.prototype.selectChildren=function(t,e){return new A(t,e)},e.prototype.bubble=function(t){for(var e=this.getSelfNode();e&&!1!==t(e);e=e.parent);return this},e.prototype.postOrder=function(t){var e=this.getSelfNode();return function e(n){return!!n&&(n.eachChild(e),t(n),!0)}(e),e},e.prototype.isEmpty=function(){return 0===this.ends[t]&&0===this.ends[1]},e.prototype.isQuietEmptyDelimiter=function(t){if(!this.isEmpty())return!1;if(!t)return!1;if(!this.parent||void 0===this.parent.ctrlSeq)return!1;var e=this.parent.ctrlSeq.replace(/^\\(left|right)?/,"");return t.hasOwnProperty(e)},e.prototype.isStyleBlock=function(){return!1},e.prototype.isTextBlock=function(){return!1},e.prototype.children=function(){return new k(this.getEnd(t),this.getEnd(1))},e.prototype.eachChild=function(t){return x(this.ends,t),this},e.prototype.foldChildren=function(t,e){return w(this.ends,t,e)},e.prototype.withDirAdopt=function(t,e,n,r){var o=this.getSelfNode();return new k(o,o).withDirAdopt(t,e,n,r),this},e.prototype.adopt=function(t,e,n){var r=this.getSelfNode();return new k(r,r).adopt(t,e,n),this.getSelfNode()},e.prototype.disown=function(){var t=this.getSelfNode();return new k(t,t).disown(),this},e.prototype.remove=function(){return this.domFrag().remove(),this.disown()},e.prototype.shouldIgnoreSubstitutionInSimpleSubscript=function(t){return!!t.disableAutoSubstitutionInSubscripts&&!!this.parent&&this.parent.parent instanceof Yt&&!!this.parent.domFrag().hasClass("mq-sub")},e.prototype.getSelfNode=function(){return this},e.prototype.parser=function(){o("Abstract parser() method is never called",!1)},e.prototype.html=function(){throw new Error("html() unimplemented in NodeBase")},e.prototype.text=function(){return""},e.prototype.latex=function(){var t={latex:"",startIndex:-1,endIndex:-1};return this.latexRecursive(t),t.latex},e.prototype.latexRecursive=function(t){},e.prototype.checkCursorContextOpen=function(t){t.startSelectionBefore===this&&(t.startIndex=t.latex.length),t.endSelectionBefore===this&&(t.endIndex=t.latex.length)},e.prototype.checkCursorContextClose=function(t){t.startSelectionAfter===this&&(t.startIndex=t.latex.length),t.endSelectionAfter===this&&(t.endIndex=t.latex.length)},e.prototype.finalizeTree=function(t,e){},e.prototype.contactWeld=function(t,e){},e.prototype.blur=function(t){},e.prototype.focus=function(){},e.prototype.intentionalBlur=function(){},e.prototype.reflow=function(){},e.prototype.registerInnerField=function(t,e){},e.prototype.chToCmd=function(t,e){o("Abstract chToCmd() method is never called",!1)},e.prototype.mathspeak=function(t){return""},e.prototype.seek=function(t,e){},e.prototype.siblingDeleted=function(t,e){},e.prototype.siblingCreated=function(t,e){},e.prototype.finalizeInsert=function(t,e){},e.prototype.fixDigitGrouping=function(t){},e.prototype.writeLatex=function(t,e){},e.prototype.write=function(t,e){},n=t,r=1,e.idCounter=0,e}();function E(e,n,r){o("a parent is always present",e),o("leftward is properly set up",n?n[1]===r&&n.parent===e:e.getEnd(t)===r),o("rightward is properly set up",r?r[t]===n&&r.parent===e:e.getEnd(1)===n)}var k=function(){function e(e,n,r){var i,a;if(this.disowned=!1,void 0===r&&(r=t),s(r),o("no half-empty fragments",!e==!n),e&&n){o("withDir is passed to Fragment",e instanceof Z),o("oppDir is passed to Fragment",n instanceof Z),o("withDir and oppDir have the same parent",e.parent===n.parent);var l=((a={})[r]=e,a[-r]=n,a);this.setEnds(l);var u=0;this.each((function(t){u=t})),o("following direction siblings from start reaches end",u===l[1])}else this.setEnds(((i={})[t]=0,i[1]=0,i))}return e.prototype.getDOMFragFromEnds=function(){var e=this.ends[t],n=this.ends[1];return 0===e||0===n?y():e===n?e.domFrag():e.domFrag().join(n.domFrag())},e.prototype.setEnds=function(t){this.ends=t},e.prototype.getEnd=function(t){return this.ends?this.ends[t]:0},e.prototype.domFrag=function(){return this.getDOMFragFromEnds()},e.prototype.withDirAdopt=function(e,n,r,o){return e===t?this.adopt(n,r,o):this.adopt(n,o,r)},e.prototype.adopt=function(e,n,r){var o;E(e,n,r);var i=this;this.disowned=!1;var a=i.ends[t];if(!a)return this;var s=i.ends[1];if(!s)return this;var l=((o={})[t]=e.getEnd(t),o[1]=e.getEnd(1),o);return n||(l[t]=a),r?r[t]=s:l[1]=s,e.setEnds(l),s[1]=r,i.each((function(r){return r[t]=n,r.parent=e,n&&(n[1]=r),n=r,!0})),i},e.prototype.disown=function(){var e,n=this,r=n.ends[t];if(!r||n.disowned)return n;this.disowned=!0;var o=n.ends[1];if(!o)return n;var i=r.parent;E(i,r[t],r),E(i,o,o[1]);var a=((e={})[t]=i.getEnd(t),e[1]=i.getEnd(1),e);return r[t]?r[t][1]=o[1]:a[t]=o[1],o[1]?o[1][t]=r[t]:a[1]=r[t],a[t]&&a[1]?i.setEnds(a):i.ends=a,n},e.prototype.remove=function(){return this.domFrag().remove(),this.disown()},e.prototype.each=function(t){return x(this.ends,t),this},e.prototype.fold=function(t,e){return w(this.ends,t,e)},e}(),T={},S={};function C(t){return t&&t.prototype instanceof Z}var O,L=function(e){function n(t,n,r){var o=e.call(this,t,n,r)||this;return o.ancestors={},o}return i(n,e),n.fromCursor=function(e){return new n(e.parent,e[t],e[1])},n}(b),D=function(e){function n(t,n,r){var o=e.call(this,t,0,0)||this;return o.upDownCache={},o.cursorElement=u("span",{class:"mq-cursor"},[u.text(p)]),o._domFrag=y(),o.controller=r,o.options=n,o.setDOMFrag(y(o.cursorElement)),o.blink=function(){y(o.cursorElement).toggleClass("mq-blink")},o}return i(n,e),n.prototype.setDOMFrag=function(t){return this._domFrag=t,this},n.prototype.domFrag=function(){return this._domFrag},n.prototype.show=function(){if(y(this.cursorElement).removeClass("mq-blink"),this.setDOMFrag(y(this.cursorElement)),this.intervalId)clearInterval(this.intervalId);else{var e=this[1];if(e){var n=this.selection;n&&n.getEnd(t)[t]===this[t]?this.domFrag().insertBefore(n.domFrag()):this.domFrag().insertBefore(e.domFrag())}else this.domFrag().appendTo(this.parent.domFrag().oneElement());this.parent.focus()}return this.intervalId=setInterval(this.blink,500),this},n.prototype.hide=function(){return this.intervalId&&clearInterval(this.intervalId),this.intervalId=0,this.domFrag().detach(),this.setDOMFrag(y()),this},n.prototype.withDirInsertAt=function(t,e,n,r){var o=this.parent;this.parent=e,this[t]=n,this[-t]=r,o!==e&&o.blur&&o.blur(this)},n.prototype.insDirOf=function(t,e){return s(t),this.domFrag().insDirOf(t,e.domFrag()),this.withDirInsertAt(t,e.parent,e[t],e),this.parent.domFrag().addClass("mq-hasCursor"),this},n.prototype.insLeftOf=function(e){return this.insDirOf(t,e)},n.prototype.insRightOf=function(t){return this.insDirOf(1,t)},n.prototype.insAtDirEnd=function(t,e){return s(t),this.domFrag().insAtDirEnd(t,e.domFrag().oneElement()),this.withDirInsertAt(t,e,0,e.getEnd(t)),e.focus(),this},n.prototype.insAtLeftEnd=function(e){return this.insAtDirEnd(t,e)},n.prototype.insAtRightEnd=function(t){return this.insAtDirEnd(1,t)},n.prototype.jumpUpDown=function(t,e){var n=this;n.upDownCache[t.id]=b.copy(n);var r=n.upDownCache[e.id];if(r){var o=r[1];o?n.insLeftOf(o):n.insAtRightEnd(r.parent)}else{var i=n.getBoundingClientRectWithoutMargin().left;e.seek(i,n)}n.controller.aria.queue(e,!0)},n.prototype.getBoundingClientRectWithoutMargin=function(){var t=this.domFrag();t.removeClass("mq-cursor");var e=f(t.oneElement()),n=e.left,r=e.right;return t.addClass("mq-cursor"),{left:n,right:r}},n.prototype.unwrapGramp=function(){var e=this.parent.parent,n=e.parent,r=e[1],o=e[t];if(e.disown().eachChild((function(t){return t.isEmpty()||(t.children().adopt(n,o,r).each((function(t){return t.domFrag().insertBefore(e.domFrag()),!0})),o=t.getEnd(1)),!0})),!this[1]){var i=this[t];if(i)this[1]=i[1];else for(;!this[1];){var a=this.parent[1];if(!a){this[1]=e[1],this.parent=n;break}this.parent=a,this[1]=a.getEnd(t)}}var s=this[1];s?this.insLeftOf(s):this.insAtRightEnd(n),e.domFrag().remove();var l=e[t],u=e[1];l&&l.siblingDeleted(this.options,1),u&&u.siblingDeleted(this.options,t)},n.prototype.startSelection=function(){for(var t=this.anticursor=L.fromCursor(this),e=t.ancestors,n=t;n.parent;n=n.parent)e[n.parent.id]=n},n.prototype.endSelection=function(){delete this.anticursor},n.prototype.select=function(){var e,n=this.anticursor;if(this[t]===n[t]&&this.parent===n.parent)return!1;for(var r=this;r.parent;r=r.parent)if(r.parent.id in n.ancestors){e=r.parent;break}o("cursor and anticursor in the same tree",e);var i,a,s=e,l=n.ancestors[s.id],u=1;if(r[t]!==l)for(var c=r;c;c=c[1])if(c[1]===l[1]){u=t,i=r,a=l;break}1===u&&(i=l,a=r),i instanceof b&&(i=i[1]),a instanceof b&&(a=a[t]),this.hide().selection=s.selectChildren(i,a);var p=this.selection.getEnd(u);return this.insDirOf(u,p),this.selectionChanged(),!0},n.prototype.resetToEnd=function(e){this.clearSelection();var n=e.root;this[1]=0,this[t]=n.getEnd(1),this.parent=n},n.prototype.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.selectionChanged()),this},n.prototype.deleteSelection=function(){var e=this.selection;e&&(this[t]=e.getEnd(t)[t],this[1]=e.getEnd(1)[1],e.remove(),this.selectionChanged(),delete this.selection)},n.prototype.replaceSelection=function(){var e=this.selection;return e&&(this[t]=e.getEnd(t)[t],this[1]=e.getEnd(1)[1],delete this.selection),e},n.prototype.depth=function(){for(var t=this,e=0;t=t.parent;)e+=t instanceof vt?1:0;return e},n.prototype.isTooDeep=function(t){return void 0!==this.options.maxDepth&&this.depth()+(t||0)>this.options.maxDepth},n.prototype.selectionChanged=function(){},n}(b),A=function(e){function n(t,n,r){var o=e.call(this,t,n,r)||this;return o._el=u("span",{class:"mq-selection"}),o.getDOMFragFromEnds().wrapAll(o._el),o}return i(n,e),n.prototype.isCleared=function(){return void 0===this._el},n.prototype.domFrag=function(){return this.isCleared()?this.getDOMFragFromEnds():y(this._el)},n.prototype.setEnds=function(e){o("Selection ends are never empty",e[t]&&e[1]),this.ends=e},n.prototype.getEnd=function(t){return this.ends[t]},n.prototype.adopt=function(t,n,r){return this.clear(),e.prototype.adopt.call(this,t,n,r)},n.prototype.clear=function(){var t=this.getDOMFragFromEnds();return this.domFrag().replaceWith(t),this._el=void 0,this},n.prototype.join=function(t,e){return void 0===e&&(e=""),this.fold("",(function(n,r){return n+e+r[t]()}))},n}(k),F=function(){function e(t,e,n){this.textareaEventListeners={},this.id=t.id,this.data={},this.root=t,this.container=e,this.options=n,this.aria=new g(this.getControllerSelf()),this.ariaLabel="Math Input",this.ariaPostLabel="",t.controller=this.getControllerSelf(),this.cursor=t.cursor=new D(t,n,this.getControllerSelf())}return e.prototype.getControllerSelf=function(){return this},e.prototype.handle=function(e,n){var r,i=this.options.handlers,a=null===(r=this.options.handlers)||void 0===r?void 0:r.fns[e];if(a){var s=null==i?void 0:i.APIClasses[this.KIND_OF_MQ];o("APIClass is defined",s);var l=new s(this);n===t||1===n?a(n,l):a(l)}},e.onNotify=function(t){e.notifyees.push(t)},e.prototype.notify=function(t){for(var n=0;n<e.notifyees.length;n+=1)e.notifyees[n](this.cursor,t);return this},e.prototype.setAriaLabel=function(t){var e=this.getAriaLabel();return t&&"string"==typeof t&&""!==t?this.ariaLabel=t:this.editable?this.ariaLabel="Math Input":this.ariaLabel="",this.ariaLabel===e||this.containerHasFocus()||this.updateMathspeak(),this},e.prototype.getAriaLabel=function(){return"Math Input"!==this.ariaLabel?this.ariaLabel:this.editable?"Math Input":""},e.prototype.setAriaPostLabel=function(t,e){var n=this;return t&&"string"==typeof t&&""!==t?(t!==this.ariaPostLabel&&"number"==typeof e&&(this._ariaAlertTimeout&&clearTimeout(this._ariaAlertTimeout),this._ariaAlertTimeout=setTimeout((function(){n.containerHasFocus()?n.aria.alert(n.root.mathspeak().trim()+" "+t.trim()):n.updateMathspeak()}),e)),this.ariaPostLabel=t):(this._ariaAlertTimeout&&clearTimeout(this._ariaAlertTimeout),this.ariaPostLabel=""),this},e.prototype.getAriaPostLabel=function(){return this.ariaPostLabel||""},e.prototype.containerHasFocus=function(){return document.activeElement&&this.container.contains(document.activeElement)},e.prototype.getTextareaOrThrow=function(){var t=this.textarea;if(!t)throw new Error("expected a textarea");return t},e.prototype.getTextareaSpanOrThrow=function(){var t=this.textareaSpan;if(!t)throw new Error("expected a textareaSpan");return t},e.prototype.addTextareaEventListeners=function(t){if(this.textarea)for(var e in t){var n=e;this.removeTextareaEventListener(n),this.textarea.addEventListener(n,t[n])}},e.prototype.removeTextareaEventListener=function(t){if(this.textarea){var e=this.textareaEventListeners[t];e&&this.textarea.removeEventListener(t,e)}},e.prototype.exportMathSpeak=function(){return this.root.mathspeak()},e.prototype.updateMathspeak=function(){},e.prototype.scrollHoriz=function(){},e.prototype.selectionChanged=function(){},e.prototype.setOverflowClasses=function(){},e.notifyees=[],e}(),N={},M={},_={},R=function(){function t(t){this.version=t}return t.prototype.assertJquery=function(){return o("Interface versions > 2 do not depend on JQuery",this.version<=2),o("JQuery is set for interface v < 3",this.jQuery),this.jQuery},t}(),j=function(){},I=function(){window.console&&console.warn('You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. Easiest fix is to do the following before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')};function B(t){return I(),O||(O=z(1)),O(t)}B.prototype=j.prototype,B.VERSION="v0.10.1",B.interfaceVersion=function(t){if(1!==t)throw"Only interface version 1 supported. You specified: "+t;return(I=function(){window.console&&console.warn('You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')})(),B},B.getInterface=z;var P=z.MIN=1,H=z.MAX=3;function z(e){if(1!==e&&2!==e&&3!==e)throw"Only interface versions between "+P+" and "+H+" supported. You specified: "+e;var n=e;if(n<3){var r=window.jQuery;if(!r)throw"MathQuill interface version ".concat(n," requires jQuery 1.5.2+ to be loaded first");R.prototype.jQuery=r}var s=a(a({},_),{handlers:function(t){return{fns:t||{},APIClasses:h}}});function l(t,e){for(var r in e)if(e.hasOwnProperty(r)){if("substituteKeyboardEvents"===r&&n>=3)throw new Error(["As of interface version 3, the 'substituteKeyboardEvents'","option is no longer supported. Use 'overrideTypedText' and","'overrideKeystroke' instead."].join(" "));var o=e[r],i=s[r];t[r]=i?i(o):o}}var c=n<3?R:function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(R),p=function(t){function e(e){var n=t.call(this)||this;return n.__controller=e,n.__options=e.options,n.id=e.id,n.data=e.data,n}return i(e,t),e.prototype.mathquillify=function(t){var e=this.__controller,r=e.root,o=e.container;e.createTextarea();var i=y(o).addClass(t).children().detach();r.setDOM(y(u("span",{class:"mq-root-block","aria-hidden":!0})).appendTo(o).oneElement()),q.linkElementByBlockNode(r.domFrag().oneElement(),r),this.latex(i.text()),this.revert=function(){return e.removeMouseEventListener(),y(o).removeClass("mq-editable-field mq-math-mode mq-text-mode").empty().append(i),n<3?this.__options.assertJquery()(o):o}},e.prototype.setAriaLabel=function(t){return this.__controller.setAriaLabel(t),this},e.prototype.getAriaLabel=function(){return this.__controller.getAriaLabel()},e.prototype.config=function(t){return l(this.__options,t),this},e.prototype.el=function(){return this.__controller.container},e.prototype.text=function(){return this.__controller.exportText()},e.prototype.mathspeak=function(){return this.__controller.exportMathSpeak()},e.prototype.latex=function(t){if(arguments.length>0){this.__controller.renderLatexMath(t);var e=this.__controller.cursor;return this.__controller.blurred&&e.hide().parent.blur(e),this}return this.__controller.exportLatex()},e.prototype.selection=function(){return this.__controller.exportLatexSelection()},e.prototype.html=function(){return this.__controller.root.domFrag().oneElement().innerHTML.replace(/ jQuery\d+="(?:\d+|null)"/g,"").replace(/ mathquill-(?:command|block)-id="?\d+"?/g,"").replace(/<span class="?mq-cursor( mq-blink)?"?>.?<\/span>/i,"").replace(/ mq-hasCursor|mq-hasCursor ?/,"").replace(/ class=(""|(?= |>))/g,"")},e.prototype.reflow=function(){return this.__controller.root.postOrder((function(t){t.reflow()})),this},e}(j),f=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.mathquillify=function(t){return e.prototype.mathquillify.call(this,t),this.__controller.editable=!0,this.__controller.addMouseEventListener(),this.__controller.editablesTextareaEvents(),this},n.prototype.focus=function(){return this.__controller.getTextareaOrThrow().focus(),this.__controller.scrollHoriz(),this},n.prototype.blur=function(){return this.__controller.getTextareaOrThrow().blur(),this},n.prototype.write=function(t){this.__controller.writeLatex(t),this.__controller.scrollHoriz();var e=this.__controller.cursor;return this.__controller.blurred&&e.hide().parent.blur(e),this},n.prototype.empty=function(){var e,n=this.__controller.root,r=this.__controller.cursor;return n.setEnds(((e={})[t]=0,e[1]=0,e)),n.domFrag().empty(),delete r.selection,r.insAtRightEnd(n),this},n.prototype.cmd=function(t){var e=this.__controller.notify(void 0),n=e.cursor;if(/^\\[a-z]+$/i.test(t)&&!n.isTooDeep()){t=t.slice(1);var r,o=T[t];o&&(r=o.constructor?new o(t):o(t),n.selection&&r.replaces(n.replaceSelection()),r.createLeftOf(n.show()))}else n.parent.write(n,t);return e.scrollHoriz(),e.blurred&&n.hide().parent.blur(n),this},n.prototype.select=function(){return this.__controller.selectAll(),this},n.prototype.clearSelection=function(){return this.__controller.cursor.clearSelection(),this},n.prototype.moveToDirEnd=function(t){return this.__controller.notify("move").cursor.insAtDirEnd(t,this.__controller.root),this},n.prototype.moveToLeftEnd=function(){return this.moveToDirEnd(t)},n.prototype.moveToRightEnd=function(){return this.moveToDirEnd(1)},n.prototype.keystroke=function(t,e){for(var n=t.replace(/^\s+|\s+$/g,"").split(/\s+/),r=0;r<n.length;r+=1)this.__controller.keystroke(n[r],e);return this},n.prototype.typedText=function(t){for(var e=0;e<t.length;e+=1)this.__controller.typedText(t.charAt(e));return this},n.prototype.dropEmbedded=function(t,e,n){var r=t-(void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft),o=e-(void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop),i=document.elementFromPoint(r,o);this.__controller.seek(i,r,o),(new ye).setOptions(n).createLeftOf(this.__controller.cursor)},n.prototype.setAriaPostLabel=function(t,e){return this.__controller.setAriaPostLabel(t,e),this},n.prototype.getAriaPostLabel=function(){return this.__controller.getAriaPostLabel()},n.prototype.clickAt=function(t,e,n){n=n||document.elementFromPoint(t,e);var r=this.__controller,o=r.root.domFrag().oneElement();return o.contains(n)||(n=o),r.seek(n,t,e),r.blurred&&this.focus(),this},n.prototype.ignoreNextMousedown=function(t){return this.__controller.cursor.options.ignoreNextMousedown=t,this},n}(p),h={AbstractMathQuill:p,EditableField:f};o("API.StaticMath defined",N.StaticMath),h.StaticMath=N.StaticMath(h),o("API.MathField defined",N.MathField),h.MathField=N.MathField(h),o("API.InnerMathField defined",N.InnerMathField),h.InnerMathField=N.InnerMathField(h),N.TextField&&(h.TextField=N.TextField(h));var d=function(t){if(!t||!t.nodeType)return null;for(var e,n=0,r=y(t).children().toElementArray();n<r.length;n++){var o=r[n];if(o.classList.contains("mq-root-block")){e=o;break}}var i=q.getNodeOfElement(e),a=i&&i.controller,s=a&&h[a.KIND_OF_MQ];return a&&s?new s(a):null};function m(t,e){function r(r,o){if(!r||!r.nodeType)return null;var i=d(r);if(i instanceof e)return i;var a=new lt(new e.RootBlock,r,new c(n));return a.KIND_OF_MQ=t,new e(a).__mathquillify(o||{},n)}return o(t+" is defined",e),r.prototype=e.prototype,r}return d.L=t,d.R=1,d.config=function(t){return l(c.prototype,t),this},d.registerEmbed=function(t,e){if(!/^[a-z][a-z0-9]*$/i.test(t))throw"Embed name must start with letter and be only letters and digits";M[t]=e},d.StaticMath=m("StaticMath",h.StaticMath),d.MathField=m("MathField",h.MathField),d.InnerMathField=m("InnerMathField",h.InnerMathField),h.TextField&&(d.TextField=m("TextField",h.TextField)),d.prototype=p.prototype,(d.EditableField=function(){throw"wtf don't call me, I'm 'abstract'"}).prototype=f.prototype,n<3&&(d.saneKeyboardEvents=st),d}B.noConflict=function(){return window.MathQuill=$,B};var $=window.MathQuill;function W(t){t.moveOutOf=function(t){o("controller is defined",this.controller),this.controller.handle("moveOutOf",t)},t.deleteOutOf=function(t){o("controller is defined",this.controller),this.controller.handle("deleteOutOf",t)},t.selectOutOf=function(t){o("controller is defined",this.controller),this.controller.handle("selectOutOf",t)},t.upOutOf=function(){o("controller is defined",this.controller),this.controller.handle("upOutOf")},t.downOutOf=function(){o("controller is defined",this.controller),this.controller.handle("downOutOf")},t.reflow=function(){o("controller is defined",this.controller),this.controller.handle("reflow"),this.controller.handle("edited"),this.controller.handle("edit")}}function U(t,e){throw"Parse Error: "+e+" at "+(t?"'"+t+"'":"EOF")}window.MathQuill=B;var V=function(){function t(t){this._=t}return t.prototype.parse=function(e){return this.skip(t.eof)._(""+e,(function(t,e){return e}),U)},t.prototype.or=function(e){o("or is passed a parser",e instanceof t);var n=this;return new t((function(t,r,o){return n._(t,r,(function(n){return e._(t,r,o)}))}))},t.prototype.then=function(e){var n=this;return new t((function(r,i,a){return n._(r,(function(n,r){var s=e instanceof t?e:e(r);return o("a parser is returned",s instanceof t),s._(n,i,a)}),a)}))},t.prototype.many=function(){var e=this;return new t((function(t,n,r){for(var o=[];e._(t,i,a););return n(t,o);function i(e,n){return t=e,o.push(n),!0}function a(){return!1}}))},t.prototype.times=function(e,n){arguments.length<2&&(n=e);var r=this;return new t((function(t,o,i){for(var a,s=[],l=!0,u=0;u<e;u+=1)if(!(l=!!r._(t,c,p)))return i(t,a);for(;u<n&&l;u+=1)r._(t,c,f);return o(t,s);function c(e,n){return s.push(n),t=e,!0}function p(e,n){return a=n,t=e,!1}function f(t,e){return!1}}))},t.prototype.result=function(e){return this.then(t.succeed(e))},t.prototype.atMost=function(t){return this.times(0,t)},t.prototype.atLeast=function(t){var e=this;return e.times(t).then((function(t){return e.many().map((function(e){return t.concat(e)}))}))},t.prototype.map=function(e){return this.then((function(n){return t.succeed(e(n))}))},t.prototype.skip=function(t){return this.then((function(e){return t.result(e)}))},t.string=function(e){var n=e.length,r="expected '"+e+"'";return new t((function(t,o,i){var a=t.slice(0,n);return a===e?o(t.slice(n),a):i(t,r)}))},t.regex=function(e){o("regexp parser is anchored","^"===e.toString().charAt(1));var n="expected "+e;return new t((function(t,r,o){var i=e.exec(t);if(i){var a=i[0];return r(t.slice(a.length),a)}return o(t,n)}))},t.succeed=function(e){return new t((function(t,n){return n(t,e)}))},t.fail=function(e){return new t((function(t,n,r){return r(t,e)}))},t.letter=t.regex(/^[a-z]/i),t.letters=t.regex(/^[a-z]*/i),t.digit=t.regex(/^[0-9]/),t.digits=t.regex(/^[0-9]*/),t.whitespace=t.regex(/^\s+/),t.optWhitespace=t.regex(/^\s*/),t.any=new t((function(t,e,n){return t?e(t.slice(1),t.charAt(0)):n(t,"expected any character")})),t.all=new t((function(t,e,n){return e("",t)})),t.eof=new t((function(t,e,n){return t?n(t,"expected EOF"):e(t,t)})),t}(),Q=function(){function t(){this.fn=r}return t.prototype.listen=function(t){this.fn=t,clearTimeout(this.timeoutId),this.timeoutId=setTimeout(this.fn)},t.prototype.listenOnce=function(t){var e=this;this.listen((function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.clearListener(),t.apply(void 0,n)}))},t.prototype.clearListener=function(){this.fn=r,clearTimeout(this.timeoutId)},t.prototype.trigger=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.fn.apply(this,t)},t}(),X=function(){var t={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"},e={ArrowRight:"Right",ArrowLeft:"Left",ArrowDown:"Down",ArrowUp:"Up",Delete:"Del",Escape:"Esc"," ":"Spacebar"};function n(t){switch(r(t)){case"Right":case"Left":case"Down":case"Up":return!0}return!1}function r(n){var r,o;if(void 0===n.key){var i=n.which||n.keyCode;return t[i]||String.fromCharCode(i)}return 1===(o=n.key).length&&o>="a"&&o<="z"?n.key.toUpperCase():null!==(r=e[n.key])&&void 0!==r?r:n.key}function o(t){var e=r(t),n=[];return t.ctrlKey&&n.push("Ctrl"),t.metaKey&&n.push("Meta"),t.altKey&&n.push("Alt"),t.shiftKey&&n.push("Shift"),n.length?("Alt"!==e&&"Control"!==e&&"Meta"!==e&&"Shift"!==e&&n.push(e),n.join("-")):e}return function(t,e){var r=null,i=null,a=new Q;function s(){try{t instanceof HTMLTextAreaElement&&t.select()}catch(t){}}var l=!1;function u(){e.options&&e.options.overrideKeystroke?e.options.overrideKeystroke(o(r),r):e.keystroke(o(r),r)}function c(e){a.trigger(e),e.target===t&&(r=e,i=null,l&&a.listenOnce((function(t){t&&"focusout"===t.type||s()})),u())}function p(e){a.trigger(e),e.target===t&&(r&&i&&u(),i=e,n(e)?a.listenOnce(d):a.listen(h))}function f(e){a.trigger(e),e.target===t&&r&&!i&&(n(e)?a.listenOnce(d):a.listen(h))}function h(){if(!("selectionStart"in t&&t instanceof HTMLTextAreaElement&&t.selectionStart!==t.selectionEnd)&&t instanceof HTMLTextAreaElement){var n=t.value;(!r||r.altKey||!r.ctrlKey||r.metaKey||!r.shiftKey||"U"!==r.key&&"Unidentified"!==r.key&&"Process"!==r.key)&&(1===n.length?(t.value="",e.options&&e.options.overrideTypedText?e.options.overrideTypedText(n):e.typedText(n)):d())}}function d(){t instanceof HTMLTextAreaElement&&t.value.length>1&&s()}function m(){r=null,i=null,a.clearListener(),t instanceof HTMLTextAreaElement&&(t.value="")}function g(t){a.trigger(t)}return e.options&&e.options.disableCopyPaste?e.addTextareaEventListeners({keydown:c,keypress:p,keyup:f,focusout:m,copy:function(t){t.preventDefault()},cut:function(t){t.preventDefault()},paste:function(t){a.trigger(),t.preventDefault()},input:g}):e.addTextareaEventListeners({keydown:c,keypress:p,keyup:f,focusout:m,cut:function(){a.listenOnce((function(){e.cut()}))},copy:function(){a.listenOnce((function(){e.copy()}))},paste:function(n){a.trigger(),n.target===t&&(document.activeElement!==t&&t.focus(),a.listen((function(){if(t instanceof HTMLTextAreaElement){var n=t.value;t.value="",n&&e.paste(n)}})))},input:g}),{select:function(e){a.trigger(),a.clearListener(),t instanceof HTMLTextAreaElement&&(t.value=e),e&&s(),l=!!e}}}}(),G=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.exportText=function(){return this.root.foldChildren("",(function(t,e){return t+e.text()}))},e}(F);F.onNotify((function(t,e){if("edit"===e||"replace"===e||void 0===e){var n=t.controller;if(!n)return;if(!n.options.enableDigitGrouping)return;if(!1!==n.blurred)return;n.disableGroupingForSeconds(1)}}));var K=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleTextareaFocusEditable=function(){var t=e.cursor;e.updateMathspeak(),e.blurred=!1,clearTimeout(e.blurTimeout),y(e.container).addClass("mq-focused"),t.parent||t.insAtRightEnd(e.root),t.selection?(t.selection.domFrag().removeClass("mq-blur"),e.selectionChanged()):t.show(),e.setOverflowClasses()},e.handleTextareaBlurEditable=function(){e.textareaSelectionTimeout&&(clearTimeout(e.textareaSelectionTimeout),e.textareaSelectionTimeout=0),e.disableGroupingForSeconds(0),e.blurred=!0,e.blurTimeout=setTimeout((function(){e.root.postOrder((function(t){t.intentionalBlur()})),e.cursor.clearSelection().endSelection(),e.blur(),e.updateMathspeak(),e.scrollHoriz()})),window.addEventListener("blur",e.handleWindowBlur)},e.handleTextareaFocusStatic=function(){e.blurred=!1},e.handleTextareaBlurStatic=function(){e.cursor.selection&&e.cursor.selection.clear(),setTimeout((function(){y(e.getTextareaSpanOrThrow()).detach(),e.blurred=!0}))},e.handleWindowBlur=function(){clearTimeout(e.blurTimeout),e.cursor.selection&&e.cursor.selection.domFrag().addClass("mq-blur"),e.blur(),e.updateMathspeak()},e}return i(e,t),e.prototype.disableGroupingForSeconds=function(t){var e=this;clearTimeout(this.__disableGroupingTimeout),0===t?this.root.domFrag().removeClass("mq-suppress-grouping"):(this.root.domFrag().addClass("mq-suppress-grouping"),this.__disableGroupingTimeout=setTimeout((function(){e.root.domFrag().removeClass("mq-suppress-grouping")}),1e3*t))},e.prototype.blur=function(){this.cursor.hide().parent.blur(this.cursor),y(this.container).removeClass("mq-focused"),window.removeEventListener("blur",this.handleWindowBlur),this.options&&this.options.resetCursorOnBlur&&this.cursor.resetToEnd(this)},e.prototype.addEditableFocusBlurListeners=function(){var t=this.cursor;this.addTextareaEventListeners({focus:this.handleTextareaFocusEditable,blur:this.handleTextareaBlurEditable}),this.blurred=!0,t.hide().parent.blur(t)},e.prototype.addStaticFocusBlurListeners=function(){this.addTextareaEventListeners({focus:this.handleTextareaFocusStatic,blur:this.handleTextareaBlurStatic})},e}(G),Y=!1,Z=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.keystroke=function(e,r,o){var i=o.cursor;switch(e){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":o.ctrlDeleteDir(t);break;case"Shift-Backspace":case"Backspace":o.backspace();break;case"Esc":case"Tab":return void o.escapeDir(1,e,r);case"Shift-Tab":case"Shift-Esc":return void o.escapeDir(t,e,r);case"End":o.notify("move").cursor.insAtRightEnd(i.parent),o.aria.queue("end of").queue(i.parent,!0);break;case"Ctrl-End":o.notify("move").cursor.insAtRightEnd(o.root),o.aria.queue("end of").queue(o.ariaLabel).queue(o.root).queue(o.ariaPostLabel);break;case"Shift-End":o.selectToBlockEndInDir(1);break;case"Ctrl-Shift-End":o.selectToRootEndInDir(1);break;case"Home":o.notify("move").cursor.insAtLeftEnd(i.parent),o.aria.queue("beginning of").queue(i.parent,!0);break;case"Ctrl-Home":o.notify("move").cursor.insAtLeftEnd(o.root),o.aria.queue("beginning of").queue(o.ariaLabel).queue(o.root).queue(o.ariaPostLabel);break;case"Shift-Home":o.selectToBlockEndInDir(t);break;case"Ctrl-Shift-Home":o.selectToRootEndInDir(t);break;case"Left":o.moveLeft();break;case"Shift-Left":o.selectLeft();break;case"Ctrl-Left":case"Ctrl-Right":case"Ctrl-Up":case"Ctrl-Down":break;case"Right":o.moveRight();break;case"Shift-Right":o.selectRight();break;case"Up":o.moveUp();break;case"Down":o.moveDown();break;case"Shift-Up":o.withIncrementalSelection((function(e){if(i[t])for(;i[t];)e(t);else e(t)}));break;case"Shift-Down":o.withIncrementalSelection((function(t){if(i[1])for(;i[1];)t(1);else t(1)}));break;case"Ctrl-Shift-Del":case"Ctrl-Del":o.ctrlDeleteDir(1);break;case"Shift-Del":case"Del":o.deleteForward();break;case"Meta-A":case"Ctrl-A":o.selectAll();break;case"Ctrl-Alt-Up":i.parent.parent&&i.parent.parent instanceof n?o.aria.queue(i.parent.parent):o.aria.queue("nothing above");break;case"Ctrl-Alt-Down":i.parent&&i.parent instanceof n?o.aria.queue(i.parent):o.aria.queue("block is empty");break;case"Ctrl-Alt-Left":i.parent.parent&&i.parent.parent.getEnd(t)?o.aria.queue(i.parent.parent.getEnd(t)):o.aria.queue("nothing to the left");break;case"Ctrl-Alt-Right":i.parent.parent&&i.parent.parent.getEnd(1)?o.aria.queue(i.parent.parent.getEnd(1)):o.aria.queue("nothing to the right");break;case"Ctrl-Alt-Shift-Down":i.selection?o.aria.queue(i.selection.join("mathspeak"," ").trim()+" selected"):o.aria.queue("nothing selected");break;case"Ctrl-Alt-=":case"Ctrl-Alt-Shift-Right":o.ariaPostLabel.length?o.aria.queue(o.ariaPostLabel):o.aria.queue("no answer");break;default:return}o.aria.alert(),null==r||r.preventDefault(),o.scrollHoriz()},n.prototype.moveOutOf=function(t,e,n){o("overridden or never called on this node",!1)},n.prototype.moveTowards=function(t,e,n){o("overridden or never called on this node",!1)},n.prototype.deleteOutOf=function(t,e){o("overridden or never called on this node",!1)},n.prototype.deleteTowards=function(t,e){o("overridden or never called on this node",!1)},n.prototype.unselectInto=function(t,e){o("overridden or never called on this node",!1)},n.prototype.selectOutOf=function(t,e){o("overridden or never called on this node",!1)},n.prototype.selectTowards=function(t,e){o("overridden or never called on this node",!1)},n}(q);F.onNotify((function(t,e){"move"!==e&&"upDown"!==e||t.show().clearSelection()})),_.leftRightIntoCmdGoes=function(t){if(t&&"up"!==t&&"down"!==t)throw'"up" or "down" required for leftRightIntoCmdGoes option, got "'+t+'"';return t},F.onNotify((function(t,e){"upDown"!==e&&(t.upDownCache={})})),F.onNotify((function(t,e){"edit"===e&&t.show().deleteSelection()})),F.onNotify((function(t,e){"select"!==e&&t.endSelection()}));var J,tt=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.keystroke=function(t,e){this.cursor.parent.keystroke(t,e,this.getControllerSelf())},n.prototype.escapeDir=function(t,e,n){s(t);var r=this.cursor;if(r.parent!==this.root&&(null==n||n.preventDefault()),r.parent!==this.root)return r.clearSelection(),r.parent.moveOutOf(t,r),r.controller.aria.alert(),this.notify("move")},n.prototype.moveDir=function(t){s(t);var e=this.cursor,n=e.options.leftRightIntoCmdGoes,r=e[t];return e.selection?e.insDirOf(t,e.selection.getEnd(t)):r?r.moveTowards(t,e,n):e.parent.moveOutOf(t,e,n),this.notify("move")},n.prototype.moveLeft=function(){return this.moveDir(t)},n.prototype.moveRight=function(){return this.moveDir(1)},n.prototype.moveUp=function(){return this.moveUpDown("up")},n.prototype.moveDown=function(){return this.moveUpDown("down")},n.prototype.moveUpDown=function(e){var n,r,o=this.notify("upDown").cursor;"up"===e?(n="upInto",r="upOutOf"):(n="downInto",r="downOutOf");var i=o[t],a=o[1],s=a&&a[n],l=i&&i[n];return s?o.insAtLeftEnd(s):l?o.insAtRightEnd(l):o.parent.bubble((function(t){var e=t[r];if(e&&("function"==typeof e&&(e=e.call(t,o)),e instanceof Z&&o.jumpUpDown(t,e),!0!==e))return!1})),this},n.prototype.deleteDir=function(e){s(e);var n=this.cursor,r=n[e],o=n.parent.parent,i=n.controller;if(r&&r instanceof Z)r.sides?i.aria.queue(r.parent.chToCmd(r.sides[-e].ch).mathspeak({createdLeftOf:n})):r.blocks||"\\text"===r.parent.ctrlSeq||i.aria.queue(r);else if(o&&o instanceof Z)if(o.sides)i.aria.queue(o.parent.chToCmd(o.sides[e].ch).mathspeak({createdLeftOf:n}));else if(o.blocks&&o.mathspeakTemplate)if(o.upInto&&o.downInto)i.aria.queue(o.mathspeakTemplate[1]);else{var a=o.mathspeakTemplate,l=e===t?a[0]:a[a.length-1];i.aria.queue(l)}else i.aria.queue(o);var u=n.selection;if(this.notify("edit"),!u){var c=n[e];c?c.deleteTowards(e,n):n.parent.deleteOutOf(e,n)}var p=n[t],f=n[1];return p.siblingDeleted&&p.siblingDeleted(n.options,1),f.siblingDeleted&&f.siblingDeleted(n.options,t),n.parent.bubble((function(t){t.reflow()})),this},n.prototype.ctrlDeleteDir=function(e){s(e);var n,r=this.cursor;if(!r[e]||r.selection)return this.deleteDir(e);this.notify("edit"),n=e===t?new k(r.parent.getEnd(t),r[t]):new k(r[1],r.parent.getEnd(1)),r.controller.aria.queue(n),n.remove(),r.insAtDirEnd(e,r.parent);var o=r[t],i=r[1];return o&&o.siblingDeleted(r.options,1),i&&i.siblingDeleted(r.options,t),r.parent.bubble((function(t){t.reflow()})),this},n.prototype.backspace=function(){return this.deleteDir(t)},n.prototype.deleteForward=function(){return this.deleteDir(1)},n.prototype.startIncrementalSelection=function(){o("Multiple selections can't be simultaneously open",!Y),Y=!0,this.notify("select");var t=this.cursor;t.anticursor||t.startSelection()},n.prototype.selectDirIncremental=function(t){o("A selection is open",Y),Y=!0;var e=this.cursor,n=e.selection;s(t);var r=e[t];r?n&&n.getEnd(t)===r&&e.anticursor[-t]!==r?r.unselectInto(t,e):r.selectTowards(t,e):e.parent.selectOutOf(t,e)},n.prototype.finishIncrementalSelection=function(){o("A selection is open",Y);var t=this.cursor;t.clearSelection(),t.select()||t.show();var e=t.selection;e&&t.controller.aria.clear().queue(e.join("mathspeak"," ").trim()+" selected"),Y=!1},n.prototype.withIncrementalSelection=function(t){var e=this;try{this.startIncrementalSelection();try{t((function(t){return e.selectDirIncremental(t)}))}finally{this.finishIncrementalSelection()}}finally{Y=!1}},n.prototype.selectDir=function(t){this.withIncrementalSelection((function(e){return e(t)}))},n.prototype.selectLeft=function(){return this.selectDir(t)},n.prototype.selectRight=function(){return this.selectDir(1)},n.prototype.selectAll=function(){this.notify("move");var e=this.cursor;e.insAtRightEnd(this.root),this.withIncrementalSelection((function(n){for(;e[t];)n(t)}))},n.prototype.selectToBlockEndInDir=function(t){var e=this.cursor;this.withIncrementalSelection((function(n){for(;e[t];)n(t)}))},n.prototype.selectToRootEndInDir=function(t){var e=this,n=this.cursor;this.withIncrementalSelection((function(r){for(;n[t]||n.parent!==e.root;)r(t)}))},n}(K),et=(i((function(t){return J.call(this)||this}),J=Z),function(){function t(t){for(var e=t[0]||new vt,n=1;n<t.length;n+=1)t[n].children().adopt(e,e.getEnd(1),0);return e}var e=V.string,n=V.regex,r=V.letter,o=V.digit,i=V.any,a=V.optWhitespace,s=V.succeed,l=V.fail,u=r.map((function(t){return new Lt(t)})),c=o.map((function(t){return new St(t)})),p=n(/^[^${}\\_^]/).map((function(t){return new ht(t)})),f=n(/^[^\\a-eg-zA-Z]/).or(e("\\").then(n(/^[a-z]+/i).or(n(/^\s+/).result(" ")).or(i))).then((function(t){var e=T[t];return e?e.constructor?new e(t).parser():e(t).parser():l("unknown command: \\"+t)})).or(u).or(c).or(p),h=e("{").then((function(){return m})).skip(e("}")),d=a.then(h.or(f.map((function(t){var e=new vt;return t.adopt(e,0,0),e})))),m=d.many().map(t).skip(a),g=e("[").then(d.then((function(t){return"]"!==t.join("latex")?s(t):l("")})).many().map(t).skip(a)).skip(e("]")),v=m;return v.block=d,v.optBlock=g,v}());_.maxDepth=function(t){return"number"==typeof t?t:void 0};var nt,rt=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.cleanLatex=function(t){return t.replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},n.prototype.exportLatex=function(){return this.cleanLatex(this.root.latex())},n.prototype.writeLatex=function(t){var e=this.notify("edit").cursor;return e.parent.writeLatex(e,t),this},n.prototype.exportLatexSelection=function(){var e={latex:"",startIndex:-1,endIndex:-1},n=this.cursor.selection;if(n)e.startSelectionBefore=n.getEnd(t),e.endSelectionAfter=n.getEnd(1);else{var r=this.cursor[t];r?e.startSelectionAfter=r:e.startSelectionBefore=this.cursor.parent;var o=this.cursor[1];o?e.endSelectionBefore=o:e.endSelectionAfter=this.cursor.parent}this.root.latexRecursive(e);for(var i=e.latex,a=this.cleanLatex(i),s=e.startIndex,l=e.endIndex,u=0,c=0;c<e.endIndex;c++)i[c]!==a[u]?(c<e.startIndex&&(s-=1),l-=1):u+=1;return{latex:a,startIndex:s,endIndex:l}},n.prototype.classifyLatexForEfficientUpdate=function(t){if("string"==typeof t){var e=t.match(/-?[0-9.]+$/g);return e&&1===e.length?{latex:t,prefix:t.substr(0,t.length-e[0].length),digits:e[0]}:void 0}},n.prototype.updateLatexMathEfficiently=function(e,n){var r,o,i,a,s,l=this.root,u=this.classifyLatexForEfficientUpdate(e);if(!u)return!1;if(!(s=this.classifyLatexForEfficientUpdate(n))||s.prefix!==u.prefix)return!1;var c=s.digits,p=u.digits,f=!1,h=!1;"-"===c[0]&&(f=!0,c=c.substr(1)),"-"===p[0]&&(h=!0,p=p.substr(1));for(var d=this.root.getEnd(1),m=[],g=c.length-1;g>=0;g--){if(!d||d.ctrlSeq!==c[g])return!1;if(d.parent!==l)return!1;m.unshift(d),d=d[t]}if(f&&!h){var v=d;if(!v)return!1;if("-"!==v.ctrlSeq)return!1;if(v[1]!==m[0])return!1;if(v.parent!==l)return!1;var y=v[t];if(y&&y.parent!==l)return!1;m[0][t]=v[t],l.getEnd(t)===v&&l.setEnds(((r={})[t]=m[0],r[1]=l.getEnd(1),r)),y&&(y[1]=m[0]),v.domFrag().remove()}if(!f&&h){var b=new jt("-"),x=document.createElement("span");x.textContent="-",b.setDOM(x);var w=m[0][t];w&&(w[1]=b),l.getEnd(t)===m[0]&&l.setEnds(((o={})[t]=b,o[1]=l.getEnd(1),o)),b.parent=l,b[t]=m[0][t],b[1]=m[0],m[0][t]=b,b.contactWeld(this.cursor),b.domFrag().insertBefore(m[0].domFrag())}var q=Math.min(c.length,p.length);for(g=0;g<q;g++){var E=p[g];(d=m[g]).ctrlSeq!==E&&(d.ctrlSeq=E,d.domFrag().oneElement().textContent=E,d.mathspeakName=E)}if(c.length>p.length)for(d=m[p.length-1],l.setEnds(((i={})[t]=l.getEnd(t),i[1]=d,i)),d[1]=0,g=c.length-1;g>=q;g--)m[g].domFrag().remove();if(p.length>c.length){var k=document.createDocumentFragment();for(g=q;g<p.length;g++){var T=document.createElement("span");T.className="mq-digit",T.textContent=p[g];var S=new St(p[g]);S.parent=l,S.setDOM(T),k.appendChild(T),S[t]=l.getEnd(1),S[1]=0,S[t][1]=S,l.setEnds(((a={})[t]=l.getEnd(t),a[1]=S,a))}l.domFrag().oneElement().appendChild(k)}var C=this.exportLatex();if(C!==e)return console.warn("tried updating latex efficiently but did not work. Attempted: "+e+" but wrote: "+C),!1;var O=l.getEnd(1);return O&&O.fixDigitGrouping(this.cursor.options),!0},n.prototype.renderLatexMathFromScratch=function(e){var n,r=this.root,o=this.cursor,i=V.all,a=V.eof,s=et.skip(a).or(i.result(!1)).parse(e);if(r.setEnds(((n={})[t]=0,n[1]=0,n)),s&&s.children().adopt(r,0,0),s){var l=r.domFrag();l.children().remove(),l.oneElement().appendChild(s.html()),r.finalizeInsert(o.options,o)}else r.domFrag().empty()},n.prototype.renderLatexMath=function(e){var n=this.cursor,r=this.root;this.notify("replace"),n.clearSelection();var o=this.exportLatex();r.getEnd(t)&&r.getEnd(1)&&o===e||(this.updateLatexMathEfficiently(e,o)||this.renderLatexMathFromScratch(e),this.updateMathspeak()),n.insAtRightEnd(r)},n.prototype.renderLatexText=function(e){var n,r=this.root,o=this.cursor;r.domFrag().children().slice(1).remove(),r.setEnds(((n={})[t]=0,n[1]=0,n)),delete o.selection,o.show().insAtRightEnd(r);var i=V.regex,a=V.string,s=V.eof,l=V.all,u=a("$").then(et).skip(a("$").or(s)).map((function(e){var n=new Et(o);n.createBlocks();var r=n.getEnd(t);return e.children().adopt(r,0,0),n})),c=a("\\$").result("$").or(i(/^[^$]/)).map((function(t){return new ht(t)})),p=u.or(c).many().skip(s).or(l.result(!1)).parse(e);if(p){for(var f=0;f<p.length;f+=1)p[f].adopt(r,r.getEnd(1),0);y(r.html()).appendTo(r.domFrag().oneElement()),r.finalizeInsert(o.options,o)}},n}(tt),ot=function(t){return!1};R.prototype.ignoreNextMousedown=ot,F.onNotify((function(t,e){"edit"!==e&&"replace"!==e||nt&&nt.cursor===t&&nt.cb()}));var it=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleMouseDown=function(t){var n=c(t.target,".mq-root-block"),o=n&&q.getNodeOfElement(n)||q.getNodeOfElement(e.root.domFrag().oneElement()),i=o.domFrag().firstNode().ownerDocument,a=o.controller,s=a.cursor,l=s.blink,u=a.getTextareaSpanOrThrow(),p=a.getTextareaOrThrow();if(t.preventDefault(),t.target.unselectable=!0,!s.options.ignoreNextMousedown(t)&&(s.options.ignoreNextMousedown=ot,!c(t.target,".mq-ignore-mousedown"))){var f,h=null;nt={cursor:s,cb:function(){f=!0,s.blink=l,s.clearSelection(),v(),g()}},a.blurred&&(n&&!a.editable&&y(n).prepend(y(u)),p.focus(),f)||(s.blink=r,a.seek(t.target,t.clientX,t.clientY).cursor.startSelection(),null==n||n.addEventListener("mousemove",d),null==i||i.addEventListener("mousemove",m),null==i||i.addEventListener("mouseup",b))}function d(t){h=t.target}function m(t){s.anticursor||s.startSelection(),a.seek(h,t.clientX,t.clientY).cursor.select(),s.selection&&s.controller.aria.clear().queue(s.selection.join("mathspeak")+" selected").alert(),h=null}function g(){null==n||n.removeEventListener("mousemove",d),null==i||i.removeEventListener("mousemove",m),null==i||i.removeEventListener("mouseup",b),nt=void 0}function v(){a.editable?(s.show(),s.controller.aria.queue(s.parent).alert()):y(u).detach()}function b(){s.blink=l,s.selection||v(),g()}},e}return i(e,t),e.prototype.addMouseEventListener=function(){this.container.addEventListener("mousedown",this.handleMouseDown)},e.prototype.removeMouseEventListener=function(){this.container.removeEventListener("mousedown",this.handleMouseDown)},e.prototype.seek=function(t,e,n){for(var r,o=this.notify("select").cursor;t&&!(r=q.getNodeOfElement(t));)t=t.parentElement;return r||(r=this.root),o.clearSelection().show(),r.seek(e,o),this.scrollHoriz(),this},e}(rt),at=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.setOverflowClasses=function(){var t=this.root.domFrag().oneElement(),e=!1,n=!1;if(!this.blurred){var r=f(t).width,o=t.scrollWidth,i=t.scrollLeft;e=o>r+i,n=i>0}t.classList.contains("mq-editing-overflow-right")!==e&&t.classList.toggle("mq-editing-overflow-right"),t.classList.contains("mq-editing-overflow-left")!==n&&t.classList.toggle("mq-editing-overflow-left")},n.prototype.scrollHoriz=function(){var e=this,n=this.cursor,r=n.selection,o=f(this.root.domFrag().oneElement());if(!n.domFrag().isEmpty()||r){if(r){var i=f(r.domFrag().oneElement()),a=i.left-(o.left+20),s=i.right-(o.right-20);if(r.getEnd(t)===n[1])if(a<0)u=a;else{if(!(s>0))return;u=i.left-s<o.left+20?a:s}else if(s>0)u=s;else{if(!(a<0))return;u=i.right-a>o.right-20?s:a}}else{var l=f(n.domFrag().oneElement()).left;if(l>o.right-20)var u=l-(o.right-20);else{if(!(l<o.left+20))return;u=l-(o.left+20)}}var c=this.root.domFrag().oneElement();if(!(u<0&&0===c.scrollLeft||u>0&&c.scrollWidth<=c.scrollLeft+o.width)){this.cancelScrollHoriz&&(this.cancelScrollHoriz(),this.cancelScrollHoriz=void 0);var p=this.root.domFrag().oneElement(),h=p.scrollLeft;m(this.getScrollAnimationDuration(),(function(t,n,r){t>=1?(e.cancelScrollHoriz=void 0,p.scrollLeft=Math.round(h+u),e.setOverflowClasses()):(e.cancelScrollHoriz=r,n(),p.scrollLeft=Math.round(h+t*u))}))}}else{this.cancelScrollHoriz&&(this.cancelScrollHoriz(),this.cancelScrollHoriz=void 0);var d=this.root.domFrag().oneElement(),g=d.scrollLeft;m(this.getScrollAnimationDuration(),(function(t,n,r){t>=1?(e.cancelScrollHoriz=void 0,d.scrollLeft=0,e.setOverflowClasses()):(e.cancelScrollHoriz=r,n(),d.scrollLeft=Math.round((1-t)*g))}))}},n.prototype.getScrollAnimationDuration=function(){var t;return null!==(t=this.options.scrollAnimationDuration)&&void 0!==t?t:100},n}(it);function st(t,e){return X(t[0],e)}R.prototype.substituteTextarea=function(){return u("textarea",{autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:!1,"x-palm-disable-ste-all":!0})},R.prototype.substituteKeyboardEvents=st;var lt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectFn=r,e}return i(e,t),e.prototype.createTextarea=function(){this.textareaSpan=u("span",{class:"mq-textarea"});var t=this.options.substituteTextarea();if(!t.nodeType)throw"substituteTextarea() must return a DOM element, got "+t;this.textarea=y(t).appendTo(this.textareaSpan).oneElement();var e=this;e.cursor.selectionChanged=function(){e.selectionChanged()}},e.prototype.selectionChanged=function(){var t=this;t.textareaSelectionTimeout||(t.textareaSelectionTimeout=setTimeout((function(){t.setTextareaSelection()})))},e.prototype.setTextareaSelection=function(){this.textareaSelectionTimeout=0;var t="";this.cursor.selection&&(t=this.cleanLatex(this.cursor.selection.join("latex")),this.options.statelessClipboard&&(t="$"+t+"$")),this.selectFn(t)},e.prototype.staticMathTextareaEvents=function(){var t=this;this.removeTextareaEventListener("cut"),this.removeTextareaEventListener("paste"),t.options.disableCopyPaste?this.removeTextareaEventListener("copy"):this.addTextareaEventListeners({copy:function(){t.setTextareaSelection()}}),this.addStaticFocusBlurListeners(),t.selectFn=function(e){var n=t.getTextareaOrThrow();n instanceof HTMLTextAreaElement&&(n.value=e,e&&n.select())}},e.prototype.editablesTextareaEvents=function(){var t=this.getTextareaOrThrow(),e=this.getTextareaSpanOrThrow();if(this.options.version<3){var n=this.options.assertJquery(),r=this.options.substituteKeyboardEvents(n(t),this);this.selectFn=function(t){r.select(t)}}else{var o=X(t,this).select;this.selectFn=o}y(this.container).prepend(y(e)),this.addEditableFocusBlurListeners(),this.updateMathspeak()},e.prototype.unbindEditablesEvents=function(){var t=this,e=t.getTextareaOrThrow(),n=t.getTextareaSpanOrThrow();this.selectFn=function(t){e instanceof HTMLTextAreaElement&&(e.value=t,t&&e.select())},y(n).remove(),this.removeTextareaEventListener("focus"),this.removeTextareaEventListener("blur"),t.blurred=!0,this.removeTextareaEventListener("cut"),this.removeTextareaEventListener("paste")},e.prototype.typedText=function(t){if("\n"===t)return this.handle("enter");var e=this.notify(void 0).cursor;e.parent.write(e,t),this.scrollHoriz()},e.prototype.cut=function(){var t=this,e=t.cursor;e.selection&&setTimeout((function(){t.notify("edit"),e.parent.bubble((function(t){t.reflow()})),t.options&&t.options.onCut&&t.options.onCut()}))},e.prototype.copy=function(){this.setTextareaSelection()},e.prototype.paste=function(t){this.options.statelessClipboard&&(t="$"===t.slice(0,1)&&"$"===t.slice(-1)?t.slice(1,-1):"\\text{"+t+"}"),this.writeLatex(t).cursor.show(),this.scrollHoriz(),this.options&&this.options.onPaste&&this.options.onPaste()},e.prototype.setupStaticField=function(){this.mathspeakSpan=u("span",{class:"mq-mathspeak"}),y(this.container).prepend(y(this.mathspeakSpan)),this.updateMathspeak(),this.blurred=!0,this.cursor.hide().parent.blur(this.cursor)},e.prototype.updateMathspeak=function(){var t=this,e=t.getAriaLabel(),n=/[A-Za-z0-9]$/.test(e)?e+":":e,r=t.root.mathspeak().trim();this.aria.clear();var o=t.getTextareaOrThrow();t.mathspeakSpan?(o.setAttribute("aria-label",""),t.mathspeakSpan.textContent=(n+" "+r).trim()):o.setAttribute("aria-label",(n+" "+r+" "+t.ariaPostLabel).trim())},e}(at),ut=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.finalizeInsert=function(e,n){var r=this;r.postOrder((function(t){t.finalizeTree(e)})),r.postOrder((function(t){t.contactWeld(n)})),r.postOrder((function(t){t.blur(n)})),r.postOrder((function(t){t.reflow()}));var o=r[1],i=r[t];o&&o.siblingCreated(e,t),i&&i.siblingCreated(e,1),r.bubble((function(t){t.reflow()}))},n.prototype.prepareInsertionAt=function(t){var e=t.options.maxDepth;if(void 0!==e){var n=t.depth();if(n>e)return!1;this.removeNodesDeeperThan(e-n)}return!0},n.prototype.removeNodesDeeperThan=function(t){for(var e,n=0,r=[[this,n]];e=r.shift();){var o=e;o[0].children().each((function(e){var i=e instanceof vt?1:0;(n=o[1]+i)<=t?r.push([e,n]):(i?e.children():e).remove()}))}},n}(Z),ct=function(t,e){this.childCount=t,this.render=e},pt=function(e){function n(t,n,r){var o=e.call(this)||this;return o.textTemplate=[""],o.mathspeakTemplate=[""],o.setCtrlSeqHtmlAndText(t,n,r),o}return i(n,e),n.prototype.setEnds=function(e){o("MathCommand ends are never empty",e[t]&&e[1]),this.ends=e},n.prototype.getEnd=function(t){return this.ends[t]},n.prototype.setCtrlSeqHtmlAndText=function(t,e,n){this.ctrlSeq||(this.ctrlSeq=t),e&&(this.domView=e),n&&(this.textTemplate=n)},n.prototype.replaces=function(t){t.disown(),this.replacedFragment=t},n.prototype.isEmpty=function(){return this.foldChildren(!0,(function(t,e){return t&&e.isEmpty()}))},n.prototype.parser=function(){var t=this;return et.block.times(this.numBlocks()).map((function(e){t.blocks=e;for(var n=0;n<e.length;n+=1)e[n].adopt(t,t.getEnd(1),0);return t}))},n.prototype.createLeftOf=function(n){var r=this,o=r.replacedFragment;if(r.createBlocks(),e.prototype.createLeftOf.call(this,n),o){var i=r.getEnd(t);o.adopt(i,0,0),o.domFrag().appendTo(i.domFrag().oneElement()),r.placeCursor(n),r.prepareInsertionAt(n)}r.finalizeInsert(n.options,n),r.placeCursor(n)},n.prototype.createBlocks=function(){for(var t=this,e=t.numBlocks(),n=t.blocks=Array(e),r=0;r<e;r+=1)(n[r]=new vt).adopt(t,t.getEnd(1),0)},n.prototype.placeCursor=function(e){e.insAtRightEnd(this.foldChildren(this.getEnd(t),(function(t,e){return t.isEmpty()?t:e})))},n.prototype.moveTowards=function(t,e,n){var r;"up"===n?r=this.upInto:"down"===n&&(r=this.downInto);var o=r||this.getEnd(-t);e.insAtDirEnd(-t,o),e.controller.aria.queueDirEndOf(-t).queue(e.parent,!0)},n.prototype.deleteTowards=function(t,e){this.isEmpty()?e[t]=this.remove()[t]:this.moveTowards(t,e)},n.prototype.selectTowards=function(t,e){e[-t]=this,e[t]=this[t]},n.prototype.selectChildren=function(){return new A(this,this)},n.prototype.unselectInto=function(t,e){var n=e.anticursor.ancestors[this.id];e.insAtDirEnd(-t,n)},n.prototype.seek=function(e,n){function r(e){var n,r=e.domFrag().oneElement(),o=f(r).left,i=o+r.offsetWidth;return(n={})[t]=o,n[1]=i,n}var o=this,i=r(o);if(e<i[t])return n.insLeftOf(o);if(e>i[1])return n.insRightOf(o);var a=i[t];o.eachChild((function(s){var l=r(s);return e<l[t]?(e-a<l[t]-e?s[t]?n.insAtRightEnd(s[t]):n.insLeftOf(o):n.insAtLeftEnd(s),!1):e>l[1]?void(s[1]?a=l[1]:i[1]-e<e-l[1]?n.insRightOf(o):n.insAtRightEnd(s)):(s.seek(e,n),!1)}))},n.prototype.numBlocks=function(){return this.domView.childCount},n.prototype.html=function(){var t=this.blocks;o("domView is defined",this.domView);var e=this.domView.render(t||[]);return this.setDOM(e),q.linkElementByCmdNode(e,this),e},n.prototype.latexRecursive=function(t){this.checkCursorContextOpen(t),t.latex+=this.ctrlSeq||"",this.eachChild((function(e){t.latex+="{";var n=t.latex.length;e.latexRecursive(t),n===t.latex.length&&(t.latex+=" "),t.latex+="}"})),this.checkCursorContextClose(t)},n.prototype.text=function(){var t=this,e=0;return t.foldChildren(t.textTemplate[e],(function(n,r){e+=1;var o=r.text();return n&&"("===t.textTemplate[e]&&"("===o[0]&&")"===o.slice(-1)?n+o.slice(1,-1)+t.textTemplate[e]:n+o+(t.textTemplate[e]||"")}))},n.prototype.mathspeak=function(){var t=this,e=0;return t.foldChildren(t.mathspeakTemplate[e]||"Start"+t.ctrlSeq+" ",(function(n,r){return e+=1,n+" "+r.mathspeak()+" "+(t.mathspeakTemplate[e]+" "||0)}))},n}(ut),ft=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.setCtrlSeqHtmlTextAndMathspeak(e,n?new ct(0,(function(){return n.cloneNode(!0)})):void 0,r,o),i}return i(e,t),e.prototype.setCtrlSeqHtmlTextAndMathspeak=function(e,n,r,o){!r&&e&&(r=e.replace(/^\\/,"")),this.mathspeakName=o||r,t.prototype.setCtrlSeqHtmlAndText.call(this,e,n,[r||""])},e.prototype.parser=function(){return V.succeed(this)},e.prototype.numBlocks=function(){return 0},e.prototype.replaces=function(t){t.remove()},e.prototype.createBlocks=function(){},e.prototype.moveTowards=function(t,e){e.domFrag().insDirOf(t,this.domFrag()),e[-t]=this,e[t]=this[t],e.controller.aria.queue(this)},e.prototype.deleteTowards=function(t,e){e[t]=this.remove()[t]},e.prototype.seek=function(t,e){var n=this.domFrag().oneElement();return t-f(n).left<n.offsetWidth/2?e.insLeftOf(this):e.insRightOf(this),e},e.prototype.latexRecursive=function(t){this.checkCursorContextOpen(t),t.latex+=this.ctrlSeq||"",this.checkCursorContextClose(t)},e.prototype.text=function(){return this.textTemplate.join("")},e.prototype.mathspeak=function(t){return this.mathspeakName||""},e.prototype.placeCursor=function(){},e.prototype.isEmpty=function(){return!0},e}(pt),ht=function(t){function e(e,n,r){return t.call(this,e,u("span",{},[n||u.text(e)]),void 0,r)||this}return i(e,t),e}(ft);function dt(t,e,n){return function(){return new ht(t,e?u.entityText(e):void 0,n)}}var mt=function(t){function e(e,n,r,o,i){return i?t.call(this,e,u("span",{},[n||u.text(e||"")]),void 0,o)||this:t.call(this,e,u("span",{class:"mq-binary-operator"},n?[n]:[]),r,o)||this}return i(e,t),e}(ft);function gt(t,e,n,r){return function(){return new mt(t,e?u.entityText(e):void 0,n,r)}}var vt=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.ariaLabel="block",t}return i(n,e),n.prototype.join=function(t){return this.foldChildren("",(function(e,n){return e+n[t]()}))},n.prototype.html=function(){var t=document.createDocumentFragment();return this.eachChild((function(e){var n=e.html();t.appendChild(n)})),t},n.prototype.latexRecursive=function(t){this.checkCursorContextOpen(t),this.eachChild((function(e){return e.latexRecursive(t)})),this.checkCursorContextClose(t)},n.prototype.text=function(){var e=this.getEnd(t);return e===this.getEnd(1)&&0!==e?e.text():this.join("text")},n.prototype.mathspeak=function(){var t="",e={};return this.controller&&(e=this.controller.options.autoOperatorNames),this.foldChildren([],(function(n,r){if(r.isPartOfOperator)t+=r.mathspeak();else{if(""!==t){if(e._maxLength>0){var o=e[t.toLowerCase()];"string"==typeof o&&(t=o)}n.push(t+" "),t=""}var i=r.mathspeak(),a=r.ctrlSeq;!isNaN(a)||"."===a||r.parent&&r.parent.parent&&r.parent.parent.isTextBlock()||(i=" "+i+" "),n.push(i)}return n})).join("").replace(/ +(?= )/g,"").replace(/(\.)([0-9]+)/g,(function(t,e,n){return e+n.split("").join(" ").trim()}))},n.prototype.keystroke=function(n,r,o){return!o.options.spaceBehavesLikeTab||"Spacebar"!==n&&"Shift-Spacebar"!==n?e.prototype.keystroke.call(this,n,r,o):(null==r||r.preventDefault(),void o.escapeDir("Shift-Spacebar"===n?t:1,n,r))},n.prototype.moveOutOf=function(t,e,n){var r;if("up"===n?r=this.parent.upInto:"down"===n&&(r=this.parent.downInto),!r&&this[t]){var o=-t;e.insAtDirEnd(o,this[t]),e.controller.aria.queueDirEndOf(o).queue(e.parent,!0)}else e.insDirOf(t,this.parent),e.controller.aria.queueDirOf(t).queue(this.parent)},n.prototype.selectOutOf=function(t,e){e.insDirOf(t,this.parent)},n.prototype.deleteOutOf=function(t,e){e.unwrapGramp()},n.prototype.seek=function(e,n){var r=this.getEnd(1);if(!r)return n.insAtRightEnd(this);var o=r.domFrag().oneElement();if(f(o).left+o.offsetWidth<e)return n.insAtRightEnd(this);if(e<f(this.getEnd(t).domFrag().oneElement()).left)return n.insAtLeftEnd(this);for(;e<f(r.domFrag().oneElement()).left;)r=r[t];return r.seek(e,n)},n.prototype.chToCmd=function(t,e){var n;return t.match(/^[a-eg-zA-Z]$/)?new Lt(t):/^\d$/.test(t)?new St(t):e&&e.typingSlashWritesDivisionSymbol&&"/"===t?T["÷"](t):e&&e.typingAsteriskWritesTimesSymbol&&"*"===t?T["×"](t):e&&e.typingPercentWritesPercentOf&&"%"===t?T.percentof(t):(n=S[t]||T[t])?n.constructor?new n(t):n(t):new ht(t)},n.prototype.write=function(t,e){var n=this.chToCmd(e,t.options);t.selection&&n.replaces(t.replaceSelection()),t.isTooDeep()||(n.createLeftOf(t.show()),"/"===e?t.controller.aria.alert("over"):t.controller.aria.alert(n.mathspeak({createdLeftOf:t})))},n.prototype.writeLatex=function(e,n){var r=V.all,o=V.eof,i=et.skip(o).or(r.result(!1)).parse(n);if(i&&!i.isEmpty()&&i.prepareInsertionAt(e)){i.children().adopt(e.parent,e[t],e[1]),y(i.html()).insertBefore(e.domFrag()),e[t]=i.getEnd(1),i.finalizeInsert(e.options,e);var a=i.getEnd(1),s=i.getEnd(t),l=a[1],u=s[t];l&&l.siblingCreated(e.options,t),u&&u.siblingCreated(e.options,1),e.parent.bubble((function(t){t.reflow()}))}},n.prototype.focus=function(){return this.domFrag().addClass("mq-hasCursor"),this.domFrag().removeClass("mq-empty"),this},n.prototype.blur=function(t){return this.domFrag().removeClass("mq-hasCursor"),this.isEmpty()&&(this.domFrag().addClass("mq-empty"),t&&this.isQuietEmptyDelimiter(t.options.quietEmptyDelimiters)&&this.domFrag().addClass("mq-quiet-delimiter")),this},n}(ut);R.prototype.mouseEvents=!0,N.StaticMath=function(t){var e;return e=function(e){function n(n){var r=e.call(this,n)||this,o=r.innerFields=[];return r.__controller.root.postOrder((function(e){e.registerInnerField(o,t.InnerMathField)})),r}return i(n,e),n.prototype.__mathquillify=function(t,n){return this.config(t),e.prototype.mathquillify.call(this,"mq-math-mode"),this.__controller.setupStaticField(),this.__options.mouseEvents&&(this.__controller.addMouseEventListener(),this.__controller.staticMathTextareaEvents()),this},n.prototype.latex=function(n){var r=e.prototype.latex.apply(this,arguments);if(arguments.length>0){var o=this.innerFields=[];this.__controller.root.postOrder((function(e){e.registerInnerField(o,t.InnerMathField)})),this.__controller.updateMathspeak()}return r},n.prototype.setAriaLabel=function(t){return this.__controller.setAriaLabel(t),this},n.prototype.getAriaLabel=function(){return this.__controller.getAriaLabel()},n}(t.AbstractMathQuill),e.RootBlock=vt,e};var yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(vt);W(yt.prototype),N.MathField=function(t){var e;return e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.__mathquillify=function(e,n){return this.config(e),n>1&&(this.__controller.root.reflow=r),t.prototype.mathquillify.call(this,"mq-editable-field mq-math-mode"),delete this.__controller.root.reflow,this},e}(t.EditableField),e.RootBlock=yt,e},N.InnerMathField=function(t){return o("MathField class is defined",t.MathField),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.makeStatic=function(){this.__controller.editable=!1,this.__controller.root.blur(),this.__controller.unbindEditablesEvents(),y(this.__controller.container).removeClass("mq-editable-field")},e.prototype.makeEditable=function(){this.__controller.editable=!0,this.__controller.editablesTextareaEvents(),this.__controller.cursor.insAtRightEnd(this.__controller.root),y(this.__controller.container).addClass("mq-editable-field")},e}(t.MathField)};var bt=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctrlSeq="\\text",t.ariaLabel="Text",t.mathspeakTemplate=["StartText","EndText"],t}return i(n,e),n.prototype.replaces=function(t){t instanceof k?this.replacedText=t.remove().domFrag().text():"string"==typeof t&&(this.replacedText=t)},n.prototype.setDOMFrag=function(n){e.prototype.setDOM.call(this,n);var r=this.getEnd(t);if(r){var o=this.domFrag().children();o.isEmpty()||r.setDOM(o.oneText())}return this},n.prototype.createLeftOf=function(n){var r=this;if(e.prototype.createLeftOf.call(this,n),n.insAtRightEnd(r),r.replacedText)for(var o=0;o<r.replacedText.length;o+=1)r.write(n,r.replacedText.charAt(o));var i=r[1];i&&i.siblingCreated(n.options,t);var a=r[t];a&&a.siblingCreated(n.options,1),r.bubble((function(t){t.reflow()}))},n.prototype.parser=function(){var t=this,e=V.string,n=V.regex;return V.optWhitespace.then(e("{")).then(n(/^[^}]*/)).skip(e("}")).map((function(e){return 0===e.length?new k(0,0):(new wt(e).adopt(t,0,0),t)}))},n.prototype.textContents=function(){return this.foldChildren("",(function(t,e){return t+e.textStr}))},n.prototype.text=function(){return'"'+this.textContents()+'"'},n.prototype.latexRecursive=function(t){this.checkCursorContextOpen(t);var e=this.textContents();e.length>0&&(t.latex+=this.ctrlSeq+"{",t.latex+=e.replace(/\\/g,"\\backslash ").replace(/[{}]/g,"\\$&"),t.latex+="}"),this.checkCursorContextClose(t)},n.prototype.html=function(){var t=u("span",{class:"mq-text-mode"},[u.text(this.textContents())]);return this.setDOM(t),q.linkElementByCmdNode(t,this),t},n.prototype.mathspeak=function(t){return t&&t.ignoreShorthand?this.mathspeakTemplate[0]+", "+this.textContents()+", "+this.mathspeakTemplate[1]:this.textContents()},n.prototype.isTextBlock=function(){return!0},n.prototype.moveTowards=function(t,e){e.insAtDirEnd(-t,this),e.controller.aria.queueDirEndOf(-t).queue(e.parent,!0)},n.prototype.moveOutOf=function(t,e){e.insDirOf(t,this),e.controller.aria.queueDirOf(t).queue(this)},n.prototype.unselectInto=function(t,e){this.moveTowards(t,e)},n.prototype.selectTowards=function(t,e){pt.prototype.selectTowards.call(this,t,e)},n.prototype.deleteTowards=function(t,e){pt.prototype.deleteTowards.call(this,t,e)},n.prototype.selectOutOf=function(t,e){e.insDirOf(t,this)},n.prototype.deleteOutOf=function(t,e){this.isEmpty()&&e.insRightOf(this)},n.prototype.write=function(r,o){if(r.show().deleteSelection(),"$"!==o){var i=r[t];i?i instanceof wt&&i.appendText(o):new wt(o).createLeftOf(r)}else if(this.isEmpty())r.insRightOf(this),new ht("\\$",u.text("$")).createLeftOf(r);else if(r[1])if(r[t]){var a=new n,s=this.getEnd(t);s&&(s.disown().domFrag().detach(),s.adopt(a,0,0)),r.insLeftOf(this),e.prototype.createLeftOf.call(a,r)}else r.insLeftOf(this);else r.insRightOf(this);this.bubble((function(t){t.reflow()})),r.controller.aria.alert(o)},n.prototype.writeLatex=function(e,n){var r=e[t];r?r instanceof wt&&r.appendText(n):new wt(n).createLeftOf(e),this.bubble((function(t){t.reflow()}))},n.prototype.seek=function(e,n){n.hide();var r=xt(this);if(r){var o=this.domFrag().children().oneText(),i=document.createRange();i.selectNodeContents(o);var a=i.getClientRects();if(1===a.length){var s=a[0],l=s.width,u=s.left,c=l/this.textContents().length,p=Math.round((e-u)/c);p<=0?n.insAtLeftEnd(this):p>=r.textStr.length?n.insAtRightEnd(this):n.insLeftOf(r.splitRight(p))}else n.insAtLeftEnd(this);for(var f=e-n.show().getBoundingClientRectWithoutMargin().left,h=f&&f<0?t:1,d=h;n[h]&&f*d>0;)n[h].moveTowards(h,n),d=f,f=e-n.getBoundingClientRectWithoutMargin().left;if(h*f<-h*d&&n[-h].moveTowards(-h,n),n.anticursor){if(n.anticursor.parent===this){var m=(v=n[t])&&v.textStr.length;if(this.anticursorPosition===m)n.anticursor=L.fromCursor(n);else{if(this.anticursorPosition<m){var g=v.splitRight(this.anticursorPosition);n[t]=g}else g=n[1].splitRight(this.anticursorPosition-m);n.anticursor=new L(this,g[t],g)}}}else{var v=n[t];this.anticursorPosition=v&&v.textStr.length}}},n.prototype.blur=function(e){vt.prototype.blur.call(this,e),e&&(""===this.textContents()?(this.remove(),e[t]===this?e[t]=this[t]:e[1]===this&&(e[1]=this[1])):xt(this))},n.prototype.focus=function(){vt.prototype.focus.call(this)},n}(Z);function xt(t){t.domFrag().oneElement().normalize();var e=t.domFrag().children();if(!e.isEmpty()){var n=e.oneText();o("only node in TextBlock span is Text node",3===n.nodeType);var r=new wt(n.data);return r.setDOM(n),t.children().disown(),r.adopt(t,0,0),r}}var wt=function(e){function n(t){var n=e.call(this)||this;return n.textStr=t,n}return i(n,e),n.prototype.html=function(){var t=u.text(this.textStr);return this.setDOM(t),t},n.prototype.appendText=function(t){this.textStr+=t,this.domFrag().oneText().appendData(t)},n.prototype.prependText=function(t){this.textStr=t+this.textStr,this.domFrag().oneText().insertData(0,t)},n.prototype.insTextAtDirEnd=function(t,e){s(e),1===e?this.appendText(t):this.prependText(t)},n.prototype.splitRight=function(t){var e=new n(this.textStr.slice(t)).adopt(this.parent,this,this[1]);return e.setDOM(this.domFrag().oneText().splitText(t)),this.textStr=this.textStr.slice(0,t),e},n.prototype.endChar=function(e,n){return n.charAt(e===t?0:-1+n.length)},n.prototype.moveTowards=function(t,e){s(t);var r=this.endChar(-t,this.textStr),o=this[-t];return o instanceof n?o.insTextAtDirEnd(r,t):new n(r).createDir(-t,e),this.deleteTowards(t,e)},n.prototype.mathspeak=function(){return this.textStr},n.prototype.latexRecursive=function(t){this.checkCursorContextOpen(t),t.latex+=this.textStr,this.checkCursorContextClose(t)},n.prototype.deleteTowards=function(t,e){var n;this.textStr.length>1?(1===t?(this.domFrag().oneText().deleteData(0,1),n=this.textStr[0],this.textStr=this.textStr.slice(1)):(this.domFrag().oneText().deleteData(-1+this.textStr.length,1),n=this.textStr[this.textStr.length-1],this.textStr=this.textStr.slice(0,-1)),e.controller.aria.queue(n)):(this.remove(),e[t]=this[t],e.controller.aria.queue(this.textStr))},n.prototype.selectTowards=function(t,e){s(t);var r=e.anticursor;if(r){var o=this.endChar(-t,this.textStr);if(r[t]===this){var i=new n(o).createDir(t,e);r[t]=i,e.insDirOf(t,i)}else{var a=this[-t];if(a instanceof n)a.insTextAtDirEnd(o,t);else{i=new n(o).createDir(-t,e);var l=e.selection;l&&i.domFrag().insDirOf(-t,l.domFrag())}1===this.textStr.length&&r[-t]===this&&(r[-t]=this[-t])}return this.deleteTowards(t,e)}},n}(Z);function qt(t,e,n,r){return function(o){function a(){var n=null!==o&&o.apply(this,arguments)||this;return n.ctrlSeq=t,n.mathspeakTemplate=["Start"+e,"End"+e],n.ariaLabel=e,n}return i(a,o),a.prototype.html=function(){var t=u(n,r,[u.text(this.textContents())]);return this.setDOM(t),q.linkElementByCmdNode(t,this),t},a}(bt)}T.text=T.textnormal=T.textrm=T.textup=T.textmd=bt,T.em=T.italic=T.italics=T.emph=T.textit=T.textsl=qt("\\textit","Italic","i",{class:"mq-text-mode"}),T.strong=T.bold=T.textbf=qt("\\textbf","Bold","b",{class:"mq-text-mode"}),T.sf=T.textsf=qt("\\textsf","Sans serif font","span",{class:"mq-sans-serif mq-text-mode"}),T.tt=T.texttt=qt("\\texttt","Mono space font","span",{class:"mq-monospace mq-text-mode"}),T.textsc=qt("\\textsc","Variable font","span",{style:"font-variant:small-caps",class:"mq-text-mode"}),T.uppercase=qt("\\uppercase","Uppercase","span",{style:"text-transform:uppercase",class:"mq-text-mode"}),T.lowercase=qt("\\lowercase","Lowercase","span",{style:"text-transform:lowercase",class:"mq-text-mode"});var Et=function(e){function n(t){var n=e.call(this,"$")||this;return n.domView=new ct(1,(function(t){return u.block("span",{class:"mq-math-mode"},t[0])})),n.cursor=t,n}return i(n,e),n.prototype.createBlocks=function(){e.prototype.createBlocks.call(this);var n=this.getEnd(t);n.cursor=this.cursor,n.write=function(e,n){"$"!==n?vt.prototype.write.call(this,e,n):this.isEmpty()?(e.insRightOf(this.parent),this.parent.deleteTowards(void 0,e),new ht("\\$",u.text("$")).createLeftOf(e.show())):e[1]?e[t]?vt.prototype.write.call(this,e,n):e.insLeftOf(this.parent):e.insRightOf(this.parent)}},n.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),e.latex+="$",this.getEnd(t).latexRecursive(e),e.latex+="$",this.checkCursorContextClose(e)},n}(pt),kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.keystroke=function(e,n,r){if("Spacebar"!==e&&"Shift-Spacebar"!==e)return t.prototype.keystroke.call(this,e,n,r)},e.prototype.write=function(t,e){var n;t.show().deleteSelection(),"$"===e?new Et(t).createLeftOf(t):("<"===e?n=u.entityText("&lt;"):">"===e&&(n=u.entityText("&gt;")),new ht(e,n).createLeftOf(t))},e}(yt);N.TextField=function(t){var e;return e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.__mathquillify=function(){return t.prototype.mathquillify.call(this,"mq-editable-field mq-text-mode"),this},e.prototype.latex=function(t){return t?(this.__controller.renderLatexText(t),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()},e}(t.EditableField),e.RootBlock=kt,e},T.notin=T.cong=T.equiv=T.oplus=T.otimes=function(t){return new mt("\\"+t+" ",u.entityText("&"+t+";"))},T["∗"]=T.ast=T.star=T.loast=T.lowast=gt("\\ast ","&lowast;","low asterisk"),T.therefor=T.therefore=gt("\\therefore ","&there4;","therefore"),T.cuz=T.because=gt("\\because ","&#8757;","because"),T.prop=T.propto=gt("\\propto ","&prop;","proportional to"),T["≈"]=T.asymp=T.approx=gt("\\approx ","&asymp;","approximately equal to"),T.isin=T.in=gt("\\in ","&isin;","is in"),T.ni=T.contains=gt("\\ni ","&ni;","is not in"),T.notni=T.niton=T.notcontains=T.doesnotcontain=gt("\\not\\ni ","&#8716;","does not contain"),T.sub=T.subset=gt("\\subset ","&sub;","subset"),T.sup=T.supset=T.superset=gt("\\supset ","&sup;","superset"),T.nsub=T.notsub=T.nsubset=T.notsubset=gt("\\not\\subset ","&#8836;","not a subset"),T.nsup=T.notsup=T.nsupset=T.notsupset=T.nsuperset=T.notsuperset=gt("\\not\\supset ","&#8837;","not a superset"),T.sube=T.subeq=T.subsete=T.subseteq=gt("\\subseteq ","&sube;","subset or equal to"),T.supe=T.supeq=T.supsete=T.supseteq=T.supersete=T.superseteq=gt("\\supseteq ","&supe;","superset or equal to"),T.nsube=T.nsubeq=T.notsube=T.notsubeq=T.nsubsete=T.nsubseteq=T.notsubsete=T.notsubseteq=gt("\\not\\subseteq ","&#8840;","not subset or equal to"),T.nsupe=T.nsupeq=T.notsupe=T.notsupeq=T.nsupsete=T.nsupseteq=T.notsupsete=T.notsupseteq=T.nsupersete=T.nsuperseteq=T.notsupersete=T.notsuperseteq=gt("\\not\\supseteq ","&#8841;","not superset or equal to"),T.mathbb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.createLeftOf=function(t){},e.prototype.numBlocks=function(){return 1},e.prototype.parser=function(){var t=V.string,e=V.regex,n=V.optWhitespace;return n.then(t("{")).then(n).then(e(/^[NPZQRCH]/)).skip(n).skip(t("}")).map((function(t){var e=T[t];return C(e)?new e:e()}))},e}(pt),T.N=T.naturals=T.Naturals=dt("\\mathbb{N}","&#8469;","naturals"),T.P=T.primes=T.Primes=T.projective=T.Projective=T.probability=T.Probability=dt("\\mathbb{P}","&#8473;","P"),T.Z=T.integers=T.Integers=dt("\\mathbb{Z}","&#8484;","integers"),T.Q=T.rationals=T.Rationals=dt("\\mathbb{Q}","&#8474;","rationals"),T.R=T.reals=T.Reals=dt("\\mathbb{R}","&#8477;","reals"),T.C=T.complex=T.Complex=T.complexes=T.Complexes=T.complexplane=T.Complexplane=T.ComplexPlane=dt("\\mathbb{C}","&#8450;","complexes"),T.H=T.Hamiltonian=T.quaternions=T.Quaternions=dt("\\mathbb{H}","&#8461;","quaternions"),T.quad=T.emsp=dt("\\quad ","    ","4 spaces"),T.qquad=dt("\\qquad ","        ","8 spaces"),T.diamond=dt("\\diamond ","&#9671;","diamond"),T.bigtriangleup=dt("\\bigtriangleup ","&#9651;","triangle up"),T.ominus=dt("\\ominus ","&#8854;","o minus"),T.uplus=dt("\\uplus ","&#8846;","disjoint union"),T.bigtriangledown=dt("\\bigtriangledown ","&#9661;","triangle down"),T.sqcap=dt("\\sqcap ","&#8851;","greatest lower bound"),T.triangleleft=dt("\\triangleleft ","&#8882;","triangle left"),T.sqcup=dt("\\sqcup ","&#8852;","least upper bound"),T.triangleright=dt("\\triangleright ","&#8883;","triangle right"),T.odot=T.circledot=dt("\\odot ","&#8857;","circle dot"),T.bigcirc=dt("\\bigcirc ","&#9711;","circle"),T.dagger=dt("\\dagger ","&#0134;","dagger"),T.ddagger=dt("\\ddagger ","&#135;","big dagger"),T.wr=dt("\\wr ","&#8768;","wreath"),T.amalg=dt("\\amalg ","&#8720;","amalgam"),T.models=dt("\\models ","&#8872;","models"),T.prec=dt("\\prec ","&#8826;","precedes"),T.succ=dt("\\succ ","&#8827;","succeeds"),T.preceq=dt("\\preceq ","&#8828;","precedes or equals"),T.succeq=dt("\\succeq ","&#8829;","succeeds or equals"),T.simeq=dt("\\simeq ","&#8771;","similar or equal to"),T.mid=dt("\\mid ","&#8739;","divides"),T.ll=dt("\\ll ","&#8810;","ll"),T.gg=dt("\\gg ","&#8811;","gg"),T.parallel=dt("\\parallel ","&#8741;","parallel with"),T.nparallel=dt("\\nparallel ","&#8742;","not parallel with"),T.bowtie=dt("\\bowtie ","&#8904;","bowtie"),T.sqsubset=dt("\\sqsubset ","&#8847;","square subset"),T.sqsupset=dt("\\sqsupset ","&#8848;","square superset"),T.smile=dt("\\smile ","&#8995;","smile"),T.sqsubseteq=dt("\\sqsubseteq ","&#8849;","square subset or equal to"),T.sqsupseteq=dt("\\sqsupseteq ","&#8850;","square superset or equal to"),T.doteq=dt("\\doteq ","&#8784;","dotted equals"),T.frown=dt("\\frown ","&#8994;","frown"),T.vdash=dt("\\vdash ","&#8870;","v dash"),T.dashv=dt("\\dashv ","&#8867;","dash v"),T.nless=dt("\\nless ","&#8814;","not less than"),T.ngtr=dt("\\ngtr ","&#8815;","not greater than"),T.longleftarrow=dt("\\longleftarrow ","&#8592;","left arrow"),T.longrightarrow=dt("\\longrightarrow ","&#8594;","right arrow"),T.Longleftarrow=dt("\\Longleftarrow ","&#8656;","left arrow"),T.Longrightarrow=dt("\\Longrightarrow ","&#8658;","right arrow"),T.longleftrightarrow=dt("\\longleftrightarrow ","&#8596;","left and right arrow"),T.updownarrow=dt("\\updownarrow ","&#8597;","up and down arrow"),T.Longleftrightarrow=dt("\\Longleftrightarrow ","&#8660;","left and right arrow"),T.Updownarrow=dt("\\Updownarrow ","&#8661;","up and down arrow"),T.mapsto=dt("\\mapsto ","&#8614;","maps to"),T.nearrow=dt("\\nearrow ","&#8599;","northeast arrow"),T.hookleftarrow=dt("\\hookleftarrow ","&#8617;","hook left arrow"),T.hookrightarrow=dt("\\hookrightarrow ","&#8618;","hook right arrow"),T.searrow=dt("\\searrow ","&#8600;","southeast arrow"),T.leftharpoonup=dt("\\leftharpoonup ","&#8636;","left harpoon up"),T.rightharpoonup=dt("\\rightharpoonup ","&#8640;","right harpoon up"),T.swarrow=dt("\\swarrow ","&#8601;","southwest arrow"),T.leftharpoondown=dt("\\leftharpoondown ","&#8637;","left harpoon down"),T.rightharpoondown=dt("\\rightharpoondown ","&#8641;","right harpoon down"),T.nwarrow=dt("\\nwarrow ","&#8598;","northwest arrow"),T.ldots=dt("\\ldots ","&#8230;","l dots"),T.cdots=dt("\\cdots ","&#8943;","c dots"),T.vdots=dt("\\vdots ","&#8942;","v dots"),T.ddots=dt("\\ddots ","&#8945;","d dots"),T.surd=dt("\\surd ","&#8730;","unresolved root"),T.triangle=dt("\\triangle ","&#9651;","triangle"),T.ell=dt("\\ell ","&#8467;","ell"),T.top=dt("\\top ","&#8868;","top"),T.flat=dt("\\flat ","&#9837;","flat"),T.natural=dt("\\natural ","&#9838;","natural"),T.sharp=dt("\\sharp ","&#9839;","sharp"),T.wp=dt("\\wp ","&#8472;","wp"),T.bot=dt("\\bot ","&#8869;","bot"),T.clubsuit=dt("\\clubsuit ","&#9827;","club suit"),T.diamondsuit=dt("\\diamondsuit ","&#9826;","diamond suit"),T.heartsuit=dt("\\heartsuit ","&#9825;","heart suit"),T.spadesuit=dt("\\spadesuit ","&#9824;","spade suit"),T.parallelogram=dt("\\parallelogram ","&#9649;","parallelogram"),T.square=dt("\\square ","&#11036;","square"),T.oint=dt("\\oint ","&#8750;","o int"),T.bigcap=dt("\\bigcap ","&#8745;","big cap"),T.bigcup=dt("\\bigcup ","&#8746;","big cup"),T.bigsqcup=dt("\\bigsqcup ","&#8852;","big square cup"),T.bigvee=dt("\\bigvee ","&#8744;","big vee"),T.bigwedge=dt("\\bigwedge ","&#8743;","big wedge"),T.bigodot=dt("\\bigodot ","&#8857;","big o dot"),T.bigotimes=dt("\\bigotimes ","&#8855;","big o times"),T.bigoplus=dt("\\bigoplus ","&#8853;","big o plus"),T.biguplus=dt("\\biguplus ","&#8846;","big u plus"),T.lfloor=dt("\\lfloor ","&#8970;","left floor"),T.rfloor=dt("\\rfloor ","&#8971;","right floor"),T.lceil=dt("\\lceil ","&#8968;","left ceiling"),T.rceil=dt("\\rceil ","&#8969;","right ceiling"),T.opencurlybrace=T.lbrace=dt("\\lbrace ","{","left brace"),T.closecurlybrace=T.rbrace=dt("\\rbrace ","}","right brace"),T.lbrack=dt("[","left bracket"),T.rbrack=dt("]","right bracket"),T.slash=dt("/","slash"),T.vert=dt("|","vertical bar"),T.perp=T.perpendicular=dt("\\perp ","&perp;","perpendicular"),T.nabla=T.del=dt("\\nabla ","&nabla;"),T.hbar=dt("\\hbar ","&#8463;","horizontal bar"),T.AA=T.Angstrom=T.angstrom=dt("\\text\\AA ","&#8491;","AA"),T.ring=T.circ=T.circle=dt("\\circ ","&#8728;","circle"),T.bull=T.bullet=dt("\\bullet ","&bull;","bullet"),T.setminus=T.smallsetminus=dt("\\setminus ","&#8726;","set minus"),T.not=T["¬"]=T.neg=dt("\\neg ","&not;","not"),T["…"]=T.dots=T.ellip=T.hellip=T.ellipsis=T.hellipsis=dt("\\dots ","&hellip;","ellipsis"),T.converges=T.darr=T.dnarr=T.dnarrow=T.downarrow=dt("\\downarrow ","&darr;","converges with"),T.dArr=T.dnArr=T.dnArrow=T.Downarrow=dt("\\Downarrow ","&dArr;","down arrow"),T.diverges=T.uarr=T.uparrow=dt("\\uparrow ","&uarr;","diverges from"),T.uArr=T.Uparrow=dt("\\Uparrow ","&uArr;","up arrow"),T.rarr=T.rightarrow=dt("\\rightarrow ","&rarr;","right arrow"),T.implies=gt("\\Rightarrow ","&rArr;","implies"),T.rArr=T.Rightarrow=dt("\\Rightarrow ","&rArr;","right arrow"),T.gets=gt("\\gets ","&larr;","gets"),T.larr=T.leftarrow=dt("\\leftarrow ","&larr;","left arrow"),T.impliedby=gt("\\Leftarrow ","&lArr;","implied by"),T.lArr=T.Leftarrow=dt("\\Leftarrow ","&lArr;","left arrow"),T.harr=T.lrarr=T.leftrightarrow=dt("\\leftrightarrow ","&harr;","left and right arrow"),T.iff=gt("\\Leftrightarrow ","&hArr;","if and only if"),T.hArr=T.lrArr=T.Leftrightarrow=dt("\\Leftrightarrow ","&hArr;","left and right arrow"),T.Re=T.Real=T.real=dt("\\Re ","&real;","real"),T.Im=T.imag=T.image=T.imagin=T.imaginary=T.Imaginary=dt("\\Im ","&image;","imaginary"),T.part=T.partial=dt("\\partial ","&part;","partial"),T.pounds=dt("\\pounds ","&pound;"),T.alef=T.alefsym=T.aleph=T.alephsym=dt("\\aleph ","&alefsym;","alef sym"),T.xist=T.xists=T.exist=T.exists=dt("\\exists ","&exist;","there exists at least 1"),T.nexists=T.nexist=dt("\\nexists ","&#8708;","there is no"),T.and=T.land=T.wedge=gt("\\wedge ","&and;","and"),T.or=T.lor=T.vee=gt("\\vee ","&or;","or"),T.o=T.O=T.empty=T.emptyset=T.oslash=T.Oslash=T.nothing=T.varnothing=gt("\\varnothing ","&empty;","nothing"),T.cup=T.union=gt("\\cup ","&cup;","union"),T.cap=T.intersect=T.intersection=gt("\\cap ","&cap;","intersection"),T.deg=T.degree=dt("\\degree ","&deg;","degrees"),T.ang=T.angle=dt("\\angle ","&ang;","angle"),T.measuredangle=dt("\\measuredangle ","&#8737;","measured angle");var Tt=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.finalizeTree=function(t,e){this.sharedSiblingMethod(t,e)},n.prototype.siblingDeleted=function(t,e){this.sharedSiblingMethod(t,e)},n.prototype.siblingCreated=function(t,e){this.sharedSiblingMethod(t,e)},n.prototype.sharedSiblingMethod=function(e,r){r!==t&&this[1]instanceof n||this.fixDigitGrouping(e)},n.prototype.fixDigitGrouping=function(e){if(e.enableDigitGrouping){var n=this,r=this,o=0,i=[],a="\\ ",s=n;do{if(/^[0-9]$/.test(s.ctrlSeq))n=s;else if(s.ctrlSeq===a)n=s,o+=1;else{if("."!==s.ctrlSeq)break;n=s,i.push(s)}}while(s=n[t]);for(;s=r[1];)if(/^[0-9]$/.test(s.ctrlSeq))r=s;else if(s.ctrlSeq===a)r=s,o+=1;else{if("."!==s.ctrlSeq)break;r=s,i.push(s)}for(;r!==n&&n&&n.ctrlSeq===a;)n=n[1],o-=1;for(;r!==n&&r&&r.ctrlSeq===a;)r=r[t],o-=1;n===r&&n&&n.ctrlSeq===a||(o>0||i.length>1?this.removeGroupingBetween(n,r):i[0]?(i[0]!==n&&this.addGroupingBetween(i[0][t],n),i[0]!==r&&this.removeGroupingBetween(i[0][1],r)):this.addGroupingBetween(r,n))}},n.prototype.removeGroupingBetween=function(t,e){var r=t;do{if(r instanceof n&&r.setGroupingClass(void 0),!r||r===e)break}while(r=r[1])},n.prototype.addGroupingBetween=function(e,r){var o=e,i=0,a=0;for(o=e;o&&(a+=1,o!==r);)o=o[t];var s=a%3;for(0===s&&(s=3),o=e;o;){i+=1;var l=void 0;if(a>=4&&(i===a?l="mq-group-leading-"+s:i%3==0&&i!==a&&(l="mq-group-start"),l||(l="mq-group-other")),o instanceof n&&o.setGroupingClass(l),o===r)break;o=o[t]}},n.prototype.setGroupingClass=function(t){this._groupingClass!==t&&(this._groupingClass&&this.domFrag().removeClass(this._groupingClass),t&&this.domFrag().addClass(t),this._groupingClass=t)},n}(ft),St=function(e){function n(t,n){return e.call(this,t,u("span",{class:"mq-digit"},[u.text(t)]),void 0,n)||this}return i(n,e),n.prototype.createLeftOf=function(n){var r=n[t],o=r&&r[t],i=n.parent.parent instanceof Yt?n.parent.parent.sub:void 0;n.options.autoSubscriptNumerals&&n.parent!==i&&(r instanceof Ct&&!1!==r.isItalic||r instanceof Yt&&o instanceof Ct&&!1!==o.isItalic)?((new Jt).createLeftOf(n),e.prototype.createLeftOf.call(this,n),n.insRightOf(n.parent.parent)):e.prototype.createLeftOf.call(this,n)},n.prototype.mathspeak=function(n){if(n&&n.createdLeftOf){var r=n.createdLeftOf,o=r[t],i=o&&o[t],a=r.parent.parent instanceof Yt?r.parent.parent.sub:void 0;if(r.options.autoSubscriptNumerals&&r.parent!==a&&(o instanceof Ct&&!1!==o.isItalic||r[t]instanceof Yt&&i instanceof Ct&&!1!==i.isItalic))return"Subscript "+e.prototype.mathspeak.call(this)+" Baseline"}return e.prototype.mathspeak.call(this)},n}(Tt),Ct=function(e){function n(t,n){return e.call(this,t,u("var",{},[n||u.text(t)]))||this}return i(n,e),n.prototype.text=function(){var e=this.ctrlSeq||"";return this.isPartOfOperator?"\\"==e[0]?e=e.slice(1,e.length):" "==e[e.length-1]&&(e=e.slice(0,-1)):(!this[t]||this[t]instanceof n||this[t]instanceof mt||"\\ "===this[t].ctrlSeq||(e="*"+e),!this[1]||this[1]instanceof mt||this[1]instanceof Yt||(e+="*")),e},n.prototype.mathspeak=function(){var t=this.ctrlSeq||"";return this.isPartOfOperator||t.length>1||this.parent&&this.parent.parent&&this.parent.parent.isTextBlock()?e.prototype.mathspeak.call(this):'"'+t+'"'},n}(ft);function Ot(t,e,n){return function(){return new Ct(t,u.entityText(e))}}R.prototype.autoCommands={_maxLength:0},_.autoCommands=function(t){if("string"!=typeof t||!/^[a-z]+(?: [a-z]+)*$/i.test(t))throw'"'+t+'" not a space-delimited list of only letters';for(var e=t.split(" "),r={},o=0,i=0;i<e.length;i+=1){var a=e[i];if(a.length<2)throw'autocommand "'+a+'" not minimum length of 2';if(T[a]===Ft)throw'"'+a+'" is a built-in operator name';r[a]=1,o=n(o,a.length)}return r._maxLength=o,r},R.prototype.quietEmptyDelimiters={},_.quietEmptyDelimiters=function(t){void 0===t&&(t="");for(var e=t.split(" "),n={},r=0;r<e.length;r+=1)n[e[r]]=1;return n},R.prototype.autoParenthesizedFunctions={_maxLength:0},_.autoParenthesizedFunctions=function(t){if("string"!=typeof t||!/^[a-z]+(?: [a-z]+)*$/i.test(t))throw'"'+t+'" not a space-delimited list of only letters';for(var e=t.split(" "),r={},o=0,i=0;i<e.length;i+=1){var a=e[i];if(a.length<2)throw'autocommand "'+a+'" not minimum length of 2';r[a]=1,o=n(o,a.length)}return r._maxLength=o,r};var Lt=function(n){function r(t){var e=n.call(this,t)||this;return e.letter=t,e}return i(r,n),r.prototype.checkAutoCmds=function(e){if(!this.shouldIgnoreSubstitutionInSimpleSubscript(e.options)){var n=e.options.autoCommands,o=n._maxLength||0;if(o>0){for(var i="",a=this,s=0;a instanceof r&&a.ctrlSeq===a.letter&&s<o;)i=a.letter+i,a=a[t],s+=1;for(;i.length;){if(n.hasOwnProperty(i)){for(a=this,s=1;a&&s<i.length;s+=1,a=a[t]);new k(a,this).remove(),e[t]=a[t];var l=T[i];return(C(l)?new l(i):l(i)).createLeftOf(e)}i=i.slice(1)}}}},r.prototype.autoParenthesize=function(e){var n=e.parent.getEnd(1);if(!(n&&n instanceof ce&&"\\left("===n.ctrlSeq||this.shouldIgnoreSubstitutionInSimpleSubscript(e.options))){for(var o="",i=this,a=0,s=e.options.autoParenthesizedFunctions,l=s._maxLength||0,u=e.options.autoOperatorNames;i instanceof r&&a<l;)o=i.letter+o,i=i[t],a+=1;for(;o.length;){if(s.hasOwnProperty(o)&&u.hasOwnProperty(o))return e.parent.write(e,"(");o=o.slice(1)}}},r.prototype.createLeftOf=function(t){n.prototype.createLeftOf.call(this,t),this.checkAutoCmds(t),this.autoParenthesize(t)},r.prototype.italicize=function(t){return this.isItalic=t,this.isPartOfOperator=!t,this.domFrag().toggleClass("mq-operator-name",!t),this},r.prototype.finalizeTree=function(t,e){this.sharedSiblingMethod(t,e)},r.prototype.siblingDeleted=function(t,e){this.sharedSiblingMethod(t,e)},r.prototype.siblingCreated=function(t,e){this.sharedSiblingMethod(t,e)},r.prototype.sharedSiblingMethod=function(e,n){n!==t&&this[1]instanceof r||this.autoUnItalicize(e)},r.prototype.autoUnItalicize=function(n){var o=n.autoOperatorNames;if(0!==o._maxLength&&!this.shouldIgnoreSubstitutionInSimpleSubscript(n)){for(var i=this.letter,a=this[t];a instanceof r;a=a[t])i=a.letter+i;for(var s=this[1];s instanceof r;s=s[1])i+=s.letter;var l=a&&a[1],u=s&&s[t];new k(l||this.parent.getEnd(t),u||this.parent.getEnd(1)).each((function(t){t instanceof r&&(t.italicize(!0).domFrag().removeClass("mq-first mq-last mq-followed-by-supsub"),t.ctrlSeq=t.letter)}));var c=o._maxLength||0;t:for(var p=0,f=a[1]||this.parent.getEnd(t);f&&p<i.length;p+=1,f=f[1])for(var h=e(c,i.length-p);h>0;h-=1){var d=i.slice(p,p+h),m=void 0;if(o.hasOwnProperty(d)){for(var g=0,v=f;g<h;g+=1,v=v[1])v instanceof r&&(v.italicize(!1),m=v);var y=Dt.hasOwnProperty(d);if(f.ctrlSeq=(y?"\\":"\\operatorname{")+f.ctrlSeq,m.ctrlSeq+=y?" ":"}",At.hasOwnProperty(d)){var b=m[t],x=b&&b[t];(x&&x[t]).domFrag().addClass("mq-last")}if(this.shouldOmitPadding(f[t])||f.domFrag().addClass("mq-first"),!this.shouldOmitPadding(m[1]))if(m[1]instanceof Yt){var w=m[1];(w.siblingCreated=w.siblingDeleted=function(){w.domFrag().toggleClass("mq-after-operator-name",!(w[1]instanceof ce))})()}else m.domFrag().toggleClass("mq-last",!(m[1]instanceof ce));p+=h-1,f=m;continue t}}}},r.prototype.shouldOmitPadding=function(t){return!t||"."===t.ctrlSeq||t instanceof mt||t instanceof te},r}(Ct),Dt={};R.prototype.autoOperatorNames=function(){for(var t={_maxLength:9},e="arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" "),n=0;n<e.length;n+=1)Dt[e[n]]=t[e[n]]=1;var r="sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" ");for(n=0;n<r.length;n+=1)Dt[r[n]]=1;var o="sin cos tan sec cosec csc cotan cot ctg".split(" ");for(n=0;n<o.length;n+=1)t[o[n]]=t["arc"+o[n]]=t[o[n]+"h"]=t["ar"+o[n]+"h"]=t["arc"+o[n]+"h"]=1;var i="gcf hcf lcm proj span".split(" ");for(n=0;n<i.length;n+=1)t[i[n]]=1;return t}();var At={limsup:1,liminf:1,projlim:1,injlim:1};_.autoOperatorNames=function(t){if("string"!=typeof t)throw'"'+t+'" not a space-delimited list';if(!/^[a-z\|\-]+(?: [a-z\|\-]+)*$/i.test(t))throw'"'+t+'" not a space-delimited list of letters or "|"';for(var e=t.split(" "),r={},o=0,i=0;i<e.length;i+=1){var a=e[i];if(a.length<2)throw'"'+a+'" not minimum length of 2';if(a.indexOf("|")<0)r[a]=a,o=n(o,a.length);else{var s=a.split("|");if(s.length>2)throw'"'+a+'" has more than 1 mathspeak delimiter';if(s[0].length<2)throw'"'+a[0]+'" not minimum length of 2';r[s[0]]=s[1].replace(/-/g," "),o=n(o,s[0].length)}}return r._maxLength=o,r};var Ft=function(t){function e(e){return t.call(this,e||"")||this}return i(e,t),e.prototype.createLeftOf=function(t){for(var e=this.ctrlSeq,n=0;n<e.length;n+=1)new Lt(e.charAt(n)).createLeftOf(t)},e.prototype.parser=function(){for(var t=this.ctrlSeq,e=new vt,n=0;n<t.length;n+=1)new Lt(t.charAt(n)).adopt(e,e.getEnd(1),0);return V.succeed(e.children())},e}(ft);for(var Nt in R.prototype.autoOperatorNames)R.prototype.autoOperatorNames.hasOwnProperty(Nt)&&(T[Nt]=Ft);T.operatorname=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.createLeftOf=function(){},e.prototype.numBlocks=function(){return 1},e.prototype.parser=function(){return et.block.map((function(t){var e=!0,n="",r=t.children();return r.each((function(t){t instanceof Lt?n+=t.letter:e=!1})),e&&"ans"===n?re():r}))},e}(pt),T.f=function(t){function e(){var e=this;return(e=t.call(this,"f")||this).letter="f",e.domView=new ct(0,(function(){return u("var",{class:"mq-f"},[u.text("f")])})),e}return i(e,t),e.prototype.italicize=function(e){return this.domFrag().eachElement((function(t){return t.textContent="f"})),this.domFrag().toggleClass("mq-f",e),t.prototype.italicize.call(this,e)},e}(Lt),T[" "]=T.space=function(){return new Tt("\\ ",u("span",{},[u.text(" ")])," ")},T["."]=function(){return new Tt(".",u("span",{class:"mq-digit"},[u.text(".")]),".")},T["'"]=T.prime=dt("'","&prime;","prime"),T["″"]=T.dprime=dt("″","&Prime;","double prime"),T.backslash=dt("\\backslash ","\\","backslash"),S["\\"]||(S["\\"]=T.backslash),T.$=dt("\\$","$","dollar"),T.square=dt("\\square ","□","square"),T.mid=dt("\\mid ","∣","mid");var Mt=function(t){function e(e,n,r){return t.call(this,e,u("span",{class:"mq-nonSymbola"},[n||u.text(e)]))||this}return i(e,t),e}(ft);T["@"]=function(){return new Mt("@")},T["&"]=function(){return new Mt("\\&",u.entityText("&amp;"),"and")},T["%"]=function(t){function e(){return t.call(this,"\\%",u.text("%"),"percent")||this}return i(e,t),e.prototype.parser=function(){var e=V.optWhitespace,n=V.string;return e.then(n("\\operatorname{of}").map((function(){return oe()}))).or(t.prototype.parser.call(this))},e}(Mt),T["∥"]=T.parallel=dt("\\parallel ","&#x2225;","parallel"),T["∦"]=T.nparallel=dt("\\nparallel ","&#x2226;","not parallel"),T["⟂"]=T.perp=dt("\\perp ","&#x27C2;","perpendicular"),T.alpha=T.beta=T.gamma=T.delta=T.zeta=T.eta=T.theta=T.iota=T.kappa=T.mu=T.nu=T.xi=T.rho=T.sigma=T.tau=T.chi=T.psi=T.omega=function(t){return new Ct("\\"+t+" ",u.entityText("&"+t+";"))},T.phi=Ot("\\phi ","&#981;"),T.phiv=T.varphi=Ot("\\varphi ","&phi;"),T.epsilon=Ot("\\epsilon ","&#1013;"),T.epsiv=T.varepsilon=Ot("\\varepsilon ","&epsilon;"),T.piv=T.varpi=Ot("\\varpi ","&piv;"),T.sigmaf=T.sigmav=T.varsigma=Ot("\\varsigma ","&sigmaf;"),T.thetav=T.vartheta=T.thetasym=Ot("\\vartheta ","&thetasym;"),T.upsilon=T.upsi=Ot("\\upsilon ","&upsilon;"),T.gammad=T.Gammad=T.digamma=Ot("\\digamma ","&#989;"),T.kappav=T.varkappa=Ot("\\varkappa ","&#1008;"),T.rhov=T.varrho=Ot("\\varrho ","&#1009;"),T.pi=T["π"]=function(){return new Mt("\\pi ",u.entityText("&pi;"),"pi")},T.lambda=function(){return new Mt("\\lambda ",u.entityText("&lambda;"),"lambda")},T.Upsilon=T.Upsi=T.upsih=T.Upsih=function(){return new ft("\\Upsilon ",u("var",{style:"font-family: serif"},[u.entityText("&upsih;")]),"capital upsilon")},T.Gamma=T.Delta=T.Theta=T.Lambda=T.Xi=T.Pi=T.Sigma=T.Phi=T.Psi=T.Omega=T.forall=function(t){return new ht("\\"+t+" ",u.entityText("&"+t+";"))};var _t=function(e){function n(t){var n=e.call(this)||this;return n.latexStr=t,n}return i(n,e),n.prototype.createLeftOf=function(e){var n=et.parse(this.latexStr);n.children().adopt(e.parent,e[t],e[1]),e[t]=n.getEnd(1),y(n.html()).insertBefore(e.domFrag()),n.finalizeInsert(e.options,e);var r=n.getEnd(1),o=r&&r[1];o&&o.siblingCreated(e.options,t);var i=n.getEnd(t),a=i&&i[t];a&&a.siblingCreated(e.options,1),e.parent.bubble((function(t){t.reflow()}))},n.prototype.mathspeak=function(){return et.parse(this.latexStr).mathspeak()},n.prototype.parser=function(){var t=et.parse(this.latexStr).children();return V.succeed(t)},n}(pt);function Rt(e){if(!e)return!1;var n=e[t];return n?!(n instanceof mt||/^(\\ )|[,;:\(\[]$/.test(n.ctrlSeq)):!!(e.parent&&e.parent.parent&&e.parent.parent.isStyleBlock())&&Rt(e.parent.parent)}T["⁰"]=function(){return new _t("^0")},T["¹"]=function(){return new _t("^1")},T["²"]=function(){return new _t("^2")},T["³"]=function(){return new _t("^3")},T["⁴"]=function(){return new _t("^4")},T["⁵"]=function(){return new _t("^5")},T["⁶"]=function(){return new _t("^6")},T["⁷"]=function(){return new _t("^7")},T["⁸"]=function(){return new _t("^8")},T["⁹"]=function(){return new _t("^9")},T["¼"]=function(){return new _t("\\frac14")},T["½"]=function(){return new _t("\\frac12")},T["¾"]=function(){return new _t("\\frac34")},T["√"]=function(){return new _t("\\sqrt{}")};var jt=function(t){function e(e,n,r){return t.call(this,e,n,void 0,r,!0)||this}return i(e,t),e.prototype.contactWeld=function(t,e){this.sharedSiblingMethod(t.options,e)},e.prototype.siblingCreated=function(t,e){this.sharedSiblingMethod(t,e)},e.prototype.siblingDeleted=function(t,e){this.sharedSiblingMethod(t,e)},e.prototype.sharedSiblingMethod=function(t,e){if(1!==e)return this.domFrag().oneElement().className=Rt(this)?"mq-binary-operator":"",this},e}(mt);T["+"]=function(t){function e(){return t.call(this,"+",u.text("+"))||this}return i(e,t),e.prototype.mathspeak=function(){return Rt(this)?"plus":"positive"},e}(jt);var It=function(t){function e(){return t.call(this,"-",u.entityText("&minus;"))||this}return i(e,t),e.prototype.mathspeak=function(){return Rt(this)?"minus":"negative"},e}(jt);T["−"]=T["—"]=T["–"]=T["-"]=It,T["±"]=T.pm=T.plusmn=T.plusminus=function(){return new jt("\\pm ",u.entityText("&plusmn;"),"plus-or-minus")},T.mp=T.mnplus=T.minusplus=function(){return new jt("\\mp ",u.entityText("&#8723;"),"minus-or-plus")},S["*"]=T.sdot=T.cdot=gt("\\cdot ","&middot;","*","times");var Bt=function(e){function n(){return e.call(this,"\\to ",u.entityText("&rarr;"),"to")||this}return i(n,e),n.prototype.deleteTowards=function(n,r){if(n===t){var o=r[t];return new k(o,this).remove(),r[t]=o[t],(new It).createLeftOf(r),void r[t].bubble((function(t){t.reflow()}))}e.prototype.deleteTowards.call(this,n,r)},n}(mt);T["→"]=T.to=Bt;var Pt=function(e){function n(t,n){var r=this,o=n?"Strict":"";return(r=e.call(this,t["ctrlSeq".concat(o)],u.entityText(t["htmlEntity".concat(o)]),t["text".concat(o)],t["mathspeak".concat(o)])||this).data=t,r.strict=n,r}return i(n,e),n.prototype.swap=function(t){this.strict=t;var e=t?"Strict":"";this.ctrlSeq=this.data["ctrlSeq".concat(e)],this.domFrag().children().replaceWith(y(u.entityText(this.data["htmlEntity".concat(e)]))),this.textTemplate=[this.data["text".concat(e)]],this.mathspeakName=this.data["mathspeak".concat(e)]},n.prototype.deleteTowards=function(n,r){if(n===t&&!this.strict)return this.swap(!0),void this.bubble((function(t){t.reflow()}));e.prototype.deleteTowards.call(this,n,r)},n}(mt),Ht={ctrlSeq:"\\le ",htmlEntity:"&le;",text:"≤",mathspeak:"less than or equal to",ctrlSeqStrict:"<",htmlEntityStrict:"&lt;",textStrict:"<",mathspeakStrict:"less than"},zt={ctrlSeq:"\\ge ",htmlEntity:"&ge;",text:"≥",mathspeak:"greater than or equal to",ctrlSeqStrict:">",htmlEntityStrict:"&gt;",textStrict:">",mathspeakStrict:"greater than"},$t=function(e){function n(){return e.call(this,zt,!0)||this}return i(n,e),n.prototype.createLeftOf=function(n){var r=n[t];if(r instanceof mt&&"-"===r.ctrlSeq){var o=r;return n[t]=o[t],o.remove(),(new Bt).createLeftOf(n),void n[t].bubble((function(t){t.reflow()}))}e.prototype.createLeftOf.call(this,n)},n}(Pt);T["<"]=T.lt=function(){return new Pt(Ht,!0)},T[">"]=T.gt=$t,T["≤"]=T.le=T.leq=function(){return new Pt(Ht,!1)},T["≥"]=T.ge=T.geq=function(){return new Pt(zt,!1)},T.infty=T.infin=T.infinity=dt("\\infty ","&infin;","infinity"),T["≠"]=T.ne=T.neq=gt("\\ne ","&ne;","not equal");var Wt=function(e){function n(){return e.call(this,"=",u.text("="),"=","equals")||this}return i(n,e),n.prototype.createLeftOf=function(n){var r=n[t];if(r instanceof Pt&&r.strict)return r.swap(!1),void r.bubble((function(t){t.reflow()}));e.prototype.createLeftOf.call(this,n)},n}(mt);T["="]=Wt,T["×"]=T.times=gt("\\times ","&times;","[x]","times"),T["÷"]=T.div=T.divide=T.divides=gt("\\div ","&divide;","[/]","over");var Ut=function(e){function n(){return e.call(this,"\\sim ",u.text("~"),"~","tilde")||this}return i(n,e),n.prototype.createLeftOf=function(r){if(r[t]instanceof n){var o=r[t];return r[t]=o[t],o.remove(),(new Vt).createLeftOf(r),void r[t].bubble((function(t){t.reflow()}))}e.prototype.createLeftOf.call(this,r)},n}(mt),Vt=function(e){function n(){return e.call(this,"\\approx ",u.entityText("&approx;"),"≈","approximately equal")||this}return i(n,e),n.prototype.deleteTowards=function(n,r){if(n===t){var o=r[t];return new k(o,this).remove(),r[t]=o[t],(new Ut).createLeftOf(r),void r[t].bubble((function(t){t.reflow()}))}e.prototype.deleteTowards.call(this,n,r)},n}(mt);T.tildeNbsp=dt("~"," "," "),T.sim=Ut,T["≈"]=T.approx=Vt,S["~"]=T.sim,T["~"]=T.tildeNbsp,_.interpretTildeAsSim=function(t){var e=!!t;return T["~"]=e?T.sim:T.tildeNbsp,e};var Qt={sqrt:{width:"",html:function(){return u("svg",{preserveAspectRatio:"none",viewBox:"0 0 32 54"},[u("path",{d:"M0 33 L7 27 L12.5 47 L13 47 L30 0 L32 0 L13 54 L11 54 L4.5 31 L0 33"})])}},"|":{width:".4em",html:function(){return u("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[u("path",{d:"M4.4 0 L4.4 54 L5.6 54 L5.6 0"})])}},"[":{width:".55em",html:function(){return u("svg",{preserveAspectRatio:"none",viewBox:"0 0 11 24"},[u("path",{d:"M8 0 L3 0 L3 24 L8 24 L8 23 L4 23 L4 1 L8 1"})])}},"]":{width:".55em",html:function(){return u("svg",{preserveAspectRatio:"none",viewBox:"0 0 11 24"},[u("path",{d:"M3 0 L8 0 L8 24 L3 24 L3 23 L7 23 L7 1 L3 1"})])}},"(":{width:".55em",html:function(){return u("svg",{preserveAspectRatio:"none",viewBox:"3 0 106 186"},[u("path",{d:"M85 0 A61 101 0 0 0 85 186 L75 186 A75 101 0 0 1 75 0"})])}},")":{width:".55em",html:function(){return u("svg",{preserveAspectRatio:"none",viewBox:"3 0 106 186"},[u("path",{d:"M24 0 A61 101 0 0 1 24 186 L34 186 A75 101 0 0 0 34 0"})])}},"{":{width:".7em",html:function(){return u("svg",{preserveAspectRatio:"none",viewBox:"10 0 210 350"},[u("path",{d:"M170 0 L170 6 A47 52 0 0 0 123 60 L123 127 A35 48 0 0 1 88 175 A35 48 0 0 1 123 223 L123 290 A47 52 0 0 0 170 344 L170 350 L160 350 A58 49 0 0 1 102 301 L103 220 A45 40 0 0 0 58 180 L58 170 A45 40 0 0 0 103 130 L103 49 A58 49 0 0 1 161 0"})])}},"}":{width:".7em",html:function(){return u("svg",{preserveAspectRatio:"none",viewBox:"10 0 210 350"},[u("path",{d:"M60 0 L60 6 A47 52 0 0 1 107 60 L107 127 A35 48 0 0 0 142 175 A35 48 0 0 0 107 223 L107 290 A47 52 0 0 1 60 344 L60 350 L70 350 A58 49 0 0 0 128 301 L127 220 A45 40 0 0 1 172 180 L172 170 A45 40 0 0 1 127 130 L127 49 A58 49 0 0 0 70 0"})])}},"&#8741;":{width:".7em",html:function(){return u("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[u("path",{d:"M3.2 0 L3.2 54 L4 54 L4 0 M6.8 0 L6.8 54 L6 54 L6 0"})])}},"&lang;":{width:".55em",html:function(){return u("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[u("path",{d:"M6.8 0 L3.2 27 L6.8 54 L7.8 54 L4.2 27 L7.8 0"})])}},"&rang;":{width:".55em",html:function(){return u("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[u("path",{d:"M3.2 0 L6.8 27 L3.2 54 L2.2 54 L5.8 27 L2.2 0"})])}}},Xt=function(t){function e(e,n,r,o,i){var a=t.call(this,e,new ct(1,(function(t){return u.block(n,r,t[0])})))||this;return a.ariaLabel=o||e.replace(/^\\/,""),a.mathspeakTemplate=["Start"+a.ariaLabel+",","End"+a.ariaLabel],a.shouldNotSpeakDelimiters=i&&i.shouldNotSpeakDelimiters,a}return i(e,t),e.prototype.mathspeak=function(e){return!this.shouldNotSpeakDelimiters||e&&e.ignoreShorthand?t.prototype.mathspeak.call(this):this.foldChildren("",(function(t,n){return t+" "+n.mathspeak(e)})).trim()},e}(pt);T.mathrm=function(t){function e(){return t.call(this,"\\mathrm","span",{class:"mq-roman mq-font"},"Roman Font",{shouldNotSpeakDelimiters:!0})||this}return i(e,t),e.prototype.isTextBlock=function(){return!0},e}(Xt),T.mathit=function(){return new Xt("\\mathit","i",{class:"mq-font"},"Italic Font")},T.mathbf=function(){return new Xt("\\mathbf","b",{class:"mq-font"},"Bold Font")},T.mathsf=function(){return new Xt("\\mathsf","span",{class:"mq-sans-serif mq-font"},"Serif Font")},T.mathtt=function(){return new Xt("\\mathtt","span",{class:"mq-monospace mq-font"},"Math Text")},T.underline=function(){return new Xt("\\underline","span",{class:"mq-non-leaf mq-underline"},"Underline")},T.overline=T.bar=function(){return new Xt("\\overline","span",{class:"mq-non-leaf mq-overline"},"Overline")},T.overrightarrow=function(){return new Xt("\\overrightarrow","span",{class:"mq-non-leaf mq-overarrow mq-arrow-right"},"Over Right Arrow")},T.overleftarrow=function(){return new Xt("\\overleftarrow","span",{class:"mq-non-leaf mq-overarrow mq-arrow-left"},"Over Left Arrow")},T.overleftrightarrow=function(){return new Xt("\\overleftrightarrow ","span",{class:"mq-non-leaf mq-overarrow mq-arrow-leftright"},"Over Left and Right Arrow")},T.overarc=function(){return new Xt("\\overarc","span",{class:"mq-non-leaf mq-overarc"},"Over Arc")},T.dot=function(){return new pt("\\dot",new ct(1,(function(t){return u("span",{class:"mq-non-leaf"},[u("span",{class:"mq-dot-recurring-inner"},[u("span",{class:"mq-dot-recurring"},[u.text("˙")]),u.block("span",{class:"mq-empty-box"},t[0])])])})))},T.textcolor=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.setColor=function(t){this.color=t,this.domView=new ct(1,(function(e){return u.block("span",{class:"mq-textcolor",style:"color:"+t},e[0])})),this.ariaLabel=t.replace(/^\\/,""),this.mathspeakTemplate=["Start "+this.ariaLabel+",","End "+this.ariaLabel]},e.prototype.latexRecursive=function(t){this.checkCursorContextOpen(t);var e=this.blocks[0];t.latex+="\\textcolor{"+this.color+"}{",e.latexRecursive(t),t.latex+="}",this.checkCursorContextClose(t)},e.prototype.parser=function(){var e=this,n=V.optWhitespace,r=V.string,o=V.regex;return n.then(r("{")).then(o(/^[#\w\s.,()%-]*/)).skip(r("}")).then((function(n){return e.setColor(n),t.prototype.parser.call(e)}))},e.prototype.isStyleBlock=function(){return!0},e}(pt),T.class=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.parser=function(){var e=this,n=V.string,r=V.regex;return V.optWhitespace.then(n("{")).then(r(/^[-\w\s\\\xA0-\xFF]*/)).skip(n("}")).then((function(n){return e.cls=n||"",e.domView=new ct(1,(function(t){return u.block("span",{class:"mq-class ".concat(n)},t[0])})),e.ariaLabel=n+" class",e.mathspeakTemplate=["Start "+e.ariaLabel+",","End "+e.ariaLabel],t.prototype.parser.call(e)}))},e.prototype.latexRecursive=function(t){this.checkCursorContextOpen(t);var e=this.blocks[0];t.latex+="\\class{"+this.cls+"}{",e.latexRecursive(t),t.latex+="}",this.checkCursorContextClose(t)},e.prototype.isStyleBlock=function(){return!0},e}(pt);var Gt=/^[\+\-]?[\d]+$/;function Kt(t){if(!t)return"";var e="";return t.eachChild((function(t){void 0!==t.ctrlSeq&&(e+=t.ctrlSeq)})),e}R.prototype.charsThatBreakOutOfSupSub="";var Yt=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctrlSeq="_{...}^{...}",t}return i(n,e),n.prototype.setEnds=function(e){o("SupSub ends must be MathBlocks",e[t]instanceof vt&&e[1]instanceof vt),this.ends=e},n.prototype.getEnd=function(t){return this.ends[t]},n.prototype.createLeftOf=function(n){if(this.replacedFragment||n[t]||!n.options.supSubsRequireOperand)return e.prototype.createLeftOf.call(this,n)},n.prototype.contactWeld=function(e){for(var r=t;r;r=r===t&&1){var o=this[r],i=void 0;if(o instanceof n){for(var a="sub";a;a="sub"===a&&"sup"){var s=this[a],l=o[a];if(s){if(l)if(s.isEmpty())i=new b(l,0,l.getEnd(t));else{s.domFrag().children().insAtDirEnd(-r,l.domFrag().oneElement());var u=s.children().disown();i=new b(l,u.getEnd(1),l.getEnd(t)),r===t?u.adopt(l,l.getEnd(1),0):u.adopt(l,0,l.getEnd(t))}else o.addBlock(s.disown());this.placeCursor=function(t,e){return function(n){n.insAtDirEnd(-r,t||e)}}(l,s)}}this.remove(),e&&e[t]===this&&(1===r&&i?i[t]?e.insRightOf(i[t]):e.insAtLeftEnd(i.parent):e.insRightOf(o));break}}},n.prototype.finalizeTree=function(){this.getEnd(t).write=function(e,n){if(e.options.autoSubscriptNumerals&&this===this.parent.sub){if("_"===n)return;var r=this.chToCmd(n,e.options);return r instanceof ft?e.deleteSelection():e.clearSelection().insRightOf(this.parent),r.createLeftOf(e.show()),void e.controller.aria.queue("Baseline").alert(r.mathspeak({createdLeftOf:e}))}e[t]&&!e[1]&&!e.selection&&e.options.charsThatBreakOutOfSupSub.indexOf(n)>-1&&(e.insRightOf(this.parent),e.controller.aria.queue("Baseline")),vt.prototype.write.call(this,e,n)}},n.prototype.moveTowards=function(t,n,r){n.options.autoSubscriptNumerals&&!this.sup?n.insDirOf(t,this):e.prototype.moveTowards.call(this,t,n,r)},n.prototype.deleteTowards=function(n,r){if(r.options.autoSubscriptNumerals&&this.sub){var o=this.sub.getEnd(-n);o instanceof ft?o.remove():o&&o.deleteTowards(n,r.insAtDirEnd(-n,this.sub)),this.sub.isEmpty()&&(this.sub.deleteOutOf(t,r.insAtLeftEnd(this.sub)),this.sup&&r.insDirOf(-n,this))}else e.prototype.deleteTowards.call(this,n,r)},n.prototype.latexRecursive=function(t){if(this.checkCursorContextOpen(t),this.sub){t.latex+="_{";var e=t.latex.length;this.sub.latexRecursive(t),e===t.latex.length&&(t.latex+=" "),t.latex+="}"}this.sup&&(t.latex+="^{",e=t.latex.length,this.sup.latexRecursive(t),e===t.latex.length&&(t.latex+=" "),t.latex+="}"),this.checkCursorContextClose(t)},n.prototype.text=function(){function t(t,e){var n=e&&e.text()||"";return e?t+(1===n.length?n:"("+(n||" ")+")"):""}return t("_",this.sub)+t("^",this.sup)},n.prototype.addBlock=function(t){"sub"===this.supsub?(this.sup=this.upInto=this.sub.upOutOf=t,t.adopt(this,this.sub,0).downOutOf=this.sub,t.setDOM(y(u("span",{class:"mq-sup"})).append(t.domFrag().children()).prependTo(this.domFrag().oneElement()).oneElement()),q.linkElementByBlockNode(t.domFrag().oneElement(),t)):(this.sub=this.downInto=this.sup.downOutOf=t,t.adopt(this,0,this.sup).upOutOf=this.sup,this.domFrag().removeClass("mq-sup-only"),t.setDOM(y(u("span",{class:"mq-sub"})).append(t.domFrag().children()).appendTo(this.domFrag().oneElement()).oneElement()),q.linkElementByBlockNode(t.domFrag().oneElement(),t),this.domFrag().append(y(u("span",{style:"display:inline-block;width:0"},[u.text(p)]))));for(var e=0;e<2;e+=1)!function(t,e,n,r){t[e].deleteOutOf=function(o,i){if(i.insDirOf(this[o]?-o:o,this.parent),!this.isEmpty()){var a=this.getEnd(o);this.children().disown().withDirAdopt(o,i.parent,i[o],i[-o]).domFrag().insDirOf(-o,i.domFrag()),i[-o]=a}t.supsub=n,delete t[e],delete t["".concat(r,"Into")];var s=t[n];s["".concat(r,"OutOf")]=Zt,delete s.deleteOutOf,"sub"===e&&t.domFrag().addClass("mq-sup-only").children().last().remove(),this.remove()}}(this,"sub sup".split(" ")[e],"sup sub".split(" ")[e],"down up".split(" ")[e])},n}(pt);function Zt(t){var e=this.parent,n=t;do{if(n[1])return t.insLeftOf(e);n=n.parent.parent}while(n!==e);t.insRightOf(e)}var Jt=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.supsub="sub",t.domView=new ct(1,(function(t){return u("span",{class:"mq-supsub mq-non-leaf"},[u.block("span",{class:"mq-sub"},t[0]),u("span",{style:"display:inline-block;width:0"},[u.text(p)])])})),t.textTemplate=["_"],t.mathspeakTemplate=["Subscript,",", Baseline"],t.ariaLabel="subscript",t}return i(n,e),n.prototype.finalizeTree=function(){this.downInto=this.sub=this.getEnd(t),this.sub.upOutOf=Zt,e.prototype.finalizeTree.call(this)},n}(Yt);T.subscript=T._=Jt,T.superscript=T.supscript=T["^"]=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.supsub="sup",e.domView=new ct(1,(function(t){return u("span",{class:"mq-supsub mq-non-leaf mq-sup-only"},[u.block("span",{class:"mq-sup"},t[0])])})),e.textTemplate=["^(",")"],e.ariaLabel="superscript",e.mathspeakTemplate=["Superscript,",", Baseline"],e}return i(e,t),e.prototype.mathspeak=function(e){var n=this.upInto;if(void 0!==n){var r=Kt(n);if((!e||!e.ignoreShorthand)&&Gt.test(r)){if("0"===r)return"to the 0 power";if("2"===r)return"squared";if("3"===r)return"cubed";var o="";return/^[+-]?\d{1,3}$/.test(r)&&(/(11|12|13|4|5|6|7|8|9|0)$/.test(r)?o="th":/1$/.test(r)?o="st":/2$/.test(r)?o="nd":/3$/.test(r)&&(o="rd")),"to the "+("object"==typeof n?n.mathspeak():r)+o+" power"}}return t.prototype.mathspeak.call(this)},e.prototype.finalizeTree=function(){this.upInto=this.sup=this.getEnd(1),this.sup.downOutOf=Zt,t.prototype.finalizeTree.call(this)},e}(Yt);var te=function(e){function n(t,n,r){var o=e.call(this)||this;o.ariaLabel=r||t.replace(/^\\/,"");var i=new ct(2,(function(t){return u("span",{class:"mq-large-operator mq-non-leaf"},[u("span",{class:"mq-to"},[u.block("span",{},t[1])]),u("big",{},[u.text(n)]),u("span",{class:"mq-from"},[u.block("span",{},t[0])])])}));return ft.prototype.setCtrlSeqHtmlTextAndMathspeak.call(o,t,i),o}return i(n,e),n.prototype.createLeftOf=function(t){e.prototype.createLeftOf.call(this,t),t.options.sumStartsWithNEquals&&(new Lt("n").createLeftOf(t),(new Wt).createLeftOf(t))},n.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),e.latex+=this.ctrlSeq+"_{";var n=e.latex.length;this.getEnd(t).latexRecursive(e);var r=e.latex.length;r===n&&(e.latex+=" "),e.latex+="}^{",n=e.latex.length,this.getEnd(1).latexRecursive(e),n===(r=e.latex.length)&&(e.latex+=" "),e.latex+="}",this.checkCursorContextClose(e)},n.prototype.mathspeak=function(){return"Start "+this.ariaLabel+" from "+this.getEnd(t).mathspeak()+" to "+this.getEnd(1).mathspeak()+", end "+this.ariaLabel+", "},n.prototype.parser=function(){for(var t=V.string,e=V.optWhitespace,n=V.succeed,r=et.block,o=this,i=o.blocks=[new vt,new vt],a=0;a<i.length;a+=1)i[a].adopt(o,o.getEnd(1),0);return e.then(t("_").or(t("^"))).then((function(t){var e=i["_"===t?0:1];return r.then((function(t){return t.children().adopt(e,e.getEnd(1),0),n(o)}))})).many().result(o)},n.prototype.finalizeTree=function(){var e=this.getEnd(t),n=this.getEnd(1);e.ariaLabel="lower bound",n.ariaLabel="upper bound",this.downInto=e,this.upInto=n,e.upOutOf=n,n.downOutOf=e},n}(pt);T["∑"]=T.sum=T.summation=function(){return new te("\\sum ","∑","sum")},T["∏"]=T.prod=T.product=function(){return new te("\\prod ","∏","product")},T.coprod=T.coproduct=function(){return new te("\\coprod ","∐","co product")},T["∫"]=T.int=T.integral=function(t){function e(){var e=t.call(this,"\\int ","","integral")||this;return e.ariaLabel="integral",e.domView=new ct(2,(function(t){return u("span",{class:"mq-int mq-non-leaf"},[u("big",{},[u.text("∫")]),u("span",{class:"mq-supsub mq-non-leaf"},[u("span",{class:"mq-sup"},[u.block("span",{class:"mq-sup-inner"},t[1])]),u.block("span",{class:"mq-sub"},t[0]),u("span",{style:"display:inline-block;width:0"},[u.text(p)])])])})),e}return i(e,t),e.prototype.createLeftOf=function(t){pt.prototype.createLeftOf.call(this,t)},e}(te);var ee=T.frac=T.dfrac=T.cfrac=T.fraction=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctrlSeq="\\frac",t.domView=new ct(2,(function(t){return u("span",{class:"mq-fraction mq-non-leaf"},[u.block("span",{class:"mq-numerator"},t[0]),u.block("span",{class:"mq-denominator"},t[1]),u("span",{style:"display:inline-block;width:0"},[u.text(p)])])})),t.textTemplate=["(",")/(",")"],t}return i(n,e),n.prototype.finalizeTree=function(){var e=this.getEnd(t),n=this.getEnd(1);this.upInto=n.upOutOf=e,this.downInto=e.downOutOf=n,e.ariaLabel="numerator",n.ariaLabel="denominator",this.getFracDepth()>1?this.mathspeakTemplate=["StartNestedFraction,","NestedOver",", EndNestedFraction"]:this.mathspeakTemplate=["StartFraction,","Over",", EndFraction"]},n.prototype.mathspeak=function(n){if(n&&n.createdLeftOf)return n.createdLeftOf.parent.mathspeak();var r=Kt(this.getEnd(t)),o=Kt(this.getEnd(1));if((!n||!n.ignoreShorthand)&&Gt.test(r)&&Gt.test(o)){var i="1"===r||"-1"===r,a="";if("2"===o?a=i?"half":"halves":"3"===o?a=i?"third":"thirds":"4"===o?a=i?"quarter":"quarters":"5"===o?a=i?"fifth":"fifths":"6"===o?a=i?"sixth":"sixths":"7"===o?a=i?"seventh":"sevenths":"8"===o?a=i?"eighth":"eighths":"9"===o&&(a=i?"ninth":"ninths"),""!==a){for(var s="",l=!1,u=this[t];u&&void 0!==u[t];u=u[t])if("\\ "!==u.ctrlSeq){if(!Gt.test(u.ctrlSeq||"")){l=!1;break}l=!0}return l&&(s+="and "),s+(this.getEnd(t).mathspeak()+" ")+a}}return e.prototype.mathspeak.call(this)},n.prototype.getFracDepth=function(){var t=function(e,n){return e instanceof Z&&e.ctrlSeq&&e.ctrlSeq.toLowerCase().search("frac")>=0&&(n+=1),e&&e.parent?t(e.parent,n):n};return t(this,0)},n}(pt),ne=T.over=S["/"]=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.createLeftOf=function(n){if(!this.replacedFragment){var o=n[t];if(!n.options.typingSlashCreatesNewFraction)for(;o&&!(o instanceof mt||o instanceof(T.text||r)||o instanceof te||"\\ "===o.ctrlSeq||/^[,;:]$/.test(o.ctrlSeq));)o=o[t];if(o instanceof te&&o[1]instanceof Yt&&(i=(o=o[1])[1])instanceof Yt&&i.ctrlSeq!=o.ctrlSeq&&(o=o[1]),o!==n[t]&&!n.isTooDeep(1)){var i=o[1],a=n[t];this.replaces(new k(i||n.parent.getEnd(t),a)),n[t]=o}}e.prototype.createLeftOf.call(this,n)},n}(ee),re=function(){return new ft("\\operatorname{ans}",u("span",{class:"mq-ans"},[u.text("ans")]),"ans")};T.ans=re;var oe=function(){return new ft("\\%\\operatorname{of}",u("span",{class:"mq-nonSymbola mq-operator-name"},[u.text("% of ")]),"percent of")};T.percent=T.percentof=oe;var ie=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.tokenId="",t.ctrlSeq="\\token",t.textTemplate=["token(",")"],t.mathspeakTemplate=["StartToken,",", EndToken"],t.ariaLabel="token",t}return i(n,e),n.prototype.html=function(){var t=u("span",{class:"mq-token mq-ignore-mousedown","data-mq-token":this.tokenId});return this.setDOM(t),q.linkElementByCmdNode(t,this),t},n.prototype.latexRecursive=function(t){this.checkCursorContextOpen(t),t.latex+="\\token{"+this.tokenId+"}",this.checkCursorContextClose(t)},n.prototype.parser=function(){var e=this;return et.block.map((function(n){var r=n.getEnd(t);if(r)for(e.tokenId+=r.ctrlSeq;r=r[1];)e.tokenId+=r.ctrlSeq;return e}))},n}(ft);T.token=ie;var ae=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ctrlSeq="\\sqrt",e.domView=new ct(1,(function(t){return u("span",{class:"mq-non-leaf mq-sqrt-container"},[u("span",{class:"mq-scaled mq-sqrt-prefix"},[Qt.sqrt.html()]),u.block("span",{class:"mq-non-leaf mq-sqrt-stem"},t[0])])})),e.textTemplate=["sqrt(",")"],e.mathspeakTemplate=["StartRoot,",", EndRoot"],e.ariaLabel="root",e}return i(e,t),e.prototype.parser=function(){return et.optBlock.then((function(t){return et.block.map((function(e){var n=new se;return n.blocks=[t,e],t.adopt(n,0,0),e.adopt(n,t,0),n}))})).or(t.prototype.parser.call(this))},e}(pt);T.sqrt=ae,T.hat=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ctrlSeq="\\hat",e.domView=new ct(1,(function(t){return u("span",{class:"mq-non-leaf"},[u("span",{class:"mq-hat-prefix"},[u.text("^")]),u.block("span",{class:"mq-hat-stem"},t[0])])})),e.textTemplate=["hat(",")"],e}return i(e,t),e}(pt);var se=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.domView=new ct(2,(function(t){return u("span",{class:"mq-nthroot-container mq-non-leaf"},[u.block("sup",{class:"mq-nthroot mq-non-leaf"},t[0]),u("span",{class:"mq-scaled mq-sqrt-container"},[u("span",{class:"mq-sqrt-prefix mq-scaled"},[Qt.sqrt.html()]),u.block("span",{class:"mq-sqrt-stem mq-non-leaf"},t[1])])])})),t.textTemplate=["sqrt[","](",")"],t}return i(n,e),n.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),e.latex+="\\sqrt[",this.getEnd(t).latexRecursive(e),e.latex+="]{",this.getEnd(1).latexRecursive(e),e.latex+="}",this.checkCursorContextClose(e)},n.prototype.mathspeak=function(){var e=this.getEnd(t).mathspeak(),n=this.getEnd(1).mathspeak();return this.getEnd(t).ariaLabel="Index",this.getEnd(1).ariaLabel="Radicand","3"===e?"Start Cube Root, "+n+", End Cube Root":"Root Index "+e+", Start Root, "+n+", End Root"},n}(ae);T.nthroot=se,T.cbrt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.createLeftOf=function(e){t.prototype.createLeftOf.call(this,e),new St("3").createLeftOf(e),e.controller.moveRight()},e}(se);var le=function(t){function e(e,n,r){var o=new ct(1,(function(t){return u("span",{class:"mq-non-leaf"},[u("span",{class:"mq-diacritic-above"},[n]),u.block("span",{class:"mq-diacritic-stem"},t[0])])}));return t.call(this,e,o,r)||this}return i(e,t),e}(pt);T.vec=function(){return new le("\\vec",u.entityText("&rarr;"),["vec(",")"])},T.tilde=function(){return new le("\\tilde",u.text("~"),["tilde(",")"])};var ue=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.setDOM=function(n){var r;e.prototype.setDOM.call(this,n);var o=this.domFrag().children();return o.isEmpty()||(this.delimFrags=((r={})[t]=o.first(),r[1]=o.last(),r)),this},n}(pt),ce=function(e){function n(n,r,o,i,a){var s,l=e.call(this,"\\left"+i,void 0,[r,o])||this;return l.side=n,l.sides=((s={})[t]={ch:r,ctrlSeq:i},s[1]={ch:o,ctrlSeq:a},s),l}return i(n,e),n.prototype.numBlocks=function(){return 1},n.prototype.html=function(){var n=this,r=this.getSymbol(t),o=this.getSymbol(1);return this.domView=new ct(1,(function(e){return u("span",{class:"mq-non-leaf mq-bracket-container"},[u("span",{style:"width:"+r.width,class:"mq-scaled mq-bracket-l mq-paren"+(1===n.side?" mq-ghost":"")},[r.html()]),u.block("span",{style:"margin-left:"+r.width+";margin-right:"+o.width,class:"mq-bracket-middle mq-non-leaf"},e[0]),u("span",{style:"width:"+o.width,class:"mq-scaled mq-bracket-r mq-paren"+(n.side===t?" mq-ghost":"")},[o.html()])])})),e.prototype.html.call(this)},n.prototype.getSymbol=function(t){var e=this.sides[t||1].ch;return Qt[e]||{width:"0",html:""}},n.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),e.latex+="\\left"+this.sides[t].ctrlSeq,this.getEnd(t).latexRecursive(e),e.latex+="\\right"+this.sides[1].ctrlSeq,this.checkCursorContextClose(e)},n.prototype.mathspeak=function(n){var r=this.sides[t].ch,o=this.sides[1].ch;if("|"===r&&"|"===o)this.mathspeakTemplate=["StartAbsoluteValue,",", EndAbsoluteValue"],this.ariaLabel="absolute value";else{if(n&&n.createdLeftOf&&this.side){var i="";return this.side===t?i=this.textTemplate[0]:1===this.side&&(i=this.textTemplate[1]),(this.side===t?"left ":"right ")+fe[i]}this.mathspeakTemplate=["left "+fe[r]+",",", right "+fe[o]],this.ariaLabel=fe[r]+" block"}return e.prototype.mathspeak.call(this)},n.prototype.matchBrack=function(e,r,o){return o instanceof n&&o.side&&o.side!==-r&&(!e.restrictMismatchedBrackets||pe[this.sides[this.side].ch]===o.sides[o.side].ch||{"(":"]","[":")"}[this.sides[t].ch]===o.sides[1].ch)&&o},n.prototype.closeOpposing=function(e){e.side=0,e.sides[this.side]=this.sides[this.side];var n=e.delimFrags[this.side===t?t:1].removeClass("mq-ghost");this.replaceBracket(n,this.side)},n.prototype.createLeftOf=function(n){var r;if(!this.replacedFragment){var o=n.options;r="|"===this.sides[t].ch?this.matchBrack(o,1,n[1])||this.matchBrack(o,t,n[t])||this.matchBrack(o,0,n.parent.parent):this.matchBrack(o,-this.side,n[-this.side])||this.matchBrack(o,-this.side,n.parent.parent)}if(r){var i=this.side=-r.side;this.closeOpposing(r),r===n.parent.parent&&n[i]&&new k(n[i],n.parent.getEnd(i),-i).disown().withDirAdopt(-i,r.parent,r,r[i]).domFrag().insDirOf(i,r.domFrag()),r.bubble((function(t){t.reflow()}))}else i=(r=this).side,r.replacedFragment?r.side=0:n[-i]&&(r.replaces(new k(n[-i],n.parent.getEnd(-i),i)),n[-i]=0),e.prototype.createLeftOf.call(this,n);i===t?n.insAtLeftEnd(r.getEnd(t)):n.insRightOf(r)},n.prototype.placeCursor=function(){},n.prototype.unwrap=function(){this.getEnd(t).children().disown().adopt(this.parent,this,this[1]).domFrag().insertAfter(this.domFrag()),this.remove()},n.prototype.deleteSide=function(e,n,r){var o=this.parent,i=this[e],a=o.getEnd(e);if(e===this.side)return this.unwrap(),void(i?r.insDirOf(-e,i):r.insAtDirEnd(e,o));var s=r.options,l=!this.side;if(this.side=-e,this.matchBrack(s,e,this.getEnd(t).getEnd(this.side))){this.closeOpposing(this.getEnd(t).getEnd(this.side));var u=this.getEnd(t).getEnd(e);this.unwrap(),u&&u.siblingCreated(r.options,e),i?r.insDirOf(-e,i):r.insAtDirEnd(e,o)}else{if(this.matchBrack(s,e,this.parent.parent))this.parent.parent.closeOpposing(this),this.parent.parent.unwrap();else{if(n&&l)return this.unwrap(),void(i?r.insDirOf(-e,i):r.insAtDirEnd(e,o));this.sides[e]=function(t){var e=t.side,n=t.sides[e];return{ch:pe[n.ch],ctrlSeq:pe[n.ctrlSeq]}}(this),this.delimFrags[t].removeClass("mq-ghost"),this.delimFrags[1].removeClass("mq-ghost");var c=this.delimFrags[e].addClass("mq-ghost");this.replaceBracket(c,e)}if(i){var p=this.getEnd(t);u=p.getEnd(e),p.domFrag().removeClass("mq-empty"),new k(i,a,-e).disown().withDirAdopt(-e,p,u,0).domFrag().insAtDirEnd(e,p.domFrag().oneElement()),u&&u.siblingCreated(r.options,e),r.insDirOf(-e,i)}else n?r.insDirOf(e,this):r.insAtDirEnd(e,this.getEnd(t))}},n.prototype.replaceBracket=function(e,n){var r=this.getSymbol(n);if(e.children().replaceWith(y(r.html())),e.oneElement().style.width=r.width,n===t){var o=e.next();o.isEmpty()||(o.oneElement().style.marginLeft=r.width)}else{var i=e.prev();i.isEmpty()||(i.oneElement().style.marginRight=r.width)}},n.prototype.deleteTowards=function(t,e){this.deleteSide(-t,!1,e)},n.prototype.finalizeTree=function(){this.getEnd(t).deleteOutOf=function(t,e){this.parent.deleteSide(t,!0,e)},this.finalizeTree=this.intentionalBlur=function(){this.delimFrags[this.side===t?1:t].removeClass("mq-ghost"),this.side=0}},n.prototype.siblingCreated=function(t,e){e===-this.side&&this.finalizeTree()},n}(ue),pe={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{","\\{":"\\}","\\}":"\\{","&lang;":"&rang;","&rang;":"&lang;","\\langle ":"\\rangle ","\\rangle ":"\\langle ","|":"|","\\lVert ":"\\rVert ","\\rVert ":"\\lVert "},fe={"&lang;":"angle-bracket","&rang;":"angle-bracket","|":"pipe"};function he(e,n,r){n=n||e;var o=pe[e],i=pe[n];S[e]=function(){return new ce(t,e,o,n,i)},S[o]=function(){return new ce(1,e,o,n,i)},fe[e]=fe[o]=r}he("(","","parenthesis"),he("[","","bracket"),he("{","\\{","brace"),T.langle=function(){return new ce(t,"&lang;","&rang;","\\langle ","\\rangle ")},T.rangle=function(){return new ce(1,"&lang;","&rang;","\\langle ","\\rangle ")},S["|"]=function(){return new ce(t,"|","|","|","|")},T.lVert=function(){return new ce(t,"&#8741;","&#8741;","\\lVert ","\\rVert ")},T.rVert=function(){return new ce(1,"&#8741;","&#8741;","\\lVert ","\\rVert ")},T.left=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.parser=function(){var t=V.regex,e=V.string,n=V.optWhitespace;return n.then(t(/^(?:[([|]|\\\{|\\langle(?![a-zA-Z])|\\lVert(?![a-zA-Z]))/)).then((function(r){var o=r.replace(/^\\/,"");return"\\langle"==r&&(o="&lang;",r+=" "),"\\lVert"==r&&(o="&#8741;",r+=" "),et.then((function(i){return e("\\right").skip(n).then(t(/^(?:[\])|]|\\\}|\\rangle(?![a-zA-Z])|\\rVert(?![a-zA-Z]))/)).map((function(t){var e=t.replace(/^\\/,"");"\\rangle"==t&&(e="&rang;",t+=" "),"\\rVert"==t&&(e="&#8741;",t+=" ");var n=new ce(0,o,e,r,t);return n.blocks=[i],i.adopt(n,0,0),n}))}))}))},e}(pt),T.right=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.parser=function(){return V.fail("unmatched \\right")},e}(pt);var de=Qt["("],me=Qt[")"],ge=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ctrlSeq="\\binom",e.domView=new ct(2,(function(t){return u("span",{class:"mq-non-leaf mq-bracket-container"},[u("span",{style:"width:"+de.width,class:"mq-paren mq-bracket-l mq-scaled"},[de.html()]),u("span",{style:"margin-left:"+de.width+"; margin-right:"+me.width,class:"mq-non-leaf mq-bracket-middle"},[u("span",{class:"mq-array mq-non-leaf"},[u.block("span",{},t[0]),u.block("span",{},t[1])])]),u("span",{style:"width:"+me.width,class:"mq-paren mq-bracket-r mq-scaled"},[me.html()])])})),e.textTemplate=["choose(",",",")"],e.mathspeakTemplate=["StartBinomial,","Choose",", EndBinomial"],e.ariaLabel="binomial",e}return i(e,t),e}(ue);T.binom=T.binomial=ge,T.choose=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.createLeftOf=function(t){ne.prototype.createLeftOf(t)},e}(ge);var ve=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctrlSeq="\\MathQuillMathField",t.domView=new ct(1,(function(t){return u("span",{class:"mq-editable-field"},[u.block("span",{class:"mq-root-block","aria-hidden":"true"},t[0])])})),t}return i(n,e),n.prototype.parser=function(){var t=this,n=V.string,r=V.regex,o=V.succeed;return n("[").then(r(/^[a-z][a-z0-9]*/i)).skip(n("]")).map((function(e){t.name=e})).or(o(void 0)).then(e.prototype.parser.call(this))},n.prototype.finalizeTree=function(e){var n=new lt(this.getEnd(t),this.domFrag().oneElement(),e);n.KIND_OF_MQ="MathField",n.editable=!0,n.createTextarea(),n.editablesTextareaEvents(),n.cursor.insAtRightEnd(n.root),W(n.root),function t(e){if(e.parentNode&&!y(e).hasClass("mq-root-block")&&t(e.parentNode),e.nodeType===Node.ELEMENT_NODE){var n=e;"true"===n.getAttribute("aria-hidden")&&(n.removeAttribute("aria-hidden"),y(e).children().eachElement((function(t){t.setAttribute("aria-hidden","true")})))}}(this.domFrag().parent().oneElement()),this.domFrag().oneElement().removeAttribute("aria-hidden")},n.prototype.registerInnerField=function(e,n){var r=new n(this.getEnd(t).controller);e[this.name]=r,e.push(r)},n.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),this.getEnd(t).latexRecursive(e),this.checkCursorContextClose(e)},n.prototype.text=function(){return this.getEnd(t).text()},n}(pt);T.editable=T.MathQuillMathField=ve;var ye=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.setOptions=function(t){function e(){return""}return this.text=t.text||e,this.domView=new ct(0,(function(){return u("span",{},[l(t.htmlString||"")])})),this.latex=t.latex||e,this},e.prototype.latexRecursive=function(t){this.checkCursorContextOpen(t),t.latex+=this.latex(),this.checkCursorContextClose(t)},e.prototype.parser=function(){var t=this,e=V.string,n=V.regex,r=V.succeed;return e("{").then(n(/^[a-z][a-z0-9]*/i)).skip(e("}")).then((function(o){return e("[").then(n(/^[-\w\s]*/)).skip(e("]")).or(r(void 0)).map((function(e){return t.setOptions(M[o](e))}))}))},e}(ft);if(T.embed=ye,S["\\"]=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctrlSeq="\\",t.domView=new ct(1,(function(t){return u("span",{class:"mq-latex-command-input-wrapper mq-non-leaf"},[u("span",{class:"mq-latex-command-input mq-non-leaf"},[u.text("\\"),u.block("span",{},t[0])])])})),t.textTemplate=["\\"],t}return i(n,e),n.prototype.replaces=function(t){this._replacedFragment=t.disown(),this.isEmpty=function(){return!1}},n.prototype.createBlocks=function(){e.prototype.createBlocks.call(this);var n=this.getEnd(t);n.focus=function(){return this.parent.domFrag().addClass("mq-hasCursor"),this.isEmpty()&&this.parent.domFrag().removeClass("mq-empty"),this},n.blur=function(){return this.parent.domFrag().removeClass("mq-hasCursor"),this.isEmpty()&&this.parent.domFrag().addClass("mq-empty"),this},n.write=function(t,e){if(t.show().deleteSelection(),e.match(/[a-z]/i))new ht(e).createLeftOf(t),t.controller.aria.alert(e);else{var n=this.parent.renderCommand(t);t.controller.aria.queue(n.mathspeak({createdLeftOf:t})),"\\"===e&&this.isEmpty()?t.controller.aria.alert():t.parent.write(t,e)}};var r=n.keystroke;n.keystroke=function(t,e,n){if("Tab"===t||"Enter"===t||"Spacebar"===t){var o=this.parent.renderCommand(n.cursor);return n.aria.alert(o.mathspeak({createdLeftOf:n.cursor})),void(null==e||e.preventDefault())}return r.call(this,t,e,n)}},n.prototype.createLeftOf=function(t){if(e.prototype.createLeftOf.call(this,t),this._replacedFragment){var n=this.domFrag(),r=n.oneElement();this._replacedFragment.domFrag().addClass("mq-blur");var o=function(t){return t.target=r,r.dispatchEvent(t),!1};r.addEventListener("mousedown",o),r.addEventListener("mouseup",o),this._replacedFragment.domFrag().insertBefore(n.children().first())}},n.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),e.latex+="\\",this.getEnd(t).latexRecursive(e),e.latex+=" ",this.checkCursorContextClose(e)},n.prototype.renderCommand=function(e){this.setDOM(this.domFrag().children().lastElement()),this.remove(),this[1]?e.insLeftOf(this[1]):e.insAtRightEnd(this.parent);var n=this.getEnd(t).latex();n||(n=" ");var r=T[n];if(r){var o=void 0;return o=C(r)?new r(n):r(n),this._replacedFragment&&o.replaces(this._replacedFragment),o.createLeftOf(e),o}return(o=new bt).replaces(n),o.createLeftOf(e),e.insRightOf(o),this._replacedFragment&&this._replacedFragment.remove(),o},n}(pt),window.jQuery)for(var be in O=z(1))!function(t,e){"function"==typeof e?(B[t]=function(){return I(),e.apply(this,arguments)},B[t].prototype=e.prototype):B[t]=e}(be,O[be])}(),t.exports=window.MathQuill},755:function(t,e){var n;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(r,o){"use strict";var i=[],a=Object.getPrototypeOf,s=i.slice,l=i.flat?function(t){return i.flat.call(t)}:function(t){return i.concat.apply([],t)},u=i.push,c=i.indexOf,p={},f=p.toString,h=p.hasOwnProperty,d=h.toString,m=d.call(Object),g={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},y=function(t){return null!=t&&t===t.window},b=r.document,x={type:!0,src:!0,nonce:!0,noModule:!0};function w(t,e,n){var r,o,i=(n=n||b).createElement("script");if(i.text=t,e)for(r in x)(o=e[r]||e.getAttribute&&e.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function q(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?p[f.call(t)]||"object":typeof t}var E="3.6.3",k=function(t,e){return new k.fn.init(t,e)};function T(t){var e=!!t&&"length"in t&&t.length,n=q(t);return!v(t)&&!y(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}k.fn=k.prototype={jquery:E,constructor:k,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=k.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return k.each(this,t)},map:function(t){return this.pushStack(k.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:i.sort,splice:i.splice},k.extend=k.fn.extend=function(){var t,e,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)r=t[e],"__proto__"!==e&&a!==r&&(u&&r&&(k.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[e],i=o&&!Array.isArray(n)?[]:o||k.isPlainObject(n)?n:{},o=!1,a[e]=k.extend(u,i,r)):void 0!==r&&(a[e]=r));return a},k.extend({expando:"jQuery"+(E+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==f.call(t)||(e=a(t))&&("function"!=typeof(n=h.call(e,"constructor")&&e.constructor)||d.call(n)!==m))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){w(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,r=0;if(T(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(T(Object(t))?k.merge(n,"string"==typeof t?[t]:t):u.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:c.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,o=t.length;r<n;r++)t[o++]=e[r];return t.length=o,t},grep:function(t,e,n){for(var r=[],o=0,i=t.length,a=!n;o<i;o++)!e(t[o],o)!==a&&r.push(t[o]);return r},map:function(t,e,n){var r,o,i=0,a=[];if(T(t))for(r=t.length;i<r;i++)null!=(o=e(t[i],i,n))&&a.push(o);else for(i in t)null!=(o=e(t[i],i,n))&&a.push(o);return l(a)},guid:1,support:g}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=i[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){p["[object "+e+"]"]=e.toLowerCase()}));var S=function(t){var e,n,r,o,i,a,s,l,u,c,p,f,h,d,m,g,v,y,b,x="sizzle"+1*new Date,w=t.document,q=0,E=0,k=lt(),T=lt(),S=lt(),C=lt(),O=function(t,e){return t===e&&(p=!0),0},L={}.hasOwnProperty,D=[],A=D.pop,F=D.push,N=D.push,M=D.slice,_=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\["+j+"*("+I+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+j+"*\\]",P=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",H=new RegExp(j+"+","g"),z=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),$=new RegExp("^"+j+"*,"+j+"*"),W=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),U=new RegExp(j+"|>"),V=new RegExp(P),Q=new RegExp("^"+I+"$"),X={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},G=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},rt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ot=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){f()},at=xt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{N.apply(D=M.call(w.childNodes),w.childNodes),D[w.childNodes.length].nodeType}catch(t){N={apply:D.length?function(t,e){F.apply(t,M.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function st(t,e,r,o){var i,s,u,c,p,d,v,y=e&&e.ownerDocument,w=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return r;if(!o&&(f(e),e=e||h,m)){if(11!==w&&(p=J.exec(t)))if(i=p[1]){if(9===w){if(!(u=e.getElementById(i)))return r;if(u.id===i)return r.push(u),r}else if(y&&(u=y.getElementById(i))&&b(e,u)&&u.id===i)return r.push(u),r}else{if(p[2])return N.apply(r,e.getElementsByTagName(t)),r;if((i=p[3])&&n.getElementsByClassName&&e.getElementsByClassName)return N.apply(r,e.getElementsByClassName(i)),r}if(n.qsa&&!C[t+" "]&&(!g||!g.test(t))&&(1!==w||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===w&&(U.test(t)||W.test(t))){for((y=tt.test(t)&&vt(e.parentNode)||e)===e&&n.scope||((c=e.getAttribute("id"))?c=c.replace(rt,ot):e.setAttribute("id",c=x)),s=(d=a(t)).length;s--;)d[s]=(c?"#"+c:":scope")+" "+bt(d[s]);v=d.join(",")}try{if(n.cssSupportsSelector&&!CSS.supports("selector(:is("+v+"))"))throw new Error;return N.apply(r,y.querySelectorAll(v)),r}catch(e){C(t,!0)}finally{c===x&&e.removeAttribute("id")}}}return l(t.replace(z,"$1"),e,r,o)}function lt(){var t=[];return function e(n,o){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=o}}function ut(t){return t[x]=!0,t}function ct(t){var e=h.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function pt(t,e){for(var n=t.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=e}function ft(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function mt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&at(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function gt(t){return ut((function(e){return e=+e,ut((function(n,r){for(var o,i=t([],n.length,e),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=st.support={},i=st.isXML=function(t){var e=t&&t.namespaceURI,n=t&&(t.ownerDocument||t).documentElement;return!G.test(e||n&&n.nodeName||"HTML")},f=st.setDocument=function(t){var e,o,a=t?t.ownerDocument||t:w;return a!=h&&9===a.nodeType&&a.documentElement?(d=(h=a).documentElement,m=!i(h),w!=h&&(o=h.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",it,!1):o.attachEvent&&o.attachEvent("onunload",it)),n.scope=ct((function(t){return d.appendChild(t).appendChild(h.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.cssSupportsSelector=ct((function(){return CSS.supports("selector(*)")&&h.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")})),n.attributes=ct((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ct((function(t){return t.appendChild(h.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=Z.test(h.getElementsByClassName),n.getById=ct((function(t){return d.appendChild(t).id=x,!h.getElementsByName||!h.getElementsByName(x).length})),n.getById?(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n,r,o,i=e.getElementById(t);if(i){if((n=i.getAttributeNode("id"))&&n.value===t)return[i];for(o=e.getElementsByName(t),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===t)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],o=0,i=e.getElementsByTagName(t);if("*"===t){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},v=[],g=[],(n.qsa=Z.test(h.querySelectorAll))&&(ct((function(t){var e;d.appendChild(t).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+j+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+j+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+x+"-]").length||g.push("~="),(e=h.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||g.push("\\["+j+"*name"+j+"*="+j+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+x+"+*").length||g.push(".#.+[+~]"),t.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),ct((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=h.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+j+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),d.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=Z.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ct((function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",P)})),n.cssSupportsSelector||g.push(":has"),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=Z.test(d.compareDocumentPosition),b=e||Z.test(d.contains)?function(t,e){var n=9===t.nodeType&&t.documentElement||t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},O=e?function(t,e){if(t===e)return p=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t==h||t.ownerDocument==w&&b(w,t)?-1:e==h||e.ownerDocument==w&&b(w,e)?1:c?_(c,t)-_(c,e):0:4&r?-1:1)}:function(t,e){if(t===e)return p=!0,0;var n,r=0,o=t.parentNode,i=e.parentNode,a=[t],s=[e];if(!o||!i)return t==h?-1:e==h?1:o?-1:i?1:c?_(c,t)-_(c,e):0;if(o===i)return ft(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ft(a[r],s[r]):a[r]==w?-1:s[r]==w?1:0},h):h},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if(f(t),n.matchesSelector&&m&&!C[e+" "]&&(!v||!v.test(e))&&(!g||!g.test(e)))try{var r=y.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){C(e,!0)}return st(e,h,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!=h&&f(t),b(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!=h&&f(t);var o=r.attrHandle[e.toLowerCase()],i=o&&L.call(r.attrHandle,e.toLowerCase())?o(t,e,!m):void 0;return void 0!==i?i:n.attributes||!m?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},st.escape=function(t){return(t+"").replace(rt,ot)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,r=[],o=0,i=0;if(p=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(O),p){for(;e=t[i++];)e===t[i]&&(o=r.push(i));for(;o--;)t.splice(r[o],1)}return c=null,t},o=st.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=o(e);return n},r=st.selectors={cacheLength:50,createPseudo:ut,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&V.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|"+j+")"+t+"("+j+"|$)"))&&k(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var o=st.attr(r,t);return null==o?"!="===e:!e||(o+="","="===e?o===n:"!="===e?o!==n:"^="===e?n&&0===o.indexOf(n):"*="===e?n&&o.indexOf(n)>-1:"$="===e?n&&o.slice(-n.length)===n:"~="===e?(" "+o.replace(H," ")+" ").indexOf(n)>-1:"|="===e&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,o){var i="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var u,c,p,f,h,d,m=i!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(i){for(;m;){for(f=e;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;d=m="only"===t&&!d&&"nextSibling"}return!0}if(d=[a?g.firstChild:g.lastChild],a&&y){for(b=(h=(u=(c=(p=(f=g)[x]||(f[x]={}))[f.uniqueID]||(p[f.uniqueID]={}))[t]||[])[0]===q&&u[1])&&u[2],f=h&&g.childNodes[h];f=++h&&f&&f[m]||(b=h=0)||d.pop();)if(1===f.nodeType&&++b&&f===e){c[t]=[q,h,b];break}}else if(y&&(b=h=(u=(c=(p=(f=e)[x]||(f[x]={}))[f.uniqueID]||(p[f.uniqueID]={}))[t]||[])[0]===q&&u[1]),!1===b)for(;(f=++h&&f&&f[m]||(b=h=0)||d.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&((c=(p=f[x]||(f[x]={}))[f.uniqueID]||(p[f.uniqueID]={}))[t]=[q,b]),f!==e)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(t,e){var n,o=r.pseudos[t]||r.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return o[x]?o(e):o.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?ut((function(t,n){for(var r,i=o(t,e),a=i.length;a--;)t[r=_(t,i[a])]=!(n[r]=i[a])})):function(t){return o(t,0,n)}):o}},pseudos:{not:ut((function(t){var e=[],n=[],r=s(t.replace(z,"$1"));return r[x]?ut((function(t,e,n,o){for(var i,a=r(t,null,o,[]),s=t.length;s--;)(i=a[s])&&(t[s]=!(e[s]=i))})):function(t,o,i){return e[0]=t,r(e,null,i,n),e[0]=null,!n.pop()}})),has:ut((function(t){return function(e){return st(t,e).length>0}})),contains:ut((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||o(e)).indexOf(t)>-1}})),lang:ut((function(t){return Q.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:mt(!1),disabled:mt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return Y.test(t.nodeName)},input:function(t){return K.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,n){return[n<0?n+e:n]})),even:gt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:gt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:gt((function(t,e,n){for(var r=n<0?n+e:n>e?e:n;--r>=0;)t.push(r);return t})),gt:gt((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}},r.pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=dt(e);function yt(){}function bt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function xt(t,e,n){var r=e.dir,o=e.next,i=o||r,a=n&&"parentNode"===i,s=E++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,o);return!1}:function(e,n,l){var u,c,p,f=[q,s];if(l){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,l))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(c=(p=e[x]||(e[x]={}))[e.uniqueID]||(p[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[r]||e;else{if((u=c[i])&&u[0]===q&&u[1]===s)return f[2]=u[2];if(c[i]=f,f[2]=t(e,n,l))return!0}return!1}}function wt(t){return t.length>1?function(e,n,r){for(var o=t.length;o--;)if(!t[o](e,n,r))return!1;return!0}:t[0]}function qt(t,e,n,r,o){for(var i,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(i=t[s])&&(n&&!n(i,r,o)||(a.push(i),u&&e.push(s)));return a}function Et(t,e,n,r,o,i){return r&&!r[x]&&(r=Et(r)),o&&!o[x]&&(o=Et(o,i)),ut((function(i,a,s,l){var u,c,p,f=[],h=[],d=a.length,m=i||function(t,e,n){for(var r=0,o=e.length;r<o;r++)st(t,e[r],n);return n}(e||"*",s.nodeType?[s]:s,[]),g=!t||!i&&e?m:qt(m,f,t,s,l),v=n?o||(i?t:d||r)?[]:a:g;if(n&&n(g,v,s,l),r)for(u=qt(v,h),r(u,[],s,l),c=u.length;c--;)(p=u[c])&&(v[h[c]]=!(g[h[c]]=p));if(i){if(o||t){if(o){for(u=[],c=v.length;c--;)(p=v[c])&&u.push(g[c]=p);o(null,v=[],u,l)}for(c=v.length;c--;)(p=v[c])&&(u=o?_(i,p):f[c])>-1&&(i[u]=!(a[u]=p))}}else v=qt(v===a?v.splice(d,v.length):v),o?o(null,a,v,l):N.apply(a,v)}))}function kt(t){for(var e,n,o,i=t.length,a=r.relative[t[0].type],s=a||r.relative[" "],l=a?1:0,c=xt((function(t){return t===e}),s,!0),p=xt((function(t){return _(e,t)>-1}),s,!0),f=[function(t,n,r){var o=!a&&(r||n!==u)||((e=n).nodeType?c(t,n,r):p(t,n,r));return e=null,o}];l<i;l++)if(n=r.relative[t[l].type])f=[xt(wt(f),n)];else{if((n=r.filter[t[l].type].apply(null,t[l].matches))[x]){for(o=++l;o<i&&!r.relative[t[o].type];o++);return Et(l>1&&wt(f),l>1&&bt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(z,"$1"),n,l<o&&kt(t.slice(l,o)),o<i&&kt(t=t.slice(o)),o<i&&bt(t))}f.push(n)}return wt(f)}return yt.prototype=r.filters=r.pseudos,r.setFilters=new yt,a=st.tokenize=function(t,e){var n,o,i,a,s,l,u,c=T[t+" "];if(c)return e?0:c.slice(0);for(s=t,l=[],u=r.preFilter;s;){for(a in n&&!(o=$.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),n=!1,(o=W.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(z," ")}),s=s.slice(n.length)),r.filter)!(o=X[a].exec(s))||u[a]&&!(o=u[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return e?s.length:s?st.error(t):T(t,l).slice(0)},s=st.compile=function(t,e){var n,o=[],i=[],s=S[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=kt(e[n]))[x]?o.push(s):i.push(s);s=S(t,function(t,e){var n=e.length>0,o=t.length>0,i=function(i,a,s,l,c){var p,d,g,v=0,y="0",b=i&&[],x=[],w=u,E=i||o&&r.find.TAG("*",c),k=q+=null==w?1:Math.random()||.1,T=E.length;for(c&&(u=a==h||a||c);y!==T&&null!=(p=E[y]);y++){if(o&&p){for(d=0,a||p.ownerDocument==h||(f(p),s=!m);g=t[d++];)if(g(p,a||h,s)){l.push(p);break}c&&(q=k)}n&&((p=!g&&p)&&v--,i&&b.push(p))}if(v+=y,n&&y!==v){for(d=0;g=e[d++];)g(b,x,a,s);if(i){if(v>0)for(;y--;)b[y]||x[y]||(x[y]=A.call(l));x=qt(x)}N.apply(l,x),c&&!i&&x.length>0&&v+e.length>1&&st.uniqueSort(l)}return c&&(q=k,u=w),b};return n?ut(i):i}(i,o)),s.selector=t}return s},l=st.select=function(t,e,n,o){var i,l,u,c,p,f="function"==typeof t&&t,h=!o&&a(t=f.selector||t);if(n=n||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===e.nodeType&&m&&r.relative[l[1].type]){if(!(e=(r.find.ID(u.matches[0].replace(et,nt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(i=X.needsContext.test(t)?0:l.length;i--&&(u=l[i],!r.relative[c=u.type]);)if((p=r.find[c])&&(o=p(u.matches[0].replace(et,nt),tt.test(l[0].type)&&vt(e.parentNode)||e))){if(l.splice(i,1),!(t=o.length&&bt(l)))return N.apply(n,o),n;break}}return(f||s(t,h))(o,e,!m,n,!e||tt.test(t)&&vt(e.parentNode)||e),n},n.sortStable=x.split("").sort(O).join("")===x,n.detectDuplicates=!!p,f(),n.sortDetached=ct((function(t){return 1&t.compareDocumentPosition(h.createElement("fieldset"))})),ct((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||pt("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ct((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||pt("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ct((function(t){return null==t.getAttribute("disabled")}))||pt(R,(function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null})),st}(r);k.find=S,k.expr=S.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=S.uniqueSort,k.text=S.getText,k.isXMLDoc=S.isXML,k.contains=S.contains,k.escapeSelector=S.escape;var C=function(t,e,n){for(var r=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&k(t).is(n))break;r.push(t)}return r},O=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},L=k.expr.match.needsContext;function D(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function F(t,e,n){return v(e)?k.grep(t,(function(t,r){return!!e.call(t,r,t)!==n})):e.nodeType?k.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?k.grep(t,(function(t){return c.call(e,t)>-1!==n})):k.filter(e,t,n)}k.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?k.find.matchesSelector(r,t)?[r]:[]:k.find.matches(t,k.grep(e,(function(t){return 1===t.nodeType})))},k.fn.extend({find:function(t){var e,n,r=this.length,o=this;if("string"!=typeof t)return this.pushStack(k(t).filter((function(){for(e=0;e<r;e++)if(k.contains(o[e],this))return!0})));for(n=this.pushStack([]),e=0;e<r;e++)k.find(t,o[e],n);return r>1?k.uniqueSort(n):n},filter:function(t){return this.pushStack(F(this,t||[],!1))},not:function(t){return this.pushStack(F(this,t||[],!0))},is:function(t){return!!F(this,"string"==typeof t&&L.test(t)?k(t):t||[],!1).length}});var N,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(t,e,n){var r,o;if(!t)return this;if(n=n||N,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:M.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof k?e[0]:e,k.merge(this,k.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:b,!0)),A.test(r[1])&&k.isPlainObject(e))for(r in e)v(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(o=b.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==n.ready?n.ready(t):t(k):k.makeArray(t,this)}).prototype=k.fn,N=k(b);var _=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function j(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}k.fn.extend({has:function(t){var e=k(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(k.contains(this,e[t]))return!0}))},closest:function(t,e){var n,r=0,o=this.length,i=[],a="string"!=typeof t&&k(t);if(!L.test(t))for(;r<o;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,t))){i.push(n);break}return this.pushStack(i.length>1?k.uniqueSort(i):i)},index:function(t){return t?"string"==typeof t?c.call(k(t),this[0]):c.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),k.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return C(t,"parentNode")},parentsUntil:function(t,e,n){return C(t,"parentNode",n)},next:function(t){return j(t,"nextSibling")},prev:function(t){return j(t,"previousSibling")},nextAll:function(t){return C(t,"nextSibling")},prevAll:function(t){return C(t,"previousSibling")},nextUntil:function(t,e,n){return C(t,"nextSibling",n)},prevUntil:function(t,e,n){return C(t,"previousSibling",n)},siblings:function(t){return O((t.parentNode||{}).firstChild,t)},children:function(t){return O(t.firstChild)},contents:function(t){return null!=t.contentDocument&&a(t.contentDocument)?t.contentDocument:(D(t,"template")&&(t=t.content||t),k.merge([],t.childNodes))}},(function(t,e){k.fn[t]=function(n,r){var o=k.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=k.filter(r,o)),this.length>1&&(R[t]||k.uniqueSort(o),_.test(t)&&o.reverse()),this.pushStack(o)}}));var I=/[^\x20\t\r\n\f]+/g;function B(t){return t}function P(t){throw t}function H(t,e,n,r){var o;try{t&&v(o=t.promise)?o.call(t).done(e).fail(n):t&&v(o=t.then)?o.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}k.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return k.each(t.match(I)||[],(function(t,n){e[n]=!0})),e}(t):k.extend({},t);var e,n,r,o,i=[],a=[],s=-1,l=function(){for(o=o||t.once,r=e=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=i.length,n=!1);t.memory||(n=!1),e=!1,o&&(i=n?[]:"")},u={add:function(){return i&&(n&&!e&&(s=i.length-1,a.push(n)),function e(n){k.each(n,(function(n,r){v(r)?t.unique&&u.has(r)||i.push(r):r&&r.length&&"string"!==q(r)&&e(r)}))}(arguments),n&&!e&&l()),this},remove:function(){return k.each(arguments,(function(t,e){for(var n;(n=k.inArray(e,i,n))>-1;)i.splice(n,1),n<=s&&s--})),this},has:function(t){return t?k.inArray(t,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||e||(i=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},k.extend({Deferred:function(t){var e=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return k.Deferred((function(n){k.each(e,(function(e,r){var o=v(t[r[4]])&&t[r[4]];i[r[1]]((function(){var t=o&&o.apply(this,arguments);t&&v(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,o){var i=0;function a(t,e,n,o){return function(){var s=this,l=arguments,u=function(){var r,u;if(!(t<i)){if((r=n.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");u=r&&("object"==typeof r||"function"==typeof r)&&r.then,v(u)?o?u.call(r,a(i,e,B,o),a(i,e,P,o)):(i++,u.call(r,a(i,e,B,o),a(i,e,P,o),a(i,e,B,e.notifyWith))):(n!==B&&(s=void 0,l=[r]),(o||e.resolveWith)(s,l))}},c=o?u:function(){try{u()}catch(r){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(r,c.stackTrace),t+1>=i&&(n!==P&&(s=void 0,l=[r]),e.rejectWith(s,l))}};t?c():(k.Deferred.getStackHook&&(c.stackTrace=k.Deferred.getStackHook()),r.setTimeout(c))}}return k.Deferred((function(r){e[0][3].add(a(0,r,v(o)?o:B,r.notifyWith)),e[1][3].add(a(0,r,v(t)?t:B)),e[2][3].add(a(0,r,v(n)?n:P))})).promise()},promise:function(t){return null!=t?k.extend(t,o):o}},i={};return k.each(e,(function(t,r){var a=r[2],s=r[5];o[r[1]]=a.add,s&&a.add((function(){n=s}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(r[3].fire),i[r[0]]=function(){return i[r[0]+"With"](this===i?void 0:this,arguments),this},i[r[0]+"With"]=a.fireWith})),o.promise(i),t&&t.call(i,i),i},when:function(t){var e=arguments.length,n=e,r=Array(n),o=s.call(arguments),i=k.Deferred(),a=function(t){return function(n){r[t]=this,o[t]=arguments.length>1?s.call(arguments):n,--e||i.resolveWith(r,o)}};if(e<=1&&(H(t,i.done(a(n)).resolve,i.reject,!e),"pending"===i.state()||v(o[n]&&o[n].then)))return i.then();for(;n--;)H(o[n],a(n),i.reject);return i.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(t,e){r.console&&r.console.warn&&t&&z.test(t.name)&&r.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},k.readyException=function(t){r.setTimeout((function(){throw t}))};var $=k.Deferred();function W(){b.removeEventListener("DOMContentLoaded",W),r.removeEventListener("load",W),k.ready()}k.fn.ready=function(t){return $.then(t).catch((function(t){k.readyException(t)})),this},k.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==t&&--k.readyWait>0||$.resolveWith(b,[k]))}}),k.ready.then=$.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?r.setTimeout(k.ready):(b.addEventListener("DOMContentLoaded",W),r.addEventListener("load",W));var U=function(t,e,n,r,o,i,a){var s=0,l=t.length,u=null==n;if("object"===q(n))for(s in o=!0,n)U(t,e,s,n[s],!0,i,a);else if(void 0!==r&&(o=!0,v(r)||(a=!0),u&&(a?(e.call(t,r),e=null):(u=e,e=function(t,e,n){return u.call(k(t),n)})),e))for(;s<l;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return o?t:u?e.call(t):l?e(t[0],n):i},V=/^-ms-/,Q=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function G(t){return t.replace(V,"ms-").replace(Q,X)}var K=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Y(){this.expando=k.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(t){var e=t[this.expando];return e||(e={},K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,o=this.cache(t);if("string"==typeof e)o[G(e)]=n;else for(r in e)o[G(r)]=e[r];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][G(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(G):(e=G(e))in r?[e]:e.match(I)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||k.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!k.isEmptyObject(e)}};var Z=new Y,J=new Y,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}J.set(t,e,n)}else n=void 0;return n}k.extend({hasData:function(t){return J.hasData(t)||Z.hasData(t)},data:function(t,e,n){return J.access(t,e,n)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,n){return Z.access(t,e,n)},_removeData:function(t,e){Z.remove(t,e)}}),k.fn.extend({data:function(t,e){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===t){if(this.length&&(o=J.get(i),1===i.nodeType&&!Z.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=G(r.slice(5)),nt(i,r,o[r]));Z.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each((function(){J.set(this,t)})):U(this,(function(e){var n;if(i&&void 0===e)return void 0!==(n=J.get(i,t))||void 0!==(n=nt(i,t))?n:void 0;this.each((function(){J.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){J.remove(this,t)}))}}),k.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=Z.get(t,e),n&&(!r||Array.isArray(n)?r=Z.access(t,e,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=k.queue(t,e),r=n.length,o=n.shift(),i=k._queueHooks(t,e);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===e&&n.unshift("inprogress"),delete i.stop,o.call(t,(function(){k.dequeue(t,e)}),i)),!r&&i&&i.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Z.get(t,n)||Z.access(t,n,{empty:k.Callbacks("once memory").add((function(){Z.remove(t,[e+"queue",n])}))})}}),k.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?k.queue(this[0],t):void 0===e?this:this.each((function(){var n=k.queue(this,t,e);k._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&k.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){k.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,o=k.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=Z.get(i[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],at=b.documentElement,st=function(t){return k.contains(t.ownerDocument,t)},lt={composed:!0};at.getRootNode&&(st=function(t){return k.contains(t.ownerDocument,t)||t.getRootNode(lt)===t.ownerDocument});var ut=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&st(t)&&"none"===k.css(t,"display")};function ct(t,e,n,r){var o,i,a=20,s=r?function(){return r.cur()}:function(){return k.css(t,e,"")},l=s(),u=n&&n[3]||(k.cssNumber[e]?"":"px"),c=t.nodeType&&(k.cssNumber[e]||"px"!==u&&+l)&&ot.exec(k.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;a--;)k.style(t,e,c+u),(1-i)*(1-(i=s()/l||.5))<=0&&(a=0),c/=i;c*=2,k.style(t,e,c+u),n=n||[]}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=o)),o}var pt={};function ft(t){var e,n=t.ownerDocument,r=t.nodeName,o=pt[r];return o||(e=n.body.appendChild(n.createElement(r)),o=k.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),pt[r]=o,o)}function ht(t,e){for(var n,r,o=[],i=0,a=t.length;i<a;i++)(r=t[i]).style&&(n=r.style.display,e?("none"===n&&(o[i]=Z.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&ut(r)&&(o[i]=ft(r))):"none"!==n&&(o[i]="none",Z.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(t[i].style.display=o[i]);return t}k.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ut(this)?k(this).show():k(this).hide()}))}});var dt,mt,gt=/^(?:checkbox|radio)$/i,vt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,yt=/^$|^module$|\/(?:java|ecma)script/i;dt=b.createDocumentFragment().appendChild(b.createElement("div")),(mt=b.createElement("input")).setAttribute("type","radio"),mt.setAttribute("checked","checked"),mt.setAttribute("name","t"),dt.appendChild(mt),g.checkClone=dt.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!dt.cloneNode(!0).lastChild.defaultValue,dt.innerHTML="<option></option>",g.option=!!dt.lastChild;var bt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function xt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&D(t,e)?k.merge([t],n):n}function wt(t,e){for(var n=0,r=t.length;n<r;n++)Z.set(t[n],"globalEval",!e||Z.get(e[n],"globalEval"))}bt.tbody=bt.tfoot=bt.colgroup=bt.caption=bt.thead,bt.th=bt.td,g.option||(bt.optgroup=bt.option=[1,"<select multiple='multiple'>","</select>"]);var qt=/<|&#?\w+;/;function Et(t,e,n,r,o){for(var i,a,s,l,u,c,p=e.createDocumentFragment(),f=[],h=0,d=t.length;h<d;h++)if((i=t[h])||0===i)if("object"===q(i))k.merge(f,i.nodeType?[i]:i);else if(qt.test(i)){for(a=a||p.appendChild(e.createElement("div")),s=(vt.exec(i)||["",""])[1].toLowerCase(),l=bt[s]||bt._default,a.innerHTML=l[1]+k.htmlPrefilter(i)+l[2],c=l[0];c--;)a=a.lastChild;k.merge(f,a.childNodes),(a=p.firstChild).textContent=""}else f.push(e.createTextNode(i));for(p.textContent="",h=0;i=f[h++];)if(r&&k.inArray(i,r)>-1)o&&o.push(i);else if(u=st(i),a=xt(p.appendChild(i),"script"),u&&wt(a),n)for(c=0;i=a[c++];)yt.test(i.type||"")&&n.push(i);return p}var kt=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function St(){return!1}function Ct(t,e){return t===function(){try{return b.activeElement}catch(t){}}()==("focus"===e)}function Ot(t,e,n,r,o,i){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(r=r||n,n=void 0),e)Ot(t,s,n,r,e[s],i);return t}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=St;else if(!o)return t;return 1===i&&(a=o,o=function(t){return k().off(t),a.apply(this,arguments)},o.guid=a.guid||(a.guid=k.guid++)),t.each((function(){k.event.add(this,e,o,r,n)}))}function Lt(t,e,n){n?(Z.set(t,e,!1),k.event.add(t,e,{namespace:!1,handler:function(t){var r,o,i=Z.get(this,e);if(1&t.isTrigger&&this[e]){if(i.length)(k.event.special[e]||{}).delegateType&&t.stopPropagation();else if(i=s.call(arguments),Z.set(this,e,i),r=n(this,e),this[e](),i!==(o=Z.get(this,e))||r?Z.set(this,e,!1):o={},i!==o)return t.stopImmediatePropagation(),t.preventDefault(),o&&o.value}else i.length&&(Z.set(this,e,{value:k.event.trigger(k.extend(i[0],k.Event.prototype),i.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Z.get(t,e)&&k.event.add(t,e,Tt)}k.event={global:{},add:function(t,e,n,r,o){var i,a,s,l,u,c,p,f,h,d,m,g=Z.get(t);if(K(t))for(n.handler&&(n=(i=n).handler,o=i.selector),o&&k.find.matchesSelector(at,o),n.guid||(n.guid=k.guid++),(l=g.events)||(l=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(e){return void 0!==k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(I)||[""]).length;u--;)h=m=(s=kt.exec(e[u])||[])[1],d=(s[2]||"").split(".").sort(),h&&(p=k.event.special[h]||{},h=(o?p.delegateType:p.bindType)||h,p=k.event.special[h]||{},c=k.extend({type:h,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&k.expr.match.needsContext.test(o),namespace:d.join(".")},i),(f=l[h])||((f=l[h]=[]).delegateCount=0,p.setup&&!1!==p.setup.call(t,r,d,a)||t.addEventListener&&t.addEventListener(h,a)),p.add&&(p.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,c):f.push(c),k.event.global[h]=!0)},remove:function(t,e,n,r,o){var i,a,s,l,u,c,p,f,h,d,m,g=Z.hasData(t)&&Z.get(t);if(g&&(l=g.events)){for(u=(e=(e||"").match(I)||[""]).length;u--;)if(h=m=(s=kt.exec(e[u])||[])[1],d=(s[2]||"").split(".").sort(),h){for(p=k.event.special[h]||{},f=l[h=(r?p.delegateType:p.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=f.length;i--;)c=f[i],!o&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(i,1),c.selector&&f.delegateCount--,p.remove&&p.remove.call(t,c));a&&!f.length&&(p.teardown&&!1!==p.teardown.call(t,d,g.handle)||k.removeEvent(t,h,g.handle),delete l[h])}else for(h in l)k.event.remove(t,h+e[u],n,r,!0);k.isEmptyObject(l)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,n,r,o,i,a,s=new Array(arguments.length),l=k.event.fix(t),u=(Z.get(this,"events")||Object.create(null))[l.type]||[],c=k.event.special[l.type]||{};for(s[0]=l,e=1;e<arguments.length;e++)s[e]=arguments[e];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(a=k.event.handlers.call(this,l,u),e=0;(o=a[e++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==i.namespace&&!l.rnamespace.test(i.namespace)||(l.handleObj=i,l.data=i.data,void 0!==(r=((k.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,r,o,i,a,s=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(i=[],a={},n=0;n<l;n++)void 0===a[o=(r=e[n]).selector+" "]&&(a[o]=r.needsContext?k(o,this).index(u)>-1:k.find(o,this,null,[u]).length),a[o]&&i.push(r);i.length&&s.push({elem:u,handlers:i})}return u=this,l<e.length&&s.push({elem:u,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[k.expando]?t:new k.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return gt.test(e.type)&&e.click&&D(e,"input")&&Lt(e,"click",Tt),!1},trigger:function(t){var e=this||t;return gt.test(e.type)&&e.click&&D(e,"input")&&Lt(e,"click"),!0},_default:function(t){var e=t.target;return gt.test(e.type)&&e.click&&D(e,"input")&&Z.get(e,"click")||D(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},k.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},k.Event=function(t,e){if(!(this instanceof k.Event))return new k.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Tt:St,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&k.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:St,isPropagationStopped:St,isImmediatePropagationStopped:St,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Tt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Tt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Tt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(t,e){k.event.special[t]={setup:function(){return Lt(this,t,Ct),!1},trigger:function(){return Lt(this,t),!0},_default:function(e){return Z.get(e.target,t)},delegateType:e}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){k.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,o=t.relatedTarget,i=t.handleObj;return o&&(o===r||k.contains(r,o))||(t.type=i.origType,n=i.handler.apply(this,arguments),t.type=e),n}}})),k.fn.extend({on:function(t,e,n,r){return Ot(this,t,e,n,r)},one:function(t,e,n,r){return Ot(this,t,e,n,r,1)},off:function(t,e,n){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,k(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=St),this.each((function(){k.event.remove(this,t,n,e)}))}});var Dt=/<script|<style|<link/i,At=/checked\s*(?:[^=]|=\s*.checked.)/i,Ft=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Nt(t,e){return D(t,"table")&&D(11!==e.nodeType?e:e.firstChild,"tr")&&k(t).children("tbody")[0]||t}function Mt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function _t(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Rt(t,e){var n,r,o,i,a,s;if(1===e.nodeType){if(Z.hasData(t)&&(s=Z.get(t).events))for(o in Z.remove(e,"handle events"),s)for(n=0,r=s[o].length;n<r;n++)k.event.add(e,o,s[o][n]);J.hasData(t)&&(i=J.access(t),a=k.extend({},i),J.set(e,a))}}function jt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&gt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function It(t,e,n,r){e=l(e);var o,i,a,s,u,c,p=0,f=t.length,h=f-1,d=e[0],m=v(d);if(m||f>1&&"string"==typeof d&&!g.checkClone&&At.test(d))return t.each((function(o){var i=t.eq(o);m&&(e[0]=d.call(this,o,i.html())),It(i,e,n,r)}));if(f&&(i=(o=Et(e,t[0].ownerDocument,!1,t,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(s=(a=k.map(xt(o,"script"),Mt)).length;p<f;p++)u=o,p!==h&&(u=k.clone(u,!0,!0),s&&k.merge(a,xt(u,"script"))),n.call(t[p],u,p);if(s)for(c=a[a.length-1].ownerDocument,k.map(a,_t),p=0;p<s;p++)u=a[p],yt.test(u.type||"")&&!Z.access(u,"globalEval")&&k.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?k._evalUrl&&!u.noModule&&k._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):w(u.textContent.replace(Ft,""),u,c))}return t}function Bt(t,e,n){for(var r,o=e?k.filter(e,t):t,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||k.cleanData(xt(r)),r.parentNode&&(n&&st(r)&&wt(xt(r,"script")),r.parentNode.removeChild(r));return t}k.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var r,o,i,a,s=t.cloneNode(!0),l=st(t);if(!(g.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||k.isXMLDoc(t)))for(a=xt(s),r=0,o=(i=xt(t)).length;r<o;r++)jt(i[r],a[r]);if(e)if(n)for(i=i||xt(t),a=a||xt(s),r=0,o=i.length;r<o;r++)Rt(i[r],a[r]);else Rt(t,s);return(a=xt(s,"script")).length>0&&wt(a,!l&&xt(t,"script")),s},cleanData:function(t){for(var e,n,r,o=k.event.special,i=0;void 0!==(n=t[i]);i++)if(K(n)){if(e=n[Z.expando]){if(e.events)for(r in e.events)o[r]?k.event.remove(n,r):k.removeEvent(n,r,e.handle);n[Z.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),k.fn.extend({detach:function(t){return Bt(this,t,!0)},remove:function(t){return Bt(this,t)},text:function(t){return U(this,(function(t){return void 0===t?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return It(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Nt(this,t).appendChild(t)}))},prepend:function(){return It(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Nt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return It(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return It(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(k.cleanData(xt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return k.clone(this,t,e)}))},html:function(t){return U(this,(function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Dt.test(t)&&!bt[(vt.exec(t)||["",""])[1].toLowerCase()]){t=k.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(k.cleanData(xt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return It(this,arguments,(function(e){var n=this.parentNode;k.inArray(this,t)<0&&(k.cleanData(xt(this)),n&&n.replaceChild(e,this))}),t)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){k.fn[t]=function(t){for(var n,r=[],o=k(t),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),k(o[a])[e](n),u.apply(r,n.get());return this.pushStack(r)}}));var Pt=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),Ht=/^--/,zt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=r),e.getComputedStyle(t)},$t=function(t,e,n){var r,o,i={};for(o in e)i[o]=t.style[o],t.style[o]=e[o];for(o in r=n.call(t),e)t.style[o]=i[o];return r},Wt=new RegExp(it.join("|"),"i"),Ut="[\\x20\\t\\r\\n\\f]",Vt=new RegExp("^"+Ut+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ut+"+$","g");function Qt(t,e,n){var r,o,i,a,s=Ht.test(e),l=t.style;return(n=n||zt(t))&&(a=n.getPropertyValue(e)||n[e],s&&a&&(a=a.replace(Vt,"$1")||void 0),""!==a||st(t)||(a=k.style(t,e)),!g.pixelBoxStyles()&&Pt.test(a)&&Wt.test(e)&&(r=l.width,o=l.minWidth,i=l.maxWidth,l.minWidth=l.maxWidth=l.width=a,a=n.width,l.width=r,l.minWidth=o,l.maxWidth=i)),void 0!==a?a+"":a}function Xt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(u).appendChild(c);var t=r.getComputedStyle(c);n="1%"!==t.top,l=12===e(t.marginLeft),c.style.right="60%",a=36===e(t.right),o=36===e(t.width),c.style.position="absolute",i=12===e(c.offsetWidth/3),at.removeChild(u),c=null}}function e(t){return Math.round(parseFloat(t))}var n,o,i,a,s,l,u=b.createElement("div"),c=b.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===c.style.backgroundClip,k.extend(g,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),i},reliableTrDimensions:function(){var t,e,n,o;return null==s&&(t=b.createElement("table"),e=b.createElement("tr"),n=b.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",n.style.height="9px",n.style.display="block",at.appendChild(t).appendChild(e).appendChild(n),o=r.getComputedStyle(e),s=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===e.offsetHeight,at.removeChild(t)),s}}))}();var Gt=["Webkit","Moz","ms"],Kt=b.createElement("div").style,Yt={};function Zt(t){return k.cssProps[t]||Yt[t]||(t in Kt?t:Yt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Gt.length;n--;)if((t=Gt[n]+e)in Kt)return t}(t)||t)}var Jt=/^(none|table(?!-c[ea]).+)/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"};function ne(t,e,n){var r=ot.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function re(t,e,n,r,o,i){var a="width"===e?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=k.css(t,n+it[a],!0,o)),r?("content"===n&&(l-=k.css(t,"padding"+it[a],!0,o)),"margin"!==n&&(l-=k.css(t,"border"+it[a]+"Width",!0,o))):(l+=k.css(t,"padding"+it[a],!0,o),"padding"!==n?l+=k.css(t,"border"+it[a]+"Width",!0,o):s+=k.css(t,"border"+it[a]+"Width",!0,o));return!r&&i>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-i-l-s-.5))||0),l}function oe(t,e,n){var r=zt(t),o=(!g.boxSizingReliable()||n)&&"border-box"===k.css(t,"boxSizing",!1,r),i=o,a=Qt(t,e,r),s="offset"+e[0].toUpperCase()+e.slice(1);if(Pt.test(a)){if(!n)return a;a="auto"}return(!g.boxSizingReliable()&&o||!g.reliableTrDimensions()&&D(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===k.css(t,"display",!1,r))&&t.getClientRects().length&&(o="border-box"===k.css(t,"boxSizing",!1,r),(i=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+re(t,e,n||(o?"border":"content"),i,r,a)+"px"}function ie(t,e,n,r,o){return new ie.prototype.init(t,e,n,r,o)}k.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Qt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,i,a,s=G(e),l=Ht.test(e),u=t.style;if(l||(e=Zt(s)),a=k.cssHooks[e]||k.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(t,!1,r))?o:u[e];"string"==(i=typeof n)&&(o=ot.exec(n))&&o[1]&&(n=ct(t,e,o),i="number"),null!=n&&n==n&&("number"!==i||l||(n+=o&&o[3]||(k.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,r){var o,i,a,s=G(e);return Ht.test(e)||(e=Zt(s)),(a=k.cssHooks[e]||k.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,n)),void 0===o&&(o=Qt(t,e,r)),"normal"===o&&e in ee&&(o=ee[e]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),k.each(["height","width"],(function(t,e){k.cssHooks[e]={get:function(t,n,r){if(n)return!Jt.test(k.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?oe(t,e,r):$t(t,te,(function(){return oe(t,e,r)}))},set:function(t,n,r){var o,i=zt(t),a=!g.scrollboxSize()&&"absolute"===i.position,s=(a||r)&&"border-box"===k.css(t,"boxSizing",!1,i),l=r?re(t,e,r,s,i):0;return s&&a&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(i[e])-re(t,e,"border",!1,i)-.5)),l&&(o=ot.exec(n))&&"px"!==(o[3]||"px")&&(t.style[e]=n,n=k.css(t,e)),ne(0,n,l)}}})),k.cssHooks.marginLeft=Xt(g.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Qt(t,"marginLeft"))||t.getBoundingClientRect().left-$t(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(t,e){k.cssHooks[t+e]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[t+it[r]+e]=i[r]||i[r-2]||i[0];return o}},"margin"!==t&&(k.cssHooks[t+e].set=ne)})),k.fn.extend({css:function(t,e){return U(this,(function(t,e,n){var r,o,i={},a=0;if(Array.isArray(e)){for(r=zt(t),o=e.length;a<o;a++)i[e[a]]=k.css(t,e[a],!1,r);return i}return void 0!==n?k.style(t,e,n):k.css(t,e)}),t,e,arguments.length>1)}}),k.Tween=ie,ie.prototype={constructor:ie,init:function(t,e,n,r,o,i){this.elem=t,this.prop=n,this.easing=o||k.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=i||(k.cssNumber[n]?"":"px")},cur:function(){var t=ie.propHooks[this.prop];return t&&t.get?t.get(this):ie.propHooks._default.get(this)},run:function(t){var e,n=ie.propHooks[this.prop];return this.options.duration?this.pos=e=k.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ie.propHooks._default.set(this),this}},ie.prototype.init.prototype=ie.prototype,ie.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=k.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){k.fx.step[t.prop]?k.fx.step[t.prop](t):1!==t.elem.nodeType||!k.cssHooks[t.prop]&&null==t.elem.style[Zt(t.prop)]?t.elem[t.prop]=t.now:k.style(t.elem,t.prop,t.now+t.unit)}}},ie.propHooks.scrollTop=ie.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},k.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},k.fx=ie.prototype.init,k.fx.step={};var ae,se,le=/^(?:toggle|show|hide)$/,ue=/queueHooks$/;function ce(){se&&(!1===b.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(ce):r.setTimeout(ce,k.fx.interval),k.fx.tick())}function pe(){return r.setTimeout((function(){ae=void 0})),ae=Date.now()}function fe(t,e){var n,r=0,o={height:t};for(e=e?1:0;r<4;r+=2-e)o["margin"+(n=it[r])]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function he(t,e,n){for(var r,o=(de.tweeners[e]||[]).concat(de.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,e,t))return r}function de(t,e,n){var r,o,i=0,a=de.prefilters.length,s=k.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var e=ae||pe(),n=Math.max(0,u.startTime+u.duration-e),r=1-(n/u.duration||0),i=0,a=u.tweens.length;i<a;i++)u.tweens[i].run(r);return s.notifyWith(t,[u,r,n]),r<1&&a?n:(a||s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:e,originalOptions:n,startTime:ae||pe(),duration:n.duration,tweens:[],createTween:function(e,n){var r=k.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(r),r},stop:function(e){var n=0,r=e?u.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)u.tweens[n].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(function(t,e){var n,r,o,i,a;for(n in t)if(o=e[r=G(n)],i=t[n],Array.isArray(i)&&(o=i[1],i=t[n]=i[0]),n!==r&&(t[r]=i,delete t[n]),(a=k.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete t[r],i)n in t||(t[n]=i[n],e[n]=o);else e[r]=o}(c,u.opts.specialEasing);i<a;i++)if(r=de.prefilters[i].call(u,t,c,u.opts))return v(r.stop)&&(k._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return k.map(c,he,u),v(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),k.fx.timer(k.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}k.Animation=k.extend(de,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ct(n.elem,t,ot.exec(e),n),n}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(I);for(var n,r=0,o=t.length;r<o;r++)n=t[r],de.tweeners[n]=de.tweeners[n]||[],de.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,o,i,a,s,l,u,c,p="width"in e||"height"in e,f=this,h={},d=t.style,m=t.nodeType&&ut(t),g=Z.get(t,"fxshow");for(r in n.queue||(null==(a=k._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always((function(){f.always((function(){a.unqueued--,k.queue(t,"fx").length||a.empty.fire()}))}))),e)if(o=e[r],le.test(o)){if(delete e[r],i=i||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[r])continue;m=!0}h[r]=g&&g[r]||k.style(t,r)}if((l=!k.isEmptyObject(e))||!k.isEmptyObject(h))for(r in p&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(u=g&&g.display)&&(u=Z.get(t,"display")),"none"===(c=k.css(t,"display"))&&(u?c=u:(ht([t],!0),u=t.style.display||u,c=k.css(t,"display"),ht([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===k.css(t,"float")&&(l||(f.done((function(){d.display=u})),null==u&&(c=d.display,u="none"===c?"":c)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always((function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}))),l=!1,h)l||(g?"hidden"in g&&(m=g.hidden):g=Z.access(t,"fxshow",{display:u}),i&&(g.hidden=!m),m&&ht([t],!0),f.done((function(){for(r in m||ht([t]),Z.remove(t,"fxshow"),h)k.style(t,r,h[r])}))),l=he(m?g[r]:0,r,f),r in g||(g[r]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?de.prefilters.unshift(t):de.prefilters.push(t)}}),k.speed=function(t,e,n){var r=t&&"object"==typeof t?k.extend({},t):{complete:n||!n&&e||v(t)&&t,duration:t,easing:n&&e||e&&!v(e)&&e};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(t,e,n,r){return this.filter(ut).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var o=k.isEmptyObject(t),i=k.speed(e,n,r),a=function(){var e=de(this,k.extend({},t),i);(o||Z.get(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,o=null!=t&&t+"queueHooks",i=k.timers,a=Z.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&ue.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=t&&i[o].queue!==t||(i[o].anim.stop(n),e=!1,i.splice(o,1));!e&&n||k.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=Z.get(this),r=n[t+"queue"],o=n[t+"queueHooks"],i=k.timers,a=r?r.length:0;for(n.finish=!0,k.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===t&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(t,e){var n=k.fn[e];k.fn[e]=function(t,r,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(fe(e,!0),t,r,o)}})),k.each({slideDown:fe("show"),slideUp:fe("hide"),slideToggle:fe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){k.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}})),k.timers=[],k.fx.tick=function(){var t,e=0,n=k.timers;for(ae=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||k.fx.stop(),ae=void 0},k.fx.timer=function(t){k.timers.push(t),k.fx.start()},k.fx.interval=13,k.fx.start=function(){se||(se=!0,ce())},k.fx.stop=function(){se=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(t,e){return t=k.fx&&k.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var o=r.setTimeout(e,t);n.stop=function(){r.clearTimeout(o)}}))},function(){var t=b.createElement("input"),e=b.createElement("select").appendChild(b.createElement("option"));t.type="checkbox",g.checkOn=""!==t.value,g.optSelected=e.selected,(t=b.createElement("input")).value="t",t.type="radio",g.radioValue="t"===t.value}();var me,ge=k.expr.attrHandle;k.fn.extend({attr:function(t,e){return U(this,k.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){k.removeAttr(this,t)}))}}),k.extend({attr:function(t,e,n){var r,o,i=t.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===t.getAttribute?k.prop(t,e,n):(1===i&&k.isXMLDoc(t)||(o=k.attrHooks[e.toLowerCase()]||(k.expr.match.bool.test(e)?me:void 0)),void 0!==n?null===n?void k.removeAttr(t,e):o&&"set"in o&&void 0!==(r=o.set(t,n,e))?r:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(r=o.get(t,e))?r:null==(r=k.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!g.radioValue&&"radio"===e&&D(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,o=e&&e.match(I);if(o&&1===t.nodeType)for(;n=o[r++];)t.removeAttribute(n)}}),me={set:function(t,e,n){return!1===e?k.removeAttr(t,n):t.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=ge[e]||k.find.attr;ge[e]=function(t,e,r){var o,i,a=e.toLowerCase();return r||(i=ge[a],ge[a]=o,o=null!=n(t,e,r)?a:null,ge[a]=i),o}}));var ve=/^(?:input|select|textarea|button)$/i,ye=/^(?:a|area)$/i;function be(t){return(t.match(I)||[]).join(" ")}function xe(t){return t.getAttribute&&t.getAttribute("class")||""}function we(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(I)||[]}k.fn.extend({prop:function(t,e){return U(this,k.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[k.propFix[t]||t]}))}}),k.extend({prop:function(t,e,n){var r,o,i=t.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&k.isXMLDoc(t)||(e=k.propFix[e]||e,o=k.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(t,n,e))?r:t[e]=n:o&&"get"in o&&null!==(r=o.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=k.find.attr(t,"tabindex");return e?parseInt(e,10):ve.test(t.nodeName)||ye.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(k.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(t){var e,n,r,o,i,a;return v(t)?this.each((function(e){k(this).addClass(t.call(this,e,xe(this)))})):(e=we(t)).length?this.each((function(){if(r=xe(this),n=1===this.nodeType&&" "+be(r)+" "){for(i=0;i<e.length;i++)o=e[i],n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=be(n),r!==a&&this.setAttribute("class",a)}})):this},removeClass:function(t){var e,n,r,o,i,a;return v(t)?this.each((function(e){k(this).removeClass(t.call(this,e,xe(this)))})):arguments.length?(e=we(t)).length?this.each((function(){if(r=xe(this),n=1===this.nodeType&&" "+be(r)+" "){for(i=0;i<e.length;i++)for(o=e[i];n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");a=be(n),r!==a&&this.setAttribute("class",a)}})):this:this.attr("class","")},toggleClass:function(t,e){var n,r,o,i,a=typeof t,s="string"===a||Array.isArray(t);return v(t)?this.each((function(n){k(this).toggleClass(t.call(this,n,xe(this),e),e)})):"boolean"==typeof e&&s?e?this.addClass(t):this.removeClass(t):(n=we(t),this.each((function(){if(s)for(i=k(this),o=0;o<n.length;o++)r=n[o],i.hasClass(r)?i.removeClass(r):i.addClass(r);else void 0!==t&&"boolean"!==a||((r=xe(this))&&Z.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===t?"":Z.get(this,"__className__")||""))})))},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+be(xe(n))+" ").indexOf(e)>-1)return!0;return!1}});var qe=/\r/g;k.fn.extend({val:function(t){var e,n,r,o=this[0];return arguments.length?(r=v(t),this.each((function(n){var o;1===this.nodeType&&(null==(o=r?t.call(this,n,k(this).val()):t)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=k.map(o,(function(t){return null==t?"":t+""}))),(e=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))}))):o?(e=k.valHooks[o.type]||k.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(qe,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(t){var e=k.find.attr(t,"value");return null!=e?e:be(k.text(t))}},select:{get:function(t){var e,n,r,o=t.options,i=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?i+1:o.length;for(r=i<0?l:a?i:0;r<l;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(e=k(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,r,o=t.options,i=k.makeArray(e),a=o.length;a--;)((r=o[a]).selected=k.inArray(k.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(t.selectedIndex=-1),i}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=k.inArray(k(t).val(),e)>-1}},g.checkOn||(k.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),g.focusin="onfocusin"in r;var Ee=/^(?:focusinfocus|focusoutblur)$/,ke=function(t){t.stopPropagation()};k.extend(k.event,{trigger:function(t,e,n,o){var i,a,s,l,u,c,p,f,d=[n||b],m=h.call(t,"type")?t.type:t,g=h.call(t,"namespace")?t.namespace.split("."):[];if(a=f=s=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!Ee.test(m+k.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),u=m.indexOf(":")<0&&"on"+m,(t=t[k.expando]?t:new k.Event(m,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:k.makeArray(e,[t]),p=k.event.special[m]||{},o||!p.trigger||!1!==p.trigger.apply(n,e))){if(!o&&!p.noBubble&&!y(n)){for(l=p.delegateType||m,Ee.test(l+m)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(n.ownerDocument||b)&&d.push(s.defaultView||s.parentWindow||r)}for(i=0;(a=d[i++])&&!t.isPropagationStopped();)f=a,t.type=i>1?l:p.bindType||m,(c=(Z.get(a,"events")||Object.create(null))[t.type]&&Z.get(a,"handle"))&&c.apply(a,e),(c=u&&a[u])&&c.apply&&K(a)&&(t.result=c.apply(a,e),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(d.pop(),e)||!K(n)||u&&v(n[m])&&!y(n)&&((s=n[u])&&(n[u]=null),k.event.triggered=m,t.isPropagationStopped()&&f.addEventListener(m,ke),n[m](),t.isPropagationStopped()&&f.removeEventListener(m,ke),k.event.triggered=void 0,s&&(n[u]=s)),t.result}},simulate:function(t,e,n){var r=k.extend(new k.Event,n,{type:t,isSimulated:!0});k.event.trigger(r,null,e)}}),k.fn.extend({trigger:function(t,e){return this.each((function(){k.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return k.event.trigger(t,e,n,!0)}}),g.focusin||k.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){k.event.simulate(e,t.target,k.event.fix(t))};k.event.special[e]={setup:function(){var r=this.ownerDocument||this.document||this,o=Z.access(r,e);o||r.addEventListener(t,n,!0),Z.access(r,e,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=Z.access(r,e)-1;o?Z.access(r,e,o):(r.removeEventListener(t,n,!0),Z.remove(r,e))}}}));var Te=r.location,Se={guid:Date.now()},Ce=/\?/;k.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{e=(new r.DOMParser).parseFromString(t,"text/xml")}catch(t){}return n=e&&e.getElementsByTagName("parsererror")[0],e&&!n||k.error("Invalid XML: "+(n?k.map(n.childNodes,(function(t){return t.textContent})).join("\n"):t)),e};var Oe=/\[\]$/,Le=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;function Fe(t,e,n,r){var o;if(Array.isArray(e))k.each(e,(function(e,o){n||Oe.test(t)?r(t,o):Fe(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,n,r)}));else if(n||"object"!==q(e))r(t,e);else for(o in e)Fe(t+"["+o+"]",e[o],n,r)}k.param=function(t,e){var n,r=[],o=function(t,e){var n=v(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!k.isPlainObject(t))k.each(t,(function(){o(this.name,this.value)}));else for(n in t)Fe(n,t[n],e,o);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=k.prop(this,"elements");return t?k.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!k(this).is(":disabled")&&Ae.test(this.nodeName)&&!De.test(t)&&(this.checked||!gt.test(t))})).map((function(t,e){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(t){return{name:e.name,value:t.replace(Le,"\r\n")}})):{name:e.name,value:n.replace(Le,"\r\n")}})).get()}});var Ne=/%20/g,Me=/#.*$/,_e=/([?&])_=[^&]*/,Re=/^(.*?):[ \t]*([^\r\n]*)$/gm,je=/^(?:GET|HEAD)$/,Ie=/^\/\//,Be={},Pe={},He="*/".concat("*"),ze=b.createElement("a");function $e(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,o=0,i=e.toLowerCase().match(I)||[];if(v(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function We(t,e,n,r){var o={},i=t===Pe;function a(s){var l;return o[s]=!0,k.each(t[s]||[],(function(t,s){var u=s(e,n,r);return"string"!=typeof u||i||o[u]?i?!(l=u):void 0:(e.dataTypes.unshift(u),a(u),!1)})),l}return a(e.dataTypes[0])||!o["*"]&&a("*")}function Ue(t,e){var n,r,o=k.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:r||(r={}))[n]=e[n]);return r&&k.extend(!0,t,r),t}ze.href=Te.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Te.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Te.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":He,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ue(Ue(t,k.ajaxSettings),e):Ue(k.ajaxSettings,t)},ajaxPrefilter:$e(Be),ajaxTransport:$e(Pe),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o,i,a,s,l,u,c,p,f,h=k.ajaxSetup({},e),d=h.context||h,m=h.context&&(d.nodeType||d.jquery)?k(d):k.event,g=k.Deferred(),v=k.Callbacks("once memory"),y=h.statusCode||{},x={},w={},q="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(u){if(!a)for(a={};e=Re.exec(i);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return u?i:null},setRequestHeader:function(t,e){return null==u&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==u&&(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)E.always(t[E.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||q;return n&&n.abort(e),T(0,e),this}};if(g.promise(E),h.url=((t||h.url||Te.href)+"").replace(Ie,Te.protocol+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(I)||[""],null==h.crossDomain){l=b.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=ze.protocol+"//"+ze.host!=l.protocol+"//"+l.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=k.param(h.data,h.traditional)),We(Be,h,e,E),u)return E;for(p in(c=k.event&&h.global)&&0==k.active++&&k.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!je.test(h.type),o=h.url.replace(Me,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Ne,"+")):(f=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(Ce.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(_e,"$1"),f=(Ce.test(o)?"&":"?")+"_="+Se.guid+++f),h.url=o+f),h.ifModified&&(k.lastModified[o]&&E.setRequestHeader("If-Modified-Since",k.lastModified[o]),k.etag[o]&&E.setRequestHeader("If-None-Match",k.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||e.contentType)&&E.setRequestHeader("Content-Type",h.contentType),E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+He+"; q=0.01":""):h.accepts["*"]),h.headers)E.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(d,E,h)||u))return E.abort();if(q="abort",v.add(h.complete),E.done(h.success),E.fail(h.error),n=We(Pe,h,e,E)){if(E.readyState=1,c&&m.trigger("ajaxSend",[E,h]),u)return E;h.async&&h.timeout>0&&(s=r.setTimeout((function(){E.abort("timeout")}),h.timeout));try{u=!1,n.send(x,T)}catch(t){if(u)throw t;T(-1,t)}}else T(-1,"No Transport");function T(t,e,a,l){var p,f,b,x,w,q=e;u||(u=!0,s&&r.clearTimeout(s),n=void 0,i=l||"",E.readyState=t>0?4:0,p=t>=200&&t<300||304===t,a&&(x=function(t,e,n){for(var r,o,i,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==l[0]&&l.unshift(i),n[i]}(h,E,a)),!p&&k.inArray("script",h.dataTypes)>-1&&k.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),x=function(t,e,n,r){var o,i,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(i=c.shift();i;)if(t.responseFields[i]&&(n[t.responseFields[i]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=i,i=c.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=u[l+" "+i]||u["* "+i]))for(o in u)if((s=o.split(" "))[1]===i&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[o]:!0!==u[o]&&(i=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+i}}}return{state:"success",data:e}}(h,x,E,p),p?(h.ifModified&&((w=E.getResponseHeader("Last-Modified"))&&(k.lastModified[o]=w),(w=E.getResponseHeader("etag"))&&(k.etag[o]=w)),204===t||"HEAD"===h.type?q="nocontent":304===t?q="notmodified":(q=x.state,f=x.data,p=!(b=x.error))):(b=q,!t&&q||(q="error",t<0&&(t=0))),E.status=t,E.statusText=(e||q)+"",p?g.resolveWith(d,[f,q,E]):g.rejectWith(d,[E,q,b]),E.statusCode(y),y=void 0,c&&m.trigger(p?"ajaxSuccess":"ajaxError",[E,h,p?f:b]),v.fireWith(d,[E,q]),c&&(m.trigger("ajaxComplete",[E,h]),--k.active||k.event.trigger("ajaxStop")))}return E},getJSON:function(t,e,n){return k.get(t,e,n,"json")},getScript:function(t,e){return k.get(t,void 0,e,"script")}}),k.each(["get","post"],(function(t,e){k[e]=function(t,n,r,o){return v(n)&&(o=o||r,r=n,n=void 0),k.ajax(k.extend({url:t,type:e,dataType:o,data:n,success:r},k.isPlainObject(t)&&t))}})),k.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),k._evalUrl=function(t,e,n){return k.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){k.globalEval(t,e,n)}})},k.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=k(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return v(t)?this.each((function(e){k(this).wrapInner(t.call(this,e))})):this.each((function(){var e=k(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=v(t);return this.each((function(n){k(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(t){return!k.expr.pseudos.visible(t)},k.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(t){}};var Ve={0:200,1223:204},Qe=k.ajaxSettings.xhr();g.cors=!!Qe&&"withCredentials"in Qe,g.ajax=Qe=!!Qe,k.ajaxTransport((function(t){var e,n;if(g.cors||Qe&&!t.crossDomain)return{send:function(o,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);e=function(t){return function(){e&&(e=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Ve[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),n=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout((function(){e&&n()}))},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),k.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return k.globalEval(t),t}}}),k.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),k.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(r,o){e=k("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),b.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Xe,Ge=[],Ke=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ge.pop()||k.expando+"_"+Se.guid++;return this[t]=!0,t}}),k.ajaxPrefilter("json jsonp",(function(t,e,n){var o,i,a,s=!1!==t.jsonp&&(Ke.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ke.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ke,"$1"+o):!1!==t.jsonp&&(t.url+=(Ce.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||k.error(o+" was not called"),a[0]},t.dataTypes[0]="json",i=r[o],r[o]=function(){a=arguments},n.always((function(){void 0===i?k(r).removeProp(o):r[o]=i,t[o]&&(t.jsonpCallback=e.jsonpCallback,Ge.push(o)),a&&v(i)&&i(a[0]),a=i=void 0})),"script"})),g.createHTMLDocument=((Xe=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Xe.childNodes.length),k.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(g.createHTMLDocument?((r=(e=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,e.head.appendChild(r)):e=b),i=!n&&[],(o=A.exec(t))?[e.createElement(o[1])]:(o=Et([t],e,i),i&&i.length&&k(i).remove(),k.merge([],o.childNodes)));var r,o,i},k.fn.load=function(t,e,n){var r,o,i,a=this,s=t.indexOf(" ");return s>-1&&(r=be(t.slice(s)),t=t.slice(0,s)),v(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&k.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done((function(t){i=arguments,a.html(r?k("<div>").append(k.parseHTML(t)).find(r):t)})).always(n&&function(t,e){a.each((function(){n.apply(this,i||[t.responseText,e,t])}))}),this},k.expr.pseudos.animated=function(t){return k.grep(k.timers,(function(e){return t===e.elem})).length},k.offset={setOffset:function(t,e,n){var r,o,i,a,s,l,u=k.css(t,"position"),c=k(t),p={};"static"===u&&(t.style.position="relative"),s=c.offset(),i=k.css(t,"top"),l=k.css(t,"left"),("absolute"===u||"fixed"===u)&&(i+l).indexOf("auto")>-1?(a=(r=c.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),v(e)&&(e=e.call(t,n,k.extend({},s))),null!=e.top&&(p.top=e.top-s.top+a),null!=e.left&&(p.left=e.left-s.left+o),"using"in e?e.using.call(t,p):c.css(p)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){k.offset.setOffset(this,t,e)}));var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],o={top:0,left:0};if("fixed"===k.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===k.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((o=k(t).offset()).top+=k.css(t,"borderTopWidth",!0),o.left+=k.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-k.css(r,"marginTop",!0),left:e.left-o.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===k.css(t,"position");)t=t.offsetParent;return t||at}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;k.fn[t]=function(r){return U(this,(function(t,r,o){var i;if(y(t)?i=t:9===t.nodeType&&(i=t.defaultView),void 0===o)return i?i[e]:t[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):t[r]=o}),t,r,arguments.length)}})),k.each(["top","left"],(function(t,e){k.cssHooks[e]=Xt(g.pixelPosition,(function(t,n){if(n)return n=Qt(t,e),Pt.test(n)?k(t).position()[e]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(t,e){k.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,r){k.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===i?"margin":"border");return U(this,(function(e,n,o){var i;return y(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===o?k.css(e,n,s):k.style(e,n,o,s)}),e,a?o:void 0,a)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){k.fn[e]=function(t){return this.on(e,t)}})),k.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){k.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Ye=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;k.proxy=function(t,e){var n,r,o;if("string"==typeof e&&(n=t[e],e=t,t=n),v(t))return r=s.call(arguments,2),o=function(){return t.apply(e||this,r.concat(s.call(arguments)))},o.guid=t.guid=t.guid||k.guid++,o},k.holdReady=function(t){t?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=D,k.isFunction=v,k.isWindow=y,k.camelCase=G,k.type=q,k.now=Date.now,k.isNumeric=function(t){var e=k.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},k.trim=function(t){return null==t?"":(t+"").replace(Ye,"$1")},void 0===(n=function(){return k}.apply(e,[]))||(t.exports=n);var Ze=r.jQuery,Je=r.$;return k.noConflict=function(t){return r.$===k&&(r.$=Je),t&&r.jQuery===k&&(r.jQuery=Ze),k},void 0===o&&(r.jQuery=r.$=k),k}))},834:(t,e,n)=>{"use strict";var r=n(414);function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},697:(t,e,n)=>{t.exports=n(834)()},414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},156:e=>{"use strict";e.exports=t}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={id:t,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{"use strict";r.r(o),r.d(o,{EditableMathField:()=>n,StaticMathField:()=>i,addStyles:()=>e,default:()=>a});var t=r(565);function e(){if(null==document.getElementById("react-mathquill-styles")){var e=document.createElement("style");e.setAttribute("id","react-mathquill-styles"),e.innerHTML=t.Z[0][1],document.getElementsByTagName("head")[0].appendChild(e)}}var n=r(991).Z,i=r(717).Z;const a=n})(),o})()));